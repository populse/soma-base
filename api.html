
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SubModule: activate_virtualenv &#8212; Soma-base 5.1.0 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Soma-base documentation" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="index.html" title="Soma-base documentation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Soma-base 5.1.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">SubModule: <code class="docutils literal notranslate"><span class="pre">activate_virtualenv</span></code></a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-soma.activate_virtualenv">
<span id="submodule-activate-virtualenv"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">activate_virtualenv</span></code><a class="headerlink" href="#module-soma.activate_virtualenv" title="Permalink to this headline">¶</a></h1>
<p>Importation of this module activate a
<a class="reference external" href="https://virtualenv.pypa.io/">virtualenv</a> if
<code class="docutils literal notranslate"><span class="pre">os.environ['SOMA_VIRTUALENV']</span></code> contains the directory path of the
<em>virutalenv</em>.</p>
<p>This module makes it possible to use a specific <em>virtualenv</em> directory in
contexts where it is difficult activate it (for instance in crontab). For
instance, a script importing cubicweb the following way:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">soma</span> <span class="kn">import</span> <span class="n">activate_virtualenv</span>
<span class="kn">import</span> <span class="nn">cubicweb</span>
</pre></div>
</div>
<p>can be set to use a specific <em>virutalenv</em> install of <em>cubicweb</em>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>env <span class="nv">SOMA_VIRTUALENV</span><span class="o">=</span>/path/to/virutalenv python /path/to/script.py
</pre></div>
</div>
</div>
<div class="section" id="module-soma.application">
<span id="submodule-application"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">application</span></code><a class="headerlink" href="#module-soma.application" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>author: Yann Cointepas</p></li>
<li><p>organization: NeuroSpin</p></li>
<li><p>license: <a class="reference external" href="http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.html">CeCILL B</a></p></li>
</ul>
<dl class="py class">
<dt id="soma.application.Application">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.application.</span></code><code class="sig-name descname"><span class="pre">Application</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/application.html#Application"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.application.Application" title="Permalink to this definition">¶</a></dt>
<dd><p>Any program using soma should create an Application instance to manage
its configuration and to store any kind of value that have to be global to
the program.</p>
<p>The __init__ method of <code class="xref py py-class docutils literal notranslate"><span class="pre">Singleton</span></code> derived class should do
nothing.
Derived classes must define <code class="xref py py-meth docutils literal notranslate"><span class="pre">__singleton_init__()</span></code> instead of __init__.</p>
<dl class="py method">
<dt id="soma.application.Application.initialize">
<code class="sig-name descname"><span class="pre">initialize</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/application.html#Application.initialize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.application.Application.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>This method must be called once to setup the application.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.application.Application.load_plugin_module">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">load_plugin_module</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plugin_module</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/application.html#Application.load_plugin_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.application.Application.load_plugin_module" title="Permalink to this definition">¶</a></dt>
<dd><p>This method loads a plugin module. It imports the module without raising
an exception if it fails.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-soma.archive">
<span id="submodule-archive"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">archive</span></code><a class="headerlink" href="#module-soma.archive" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="soma.archive.is_archive">
<code class="sig-prename descclassname"><span class="pre">soma.archive.</span></code><code class="sig-name descname"><span class="pre">is_archive</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/archive.html#is_archive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.archive.is_archive" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if filename is an archive and false otherwise.</p>
</dd></dl>

<dl class="py function">
<dt id="soma.archive.pack">
<code class="sig-prename descclassname"><span class="pre">soma.archive.</span></code><code class="sig-name descname"><span class="pre">pack</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sources</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/archive.html#pack"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.archive.pack" title="Permalink to this definition">¶</a></dt>
<dd><p>Packs the source_dir directory in the output_filename archive.</p>
</dd></dl>

<dl class="py function">
<dt id="soma.archive.pack_tar">
<code class="sig-prename descclassname"><span class="pre">soma.archive.</span></code><code class="sig-name descname"><span class="pre">pack_tar</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sources</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gz'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/archive.html#pack_tar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.archive.pack_tar" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a tar archive in output_filename from the source_dir directory.</p>
</dd></dl>

<dl class="py function">
<dt id="soma.archive.pack_zip">
<code class="sig-prename descclassname"><span class="pre">soma.archive.</span></code><code class="sig-name descname"><span class="pre">pack_zip</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sources</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/archive.html#pack_zip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.archive.pack_zip" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a zip archive in output_filename from the source_dir directory.</p>
</dd></dl>

<dl class="py function">
<dt id="soma.archive.unpack">
<code class="sig-prename descclassname"><span class="pre">soma.archive.</span></code><code class="sig-name descname"><span class="pre">unpack</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extract_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/archive.html#unpack"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.archive.unpack" title="Permalink to this definition">¶</a></dt>
<dd><p>Unpacks the input_filename archive to the extract_dir directory.</p>
</dd></dl>

<dl class="py function">
<dt id="soma.archive.untar">
<code class="sig-prename descclassname"><span class="pre">soma.archive.</span></code><code class="sig-name descname"><span class="pre">untar</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extract_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/archive.html#untar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.archive.untar" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts the input_filename archive to the extract_dir directory.</p>
</dd></dl>

<dl class="py function">
<dt id="soma.archive.unzip">
<code class="sig-prename descclassname"><span class="pre">soma.archive.</span></code><code class="sig-name descname"><span class="pre">unzip</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extract_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/archive.html#unzip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.archive.unzip" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts the input_filename archive to the extract_dir directory.</p>
</dd></dl>

</div>
<div class="section" id="module-soma.bufferandfile">
<span id="submodule-bufferandfile"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">bufferandfile</span></code><a class="headerlink" href="#module-soma.bufferandfile" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="#soma.bufferandfile.BufferAndFile" title="soma.bufferandfile.BufferAndFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">BufferAndFile</span></code></a> instances are used to read data from a file (for
instance for identification) and “put back” the data on the file.</p>
<ul class="simple">
<li><p>author: Yann Cointepas</p></li>
<li><p>organization: NeuroSpin</p></li>
<li><p>license: <a class="reference external" href="http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.html">CeCILL B</a></p></li>
</ul>
<dl class="py class">
<dt id="soma.bufferandfile.BufferAndFile">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.bufferandfile.</span></code><code class="sig-name descname"><span class="pre">BufferAndFile</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_object</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/bufferandfile.html#BufferAndFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.bufferandfile.BufferAndFile" title="Permalink to this definition">¶</a></dt>
<dd><p>This class is a read only file-like object that allows to read ahead and
push data back into the stream. All pushed back data are stored in a buffer
that is “read” by all subsequent read acces until it is empty. When the
buffer is empty, reading is done directly on the attached file object.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">soma.bufferandfile</span> <span class="kn">import</span> <span class="n">BufferAndFile</span>

<span class="c1"># Open a file with a buffer</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">BufferAndFile</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">fileName</span><span class="p">)</span>
<span class="c1"># Check that the file content is XML</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="c1"># Put back the read characters</span>
<span class="n">f</span><span class="o">.</span><span class="n">unread</span><span class="p">(</span> <span class="n">start</span> <span class="p">)</span>
<span class="k">if</span> <span class="n">start</span> <span class="o">==</span> <span class="s1">&#39;&lt;?xml&#39;</span><span class="p">:</span>
    <span class="c1"># Use the file in an XML parser</span>
    <span class="o">...</span>
<span class="k">elif</span> <span class="n">start</span> <span class="o">==</span> <span class="s1">&#39;&amp;HDF&#39;</span><span class="p">:</span>
    <span class="c1"># Use the file in an HDF5 parser</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Create a file-like object that adds an <a class="reference internal" href="#soma.bufferandfile.BufferAndFile.unread" title="soma.bufferandfile.BufferAndFile.unread"><code class="xref py py-meth docutils literal notranslate"><span class="pre">unread()</span></code></a> method to an
opened <code class="docutils literal notranslate"><span class="pre">file_object</span></code>.</p>
<dl class="py method">
<dt id="soma.bufferandfile.BufferAndFile.change_file">
<code class="sig-name descname"><span class="pre">change_file</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_object</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/bufferandfile.html#BufferAndFile.change_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.bufferandfile.BufferAndFile.change_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the internal file object (keeps the internal buffer untouched).</p>
</dd></dl>

<dl class="py method">
<dt id="soma.bufferandfile.BufferAndFile.clone">
<code class="sig-name descname"><span class="pre">clone</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/bufferandfile.html#BufferAndFile.clone"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.bufferandfile.BufferAndFile.clone" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new L{BufferAndFile} instance with the same internale buffer and
the same internal file object as C{self}.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.bufferandfile.BufferAndFile.next">
<code class="sig-name descname"><span class="pre">next</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/bufferandfile.html#BufferAndFile.next"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.bufferandfile.BufferAndFile.next" title="Permalink to this definition">¶</a></dt>
<dd><p>Iteration protocol</p>
</dd></dl>

<dl class="py method">
<dt id="soma.bufferandfile.BufferAndFile.open">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">open</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/bufferandfile.html#BufferAndFile.open"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.bufferandfile.BufferAndFile.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a file with built-in <a class="reference external" href="https://docs.python.org/3.5/library/functions.html#open" title="(in Python v3.5)"><code class="docutils literal notranslate"><span class="pre">open()</span></code></a> and create a
<a class="reference internal" href="#soma.bufferandfile.BufferAndFile" title="soma.bufferandfile.BufferAndFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">BufferAndFile</span></code></a> instance.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.bufferandfile.BufferAndFile.read">
<code class="sig-name descname"><span class="pre">read</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/bufferandfile.html#BufferAndFile.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.bufferandfile.BufferAndFile.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the file</p>
</dd></dl>

<dl class="py method">
<dt id="soma.bufferandfile.BufferAndFile.readline">
<code class="sig-name descname"><span class="pre">readline</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/bufferandfile.html#BufferAndFile.readline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.bufferandfile.BufferAndFile.readline" title="Permalink to this definition">¶</a></dt>
<dd><p>Read one text line</p>
</dd></dl>

<dl class="py method">
<dt id="soma.bufferandfile.BufferAndFile.seek">
<code class="sig-name descname"><span class="pre">seek</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">offset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">whence</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/bufferandfile.html#BufferAndFile.seek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.bufferandfile.BufferAndFile.seek" title="Permalink to this definition">¶</a></dt>
<dd><p>If <code class="docutils literal notranslate"><span class="pre">whence</span></code> is 0 or 2 (absolute seek positioning) or if offset is
negative, internal buffer is cleared and seek is done directly on the
internal file object. Otherwise (relative seek with a positive offset),
internal buffer is taken into account.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.bufferandfile.BufferAndFile.tell">
<code class="sig-name descname"><span class="pre">tell</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/bufferandfile.html#BufferAndFile.tell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.bufferandfile.BufferAndFile.tell" title="Permalink to this definition">¶</a></dt>
<dd><p>Position in file</p>
</dd></dl>

<dl class="py method">
<dt id="soma.bufferandfile.BufferAndFile.unread">
<code class="sig-name descname"><span class="pre">unread</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string_value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/bufferandfile.html#BufferAndFile.unread"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.bufferandfile.BufferAndFile.unread" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds data at the begining of the internal buffer. Data in the internal
buffer will be returned by all subsequent read acces until the buffer is empty.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-soma.config">
<span id="submodule-config"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">config</span></code><a class="headerlink" href="#module-soma.config" title="Permalink to this headline">¶</a></h1>
<p>Config module that sets up version variable and finds the
<a class="reference external" href="http://brainvisa.info">BrainVISA</a> <cite>brainvisa-share</cite> data directory.</p>
<dl class="py attribute">
<dt id="soma.config.fullVersion">
<code class="sig-prename descclassname"><span class="pre">soma.config.</span></code><code class="sig-name descname"><span class="pre">fullVersion</span></code><a class="headerlink" href="#soma.config.fullVersion" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="soma.config.shortVersion">
<code class="sig-prename descclassname"><span class="pre">soma.config.</span></code><code class="sig-name descname"><span class="pre">shortVersion</span></code><a class="headerlink" href="#soma.config.shortVersion" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="soma.config.full_version">
<code class="sig-prename descclassname"><span class="pre">soma.config.</span></code><code class="sig-name descname"><span class="pre">full_version</span></code><a class="headerlink" href="#soma.config.full_version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="soma.config.short_version">
<code class="sig-prename descclassname"><span class="pre">soma.config.</span></code><code class="sig-name descname"><span class="pre">short_version</span></code><a class="headerlink" href="#soma.config.short_version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="soma.config.BRAINVISA_SHARE">
<code class="sig-prename descclassname"><span class="pre">soma.config.</span></code><code class="sig-name descname"><span class="pre">BRAINVISA_SHARE</span></code><a class="headerlink" href="#soma.config.BRAINVISA_SHARE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="submodule-controller-traits-based-controller-objects">
<span id="controller"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">controller</span></code>: Traits-based controller objects<a class="headerlink" href="#submodule-controller-traits-based-controller-objects" title="Permalink to this headline">¶</a></h1>
<div class="section" id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#soma.controller.controller.Controller" title="soma.controller.controller.Controller"><code class="xref py py-class docutils literal notranslate"><span class="pre">soma.controller.controller.Controller</span></code></a></p></li>
</ul>
</div>
<div class="section" id="module-soma.controller">
<span id="api"></span><h2>API<a class="headerlink" href="#module-soma.controller" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-soma.controller.controller"></span><dl class="py class">
<dt id="soma.controller.controller.Controller">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.controller.controller.</span></code><code class="sig-name descname"><span class="pre">Controller</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/controller/controller.html#Controller"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.controller.controller.Controller" title="Permalink to this definition">¶</a></dt>
<dd><p>A Controller contains some traits: attributes typing and observer
(callback) pattern.</p>
<p>The class provides some methods to add/remove/inspect user defined traits.</p>
<dl class="py attribute">
<dt>
<code class="sig-name descname"><span class="pre">`user_traits_changed`</span></code></dt>
<dd><p>single event that can be sent when several traits changes. This event
has to be triggered explicitely to take into account changes due to
call(s) to add_trait or remove_trait.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Event</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.controller.controller.Controller.user_traits">
<code class="sig-name descname"><span class="pre">user_traits</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/controller/controller.html#Controller.user_traits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.controller.controller.Controller.user_traits" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="soma.controller.controller.Controller.is_user_trait">
<code class="sig-name descname"><span class="pre">is_user_trait</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/controller/controller.html#Controller.is_user_trait"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.controller.controller.Controller.is_user_trait" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="soma.controller.controller.Controller.add_trait">
<code class="sig-name descname"><span class="pre">add_trait</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/controller/controller.html#Controller.add_trait"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.controller.controller.Controller.add_trait" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="soma.controller.controller.Controller.remove_trait">
<code class="sig-name descname"><span class="pre">remove_trait</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/controller/controller.html#Controller.remove_trait"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.controller.controller.Controller.remove_trait" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="soma.controller.controller.Controller._clone_trait">
<code class="sig-name descname"><span class="pre">_clone_trait</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/controller/controller.html#Controller._clone_trait"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.controller.controller.Controller._clone_trait" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Initilaize the Controller class.</p>
<p>During the class initialization create a class attribute
‘_user_traits’ that contains all the class traits and instance traits
defined by user (i.e.  the traits that are not automatically
defined by HasTraits or Controller). We can access this class
parameter with the ‘user_traits’ method.</p>
<p>If user trait parameters are defined directly on derived class, this
procedure call the ‘add_trait’ method in order to not share
user traits between instances.</p>
<dl class="py method">
<dt id="id0">
<code class="sig-name descname"><span class="pre">add_trait</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">trait</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/controller/controller.html#Controller.add_trait"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id0" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new trait.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em> (</em><em>mandatory</em><em>)</em>) – the trait name.</p></li>
<li><p><strong>trait</strong> (<em>traits.api</em><em> (</em><em>mandatory</em><em>)</em>) – a valid trait.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.controller.controller.Controller.checked_trait">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">checked_trait</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trait</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/controller/controller.html#Controller.checked_trait"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.controller.controller.Controller.checked_trait" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the trait and build a new one if needed.</p>
<p>This function mainly checks the default value of the given trait,
and tests in some ways whether it is valid ot not. If not, a new
trait is created to replace it.</p>
<p>For now it just checks that lists with a non-null minlen will actually
get a default value which is a list with this minimum size. Otherwise
it causes exceptions in the traits notification system at some point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>trait</strong> (<em>Trait instance to be checked</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>new_trait</strong> – the returned trait may be the input one (trait), or a new one if
it had to be modified.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Trait instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.controller.controller.Controller.copy">
<code class="sig-name descname"><span class="pre">copy</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_values</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/controller/controller.html#Controller.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.controller.controller.Controller.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy traits definitions to a new Controller object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>with_values</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default: False</em><em>)</em>) – if True, traits values will be copied, otherwise the defaut trait
value will be left in the copy.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>copied</strong> – the returned copy will have the same class as the copied object
(which may be a derived class from Controller). Traits definitions
will be copied. Traits values will only be copied if with_values is
True.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Controller instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.controller.controller.Controller.export_to_dict">
<code class="sig-name descname"><span class="pre">export_to_dict</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">exclude_undefined=False</span></em>, <em class="sig-param"><span class="pre">exclude_transient=False</span></em>, <em class="sig-param"><span class="pre">exclude_none=False</span></em>, <em class="sig-param"><span class="pre">exclude_empty=False</span></em>, <em class="sig-param"><span class="pre">dict_class=&lt;class</span> <span class="pre">'collections.OrderedDict'&gt;</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/controller/controller.html#Controller.export_to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.controller.controller.Controller.export_to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>return the controller state to a dictionary, replacing controller
values in sub-trees to dicts also.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exclude_undefined</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a><em> (</em><em>optional</em><em>)</em>) – if set, do not export Undefined values</p></li>
<li><p><strong>exclude_transient</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a><em> (</em><em>optional</em><em>)</em>) – if set, do not export values whose trait is marked “transcient”</p></li>
<li><p><strong>exclude_none</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a><em> (</em><em>optional</em><em>)</em>) – if set, do not export None values</p></li>
<li><p><strong>exclude_empty</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a><em> (</em><em>optional</em><em>)</em>) – if set, do not export empty lists/dicts values</p></li>
<li><p><strong>dict_class</strong> (<em>class type</em><em> (</em><em>optional</em><em>, </em><em>default: soma.sorted_dictionary.OrderedDict</em><em>)</em>) – use this type of mapping type to represent controllers. It should
follow the mapping protocol API.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.controller.controller.Controller.import_from_dict">
<code class="sig-name descname"><span class="pre">import_from_dict</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clear</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/controller/controller.html#Controller.import_from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.controller.controller.Controller.import_from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Set Controller variables from a dictionary. When setting values on
Controller instances (in the Controller sub-tree), replace dictionaries
by Controller instances appropriately.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state_dict</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#dict" title="(in Python v3.5)"><em>dict</em></a><em>, </em><em>sorted_dictionary</em><em> or </em><em>OrderedDict</em>) – dict containing the variables to set</p></li>
<li><p><strong>clear</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default: False</em><em>)</em>) – if True, older values (in keys not listed in state_dict) will be
cleared, otherwise they are left in place.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.controller.controller.Controller.is_parameter_protected">
<code class="sig-name descname"><span class="pre">is_parameter_protected</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/controller/controller.html#Controller.is_parameter_protected"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.controller.controller.Controller.is_parameter_protected" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether the given parameter is protected or not</p>
</dd></dl>

<dl class="py method">
<dt id="id2">
<code class="sig-name descname"><span class="pre">is_user_trait</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trait</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/controller/controller.html#Controller.is_user_trait"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id2" title="Permalink to this definition">¶</a></dt>
<dd><p>Method that evaluate if a trait is a user parameter
(i.e. not an Event).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>out</strong> – True if the trait is a user trait,
False otherwise.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.controller.controller.Controller.protect_parameter">
<code class="sig-name descname"><span class="pre">protect_parameter</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/controller/controller.html#Controller.protect_parameter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.controller.controller.Controller.protect_parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Protect the named parameter.</p>
<p>Protecting is not a real lock, it just marks the parameter a list of
“protected” parameters. This is typically used to mark values that have
been set manually by the user (using the ControllerWidget for instance)
and that should not be later modified by automatic parameters tweaking
(such as completion systems).</p>
<p>Protected parameters are listed in an additional trait,
“protected_parameters”.</p>
<p>If the “state” parameter is False, then we will unprotect it
(calling unprotect_parameter())</p>
</dd></dl>

<dl class="py method">
<dt id="id3">
<code class="sig-name descname"><span class="pre">remove_trait</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/controller/controller.html#Controller.remove_trait"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id3" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a trait from its name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em> (</em><em>mandatory</em><em>)</em>) – the trait name to remove.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.controller.controller.Controller.reorder_traits">
<code class="sig-name descname"><span class="pre">reorder_traits</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">traits_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/controller/controller.html#Controller.reorder_traits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.controller.controller.Controller.reorder_traits" title="Permalink to this definition">¶</a></dt>
<dd><p>Reorder traits in the controller according to a new ordered list.</p>
<p>If the new list does not contain all user traits, the remaining ones
will be appended at the end.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>traits_list</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)"><em>list</em></a>) – New list of trait names. This list order will be kept.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.controller.controller.Controller.unprotect_parameter">
<code class="sig-name descname"><span class="pre">unprotect_parameter</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/controller/controller.html#Controller.unprotect_parameter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.controller.controller.Controller.unprotect_parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Unprotect the named parameter</p>
</dd></dl>

<dl class="py method">
<dt id="id4">
<code class="sig-name descname"><span class="pre">user_traits</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/controller/controller.html#Controller.user_traits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id4" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to access the user parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>out</strong> – a dictionnary containing class traits and instance traits
defined by user (i.e.  the traits that are not automatically
defined by HasTraits or Controller). Returned values are
sorted according to the ‘order’ trait meta-attribute.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#dict" title="(in Python v3.5)">dict</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="soma.controller.controller.ControllerTrait">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.controller.controller.</span></code><code class="sig-name descname"><span class="pre">ControllerTrait</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">controller</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inner_trait</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/controller/controller.html#ControllerTrait"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.controller.controller.ControllerTrait" title="Permalink to this definition">¶</a></dt>
<dd><p>A specialized trait type for Controller values.</p>
<p>Build a Controller valued trait.</p>
<p>Contrarily to Instance(Controller), it ensures better validation when
assigning values.</p>
<p>It has the ability to convert values from dictionaries, so the trait
value can be assigned with a dict, whereas it is actually a Controller.
This works recursively if the controller contains traits which are also
controllers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>controller</strong> (<em>Controller instance</em><em> (</em><em>mandatory</em><em>)</em>) – default value for trait, and placeholder for allowed traits</p></li>
<li><p><strong>inner_trait</strong> (<em>Trait instance</em><em> (</em><em>optional</em><em>)</em>) – if provided, the controller is assumed to be an “open key” type,
new keys/traits can be added on the fly like in a dictionary, and
this inner_trait is the trait type used to instantiate new
traits when new keys are encountered while setting values.
If inner_trait is not provided, we will look if the controller
instance is an OpenKeyController, and in such case, take its value
trait.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="soma.controller.controller.ControllerTrait.inner_traits">
<code class="sig-name descname"><span class="pre">inner_traits</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/controller/controller.html#ControllerTrait.inner_traits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.controller.controller.ControllerTrait.inner_traits" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a tuple containing the <em>inner traits</em> for this trait. Most
trait handlers do not have any inner traits, and so will return an
empty tuple. The exceptions are <strong>List</strong> and <strong>Dict</strong> trait types,
which have inner traits used to validate the values assigned to the
trait. For example, in <em>List( Int )</em>, the <em>inner traits</em> for
<strong>List</strong> are ( <strong>Int</strong>, ).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="soma.controller.controller.JsonControllerDecoder">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.controller.controller.</span></code><code class="sig-name descname"><span class="pre">JsonControllerDecoder</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/controller/controller.html#JsonControllerDecoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.controller.controller.JsonControllerDecoder" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">object_hook</span></code>, if specified, will be called with the result
of every JSON object decoded and its return value will be used in
place of the given <code class="docutils literal notranslate"><span class="pre">dict</span></code>.  This can be used to provide custom
deserializations (e.g. to support JSON-RPC class hinting).</p>
<p><code class="docutils literal notranslate"><span class="pre">object_pairs_hook</span></code>, if specified will be called with the result of
every JSON object decoded with an ordered list of pairs.  The return
value of <code class="docutils literal notranslate"><span class="pre">object_pairs_hook</span></code> will be used instead of the <code class="docutils literal notranslate"><span class="pre">dict</span></code>.
This feature can be used to implement custom decoders that rely on the
order that the key and value pairs are decoded (for example,
collections.OrderedDict will remember the order of insertion). If
<code class="docutils literal notranslate"><span class="pre">object_hook</span></code> is also defined, the <code class="docutils literal notranslate"><span class="pre">object_pairs_hook</span></code> takes
priority.</p>
<p><code class="docutils literal notranslate"><span class="pre">parse_float</span></code>, if specified, will be called with the string
of every JSON float to be decoded. By default this is equivalent to
float(num_str). This can be used to use another datatype or parser
for JSON floats (e.g. decimal.Decimal).</p>
<p><code class="docutils literal notranslate"><span class="pre">parse_int</span></code>, if specified, will be called with the string
of every JSON int to be decoded. By default this is equivalent to
int(num_str). This can be used to use another datatype or parser
for JSON integers (e.g. float).</p>
<p><code class="docutils literal notranslate"><span class="pre">parse_constant</span></code>, if specified, will be called with one of the
following strings: -Infinity, Infinity, NaN.
This can be used to raise an exception if invalid JSON numbers
are encountered.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">strict</span></code> is false (true is the default), then control
characters will be allowed inside strings.  Control characters in
this context are those with character codes in the 0-31 range,
including <code class="docutils literal notranslate"><span class="pre">'\t'</span></code> (tab), <code class="docutils literal notranslate"><span class="pre">'\n'</span></code>, <code class="docutils literal notranslate"><span class="pre">'\r'</span></code> and <code class="docutils literal notranslate"><span class="pre">'\0'</span></code>.</p>
</dd></dl>

<dl class="py class">
<dt id="soma.controller.controller.JsonControllerEncoder">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.controller.controller.</span></code><code class="sig-name descname"><span class="pre">JsonControllerEncoder</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skipkeys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensure_ascii</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_circular</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_nan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separators</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/controller/controller.html#JsonControllerEncoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.controller.controller.JsonControllerEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor for JSONEncoder, with sensible defaults.</p>
<p>If skipkeys is false, then it is a TypeError to attempt
encoding of keys that are not str, int, float or None.  If
skipkeys is True, such items are simply skipped.</p>
<p>If ensure_ascii is true, the output is guaranteed to be str
objects with all incoming non-ASCII characters escaped.  If
ensure_ascii is false, the output can contain non-ASCII characters.</p>
<p>If check_circular is true, then lists, dicts, and custom encoded
objects will be checked for circular references during encoding to
prevent an infinite recursion (which would cause an OverflowError).
Otherwise, no such check takes place.</p>
<p>If allow_nan is true, then NaN, Infinity, and -Infinity will be
encoded as such.  This behavior is not JSON specification compliant,
but is consistent with most JavaScript based encoders and decoders.
Otherwise, it will be a ValueError to encode such floats.</p>
<p>If sort_keys is true, then the output of dictionaries will be
sorted by key; this is useful for regression tests to ensure
that JSON serializations can be compared on a day-to-day basis.</p>
<p>If indent is a non-negative integer, then JSON array
elements and object members will be pretty-printed with that
indent level.  An indent level of 0 will only insert newlines.
None is the most compact representation.</p>
<p>If specified, separators should be an (item_separator, key_separator)
tuple.  The default is (‘, ‘, ‘: ‘) if <em>indent</em> is <code class="docutils literal notranslate"><span class="pre">None</span></code> and
(‘,’, ‘: ‘) otherwise.  To get the most compact JSON representation,
you should specify (‘,’, ‘:’) to eliminate whitespace.</p>
<p>If specified, default is a function that gets called for objects
that can’t otherwise be serialized.  It should return a JSON encodable
version of the object or raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>.</p>
<dl class="py method">
<dt id="soma.controller.controller.JsonControllerEncoder.default">
<code class="sig-name descname"><span class="pre">default</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/controller/controller.html#JsonControllerEncoder.default"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.controller.controller.JsonControllerEncoder.default" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement this method in a subclass such that it returns
a serializable object for <code class="docutils literal notranslate"><span class="pre">o</span></code>, or calls the base implementation
(to raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>).</p>
<p>For example, to support arbitrary iterators, you could
implement default like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">iterable</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
    <span class="c1"># Let the base class default method raise the TypeError</span>
    <span class="k">return</span> <span class="n">JSONEncoder</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="soma.controller.controller.OpenKeyController">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.controller.controller.</span></code><code class="sig-name descname"><span class="pre">OpenKeyController</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">value_trait=&lt;traits.trait_types.Any</span> <span class="pre">object&gt;</span></em>, <em class="sig-param"><span class="pre">*args</span></em>, <em class="sig-param"><span class="pre">**kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/controller/controller.html#OpenKeyController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.controller.controller.OpenKeyController" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary-like controller, with “open keys”: items may be added
on the fly, traits are created upon assignation.</p>
<p>A value trait type should be specified to build the items.</p>
<p>Usage:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dict_controller</span> <span class="o">=</span> <span class="n">OpenKeyController</span><span class="p">(</span><span class="n">value_trait</span><span class="o">=</span><span class="n">traits</span><span class="o">.</span><span class="n">Str</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">dict_controller</span><span class="o">.</span><span class="n">user_traits</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_controller</span><span class="o">.</span><span class="n">my_item</span> <span class="o">=</span> <span class="s1">&#39;bubulle&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">dict_controller</span><span class="o">.</span><span class="n">user_traits</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="go">[&#39;my_item&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">dict_controller</span><span class="o">.</span><span class="n">export_to_dict</span><span class="p">())</span>
<span class="go">{&#39;my_item&#39;: &#39;bubulle&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">dict_controller</span><span class="o">.</span><span class="n">my_item</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">dict_controller</span><span class="o">.</span><span class="n">export_to_dict</span><span class="p">())</span>
<span class="go">{}</span>
</pre></div>
</div>
<p>Build an OpenKeyController controller.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value_trait</strong> (<em>Trait instance</em><em> (</em><em>optional</em><em>, </em><em>default: Any</em><em>(</em><em>)</em><em>)</em>) – trait type to be used when creating traits on the fly</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="soma.controller.controller.controller_to_dict">
<code class="sig-prename descclassname"><span class="pre">soma.controller.controller.</span></code><code class="sig-name descname"><span class="pre">controller_to_dict</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">item</span></em>, <em class="sig-param"><span class="pre">exclude_undefined=False</span></em>, <em class="sig-param"><span class="pre">exclude_transient=False</span></em>, <em class="sig-param"><span class="pre">exclude_none=False</span></em>, <em class="sig-param"><span class="pre">exclude_empty=False</span></em>, <em class="sig-param"><span class="pre">dict_class=&lt;class</span> <span class="pre">'collections.OrderedDict'&gt;</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/controller/controller.html#controller_to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.controller.controller.controller_to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an item to a Python value where controllers had been converted
to dictionary. It can recursively convert the values contained in a
Controller instances or a  dict instances. All other items are returned
untouched.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exclude_undefined</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a><em> (</em><em>optional</em><em>)</em>) – if set, do not export Undefined values</p></li>
<li><p><strong>exclude_transient</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a><em> (</em><em>optional</em><em>)</em>) – if set, do not export values whose trait is marked “transcient”</p></li>
<li><p><strong>exclude_none</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a><em> (</em><em>optional</em><em>)</em>) – if set, do not export None values</p></li>
<li><p><strong>exclude_empty</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a><em> (</em><em>optional</em><em>)</em>) – if set, do not export empty lists/dicts values</p></li>
<li><p><strong>dict_class</strong> (<em>class type</em><em> (</em><em>optional</em><em>, </em><em>default: soma.sorted_dictionary.OrderedDict</em><em>)</em>) – use this type of mapping type to represent controllers. It should
follow the mapping protocol API.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</div>
<div class="section" id="module-soma.crypt">
<span id="submodule-crypt"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">crypt</span></code><a class="headerlink" href="#module-soma.crypt" title="Permalink to this headline">¶</a></h1>
<p>Functions to manage private/public keys encryption.
This module needs Crypto module.</p>
<dl class="py function">
<dt id="soma.crypt.decrypt_RSA">
<code class="sig-prename descclassname"><span class="pre">soma.crypt.</span></code><code class="sig-name descname"><span class="pre">decrypt_RSA</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">private_key_loc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">package</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/crypt.html#decrypt_RSA"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.crypt.decrypt_RSA" title="Permalink to this definition">¶</a></dt>
<dd><p>param: public_key_loc Path to your private key
param: package String to be decrypted
return decrypted string</p>
</dd></dl>

<dl class="py function">
<dt id="soma.crypt.encrypt_RSA">
<code class="sig-prename descclassname"><span class="pre">soma.crypt.</span></code><code class="sig-name descname"><span class="pre">encrypt_RSA</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">public_key_loc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/crypt.html#encrypt_RSA"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.crypt.encrypt_RSA" title="Permalink to this definition">¶</a></dt>
<dd><p>param: public_key_loc Path to public key
param: message String to be encrypted
return base64 encoded encrypted string</p>
</dd></dl>

<dl class="py function">
<dt id="soma.crypt.generate_RSA">
<code class="sig-prename descclassname"><span class="pre">soma.crypt.</span></code><code class="sig-name descname"><span class="pre">generate_RSA</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2048</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/crypt.html#generate_RSA"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.crypt.generate_RSA" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an RSA keypair with an exponent of 65537 in PEM format
param: bits The key length in bits
Return private key and public key</p>
</dd></dl>

</div>
<div class="section" id="module-soma.debug">
<span id="submodule-debug"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">debug</span></code><a class="headerlink" href="#module-soma.debug" title="Permalink to this headline">¶</a></h1>
<p>Utility classes and functions for debugging.</p>
<ul class="simple">
<li><p>author: Yann Cointepas</p></li>
<li><p>organization: NeuroSpin</p></li>
<li><p>license: <a class="reference external" href="http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.html">CeCILL B</a></p></li>
</ul>
<dl class="py function">
<dt id="soma.debug.function_call_info">
<code class="sig-prename descclassname"><span class="pre">soma.debug.</span></code><code class="sig-name descname"><span class="pre">function_call_info</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/debug.html#function_call_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.debug.function_call_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary that gives information about a frame corresponding to a function call.
The directory contains the following items:</p>
<ul class="simple">
<li><p>‘function’: name of the function called</p></li>
<li><p>‘filename’: name of the python file containing the function</p></li>
<li><p>‘lineno’: line number executed in ‘filename’</p></li>
<li><p>‘arguments’: arguments passed to the function. It is a list containing
pairs of (argument name, argument value).</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt id="soma.debug.print_stack">
<code class="sig-prename descclassname"><span class="pre">soma.debug.</span></code><code class="sig-name descname"><span class="pre">print_stack</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">out=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='UTF-8'&gt;</span></em>, <em class="sig-param"><span class="pre">frame=None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/debug.html#print_stack"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.debug.print_stack" title="Permalink to this definition">¶</a></dt>
<dd><p>Print information about the stack, including argument passed to functions called.</p>
</dd></dl>

<dl class="py function">
<dt id="soma.debug.stack_calls_info">
<code class="sig-prename descclassname"><span class="pre">soma.debug.</span></code><code class="sig-name descname"><span class="pre">stack_calls_info</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/debug.html#stack_calls_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.debug.stack_calls_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list containing function_call_info(frame) for all frame in the stack.</p>
</dd></dl>

</div>
<div class="section" id="module-soma.factory">
<span id="submodule-factory"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">factory</span></code><a class="headerlink" href="#module-soma.factory" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="soma.factory.ClassFactory">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.factory.</span></code><code class="sig-name descname"><span class="pre">ClassFactory</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">class_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/factory.html#ClassFactory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.factory.ClassFactory" title="Permalink to this definition">¶</a></dt>
<dd><p><em>ClassFactory</em> is the base class for creating factories that can look
for classes in Python modules and create instances.</p>
<dl class="py method">
<dt id="soma.factory.ClassFactory.find_class">
<code class="sig-name descname"><span class="pre">find_class</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">class_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factory_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/factory.html#ClassFactory.find_class"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.factory.ClassFactory.find_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds a class deriving of the class corresponding to <em>class_type</em> and
whose <em>factory_id</em> attribute has a given value. Look for all
subclasses of parent class declared in the modules of
<code class="xref py py-attr docutils literal notranslate"><span class="pre">self.module_path</span></code>
and returns the first one having <code class="docutils literal notranslate"><span class="pre">cls.factory_id</span> <span class="pre">==</span> <span class="pre">factory_id</span></code>. If
none is found, returns <em>None</em>.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.factory.ClassFactory.get">
<code class="sig-name descname"><span class="pre">get</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">class_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factory_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/factory.html#ClassFactory.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.factory.ClassFactory.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an instance of the class identified by <em>class_type</em> and
<em>factory_id</em>. There can be only one instance per <em>class_type</em> and
<em>factory_id</em>. Once created with the first call of this method, it
is stored in <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.instances</span></code> and simply returned in subsequent
calls.</p>
<p>If <em>get_class</em> is <em>True</em>, returns the class instead of an instance</p>
</dd></dl>

<dl class="py method">
<dt id="soma.factory.ClassFactory.get_class">
<code class="sig-name descname"><span class="pre">get_class</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">class_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/factory.html#ClassFactory.get_class"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.factory.ClassFactory.get_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the class corresponding to a given class type. First look
for a dictionary in self.class_types, then look into parent
classes.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="soma.factory.find_items_in_module">
<code class="sig-prename descclassname"><span class="pre">soma.factory.</span></code><code class="sig-name descname"><span class="pre">find_items_in_module</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/factory.html#find_items_in_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.factory.find_items_in_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds all the items defined in a Python module that where <em>check(cls)</em> is
<em>True</em>. If the module is a package, it also look recursively into
submodules.</p>
</dd></dl>

<dl class="py function">
<dt id="soma.factory.find_subclasses_in_module">
<code class="sig-prename descclassname"><span class="pre">soma.factory.</span></code><code class="sig-name descname"><span class="pre">find_subclasses_in_module</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_class</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/factory.html#find_subclasses_in_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.factory.find_subclasses_in_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds all the classes defined in a Python module that derive from a
given class or class name. If the module is a package, it also look
into submodules.</p>
</dd></dl>

</div>
<div class="section" id="module-soma.fom">
<span id="submodule-fom-file-organization-model"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">fom</span></code>: File Organization Model<a class="headerlink" href="#module-soma.fom" title="Permalink to this headline">¶</a></h1>
<div class="section" id="file-organization-model-fom">
<h2>File Organization Model (FOM)<a class="headerlink" href="#file-organization-model-fom" title="Permalink to this headline">¶</a></h2>
<p>A FOM is a JSON file (dictionary) describing how to make filenames from a set of attributes.</p>
<div class="section" id="fom-definition">
<h3>FOM definition<a class="headerlink" href="#fom-definition" title="Permalink to this headline">¶</a></h3>
<p>Ex:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;fom_name&quot;</span><span class="p">:</span> <span class="s2">&quot;morphologist-auto-nonoverlap-1.0&quot;</span><span class="p">,</span>

    <span class="s2">&quot;fom_import&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;formats-brainvisa-1.0&quot;</span><span class="p">,</span> <span class="s2">&quot;brainvisa-formats-3.2.0&quot;</span><span class="p">,</span>
                  <span class="s2">&quot;shared-brainvisa-1.0&quot;</span><span class="p">],</span>

    <span class="s2">&quot;attribute_definitions&quot;</span> <span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;acquisition&quot;</span> <span class="p">:</span> <span class="p">{</span><span class="s2">&quot;default_value&quot;</span> <span class="p">:</span> <span class="s2">&quot;default_acquisition&quot;</span><span class="p">},</span>
      <span class="s2">&quot;analysis&quot;</span> <span class="p">:</span> <span class="p">{</span><span class="s2">&quot;default_value&quot;</span> <span class="p">:</span> <span class="s2">&quot;default_analysis&quot;</span><span class="p">},</span>
      <span class="s2">&quot;sulci_recognition_session&quot;</span> <span class="p">:</span>  <span class="p">{</span><span class="s2">&quot;default_value&quot;</span> <span class="p">:</span> <span class="s2">&quot;default_session&quot;</span><span class="p">},</span>
      <span class="s2">&quot;graph_version&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;default_value&quot;</span><span class="p">:</span> <span class="s2">&quot;3.1&quot;</span><span class="p">},</span>
    <span class="p">},</span>

    <span class="s2">&quot;shared_patterns&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;acquisition&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;center&gt;/&lt;subject&gt;/t1mri/&lt;acquisition&gt;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;analysis&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{acquisition}</span><span class="s2">/&lt;analysis&gt;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;recognition_analysis&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{analysis}</span><span class="s2">/folds/&lt;graph_version&gt;/&lt;sulci_recognition_session&gt;_auto&quot;</span><span class="p">,</span>
    <span class="p">},</span>

    <span class="s2">&quot;processes&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;Morphologist&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;t1mri&quot;</span><span class="p">:</span>
                <span class="p">[[</span><span class="s2">&quot;input:</span><span class="si">{acquisition}</span><span class="s2">/&lt;subject&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">],</span>
            <span class="s2">&quot;imported_t1mri&quot;</span><span class="p">:</span>
                <span class="p">[[</span><span class="s2">&quot;output:</span><span class="si">{acquisition}</span><span class="s2">/&lt;subject&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">]],</span>
            <span class="s2">&quot;t1mri_referential&quot;</span><span class="p">:</span>
                <span class="p">[[</span><span class="s2">&quot;output:</span><span class="si">{acquisition}</span><span class="s2">/registration/RawT1-&lt;subject&gt;_&lt;acquisition&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;Referential&quot;</span><span class="p">]],</span>
            <span class="s2">&quot;reoriented_t1mri&quot;</span><span class="p">:</span>
                <span class="p">[[</span><span class="s2">&quot;output:</span><span class="si">{acquisition}</span><span class="s2">/&lt;subject&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">]],</span>
            <span class="s2">&quot;t1mri_nobias&quot;</span><span class="p">:</span>
                <span class="p">[[</span><span class="s2">&quot;output:</span><span class="si">{analysis}</span><span class="s2">/nobias_&lt;subject&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span> <span class="p">]],</span>
            <span class="s2">&quot;split_brain&quot;</span><span class="p">:</span>
                <span class="p">[[</span><span class="s2">&quot;output:</span><span class="si">{analysis}</span><span class="s2">/segmentation/voronoi_&lt;subject&gt;&quot;</span><span class="p">,</span><span class="s2">&quot;images&quot;</span><span class="p">]],</span>
            <span class="s2">&quot;left_graph&quot;</span><span class="p">:</span>
                <span class="p">[[</span><span class="s2">&quot;output:</span><span class="si">{analysis}</span><span class="s2">/folds/&lt;graph_version&gt;/&lt;side&gt;&lt;subject&gt;&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;Graph and data&quot;</span><span class="p">,</span>
                    <span class="p">{</span><span class="s2">&quot;side&quot;</span><span class="p">:</span> <span class="s2">&quot;L&quot;</span><span class="p">,</span> <span class="s2">&quot;labelled&quot;</span><span class="p">:</span> <span class="s2">&quot;No&quot;</span><span class="p">}]],</span>
            <span class="s2">&quot;left_labelled_graph&quot;</span><span class="p">:</span>
                <span class="p">[[</span><span class="s2">&quot;output:</span><span class="si">{recognition_analysis}</span><span class="s2">/&lt;side&gt;&lt;subject&gt;_&lt;sulci_recognition_session&gt;_auto&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;Graph and data&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;side&quot;</span><span class="p">:</span> <span class="s2">&quot;L&quot;</span><span class="p">}]],</span>
            <span class="s2">&quot;right_graph&quot;</span><span class="p">:</span>
                <span class="p">[[</span><span class="s2">&quot;output:</span><span class="si">{analysis}</span><span class="s2">/folds/&lt;graph_version&gt;/&lt;side&gt;&lt;subject&gt;&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;Graph and data&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;side&quot;</span><span class="p">:</span><span class="s2">&quot;R&quot;</span><span class="p">,</span><span class="s2">&quot;labelled&quot;</span><span class="p">:</span><span class="s2">&quot;No&quot;</span><span class="p">}]],</span>
            <span class="s2">&quot;right_labelled_graph&quot;</span><span class="p">:</span>
                <span class="p">[[</span><span class="s2">&quot;output:</span><span class="si">{recognition_analysis}</span><span class="s2">/&lt;side&gt;&lt;subject&gt;_&lt;sulci_recognition_session&gt;_auto&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;Graph and data&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;side&quot;</span><span class="p">:</span> <span class="s2">&quot;R&quot;</span><span class="p">}]],</span>
            <span class="s2">&quot;Talairach_transform&quot;</span><span class="p">:</span>
                <span class="p">[[</span><span class="s2">&quot;output:</span><span class="si">{acquisition}</span><span class="s2">/registration/RawT1-&lt;subject&gt;_&lt;acquisition&gt;_TO_Talairach-ACPC&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;Transformation matrix&quot;</span><span class="p">]]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The dictionary may contain:</p>
<dl>
<dt><strong>fom_name</strong>: string</dt><dd><p>identifier of the FOM model. Several FOMs may coexist under different
identifiers.</p>
</dd>
<dt><strong>fom_import</strong>: list</dt><dd><p>dependencies between FOMs. A Fom may import others to benefit from its
formats, patterns etc.</p>
</dd>
<dt><strong>attribute_definitions</strong>: dict</dt><dd><p>a dict of predefines attributes. It is generally used to define default
values for some attributes. Each attribute defined here is also a dict. In
this sub-dict, the key “default_value” provides the attribute default
value.</p>
<p>Attributes don’t <em>need</em> to be defined here, they are automatically defined
as they are used in path patterns. But here we can assign them additional
information (typically default values).</p>
</dd>
<dt><strong>shared_patterns</strong>: dict</dt><dd><p>mapping of reusable patterns. Such patterns will be replaced with their
contents when used in the file paths patterns. To use such a pattern, place
it with brackets {} in file paths patterns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;input:</span><span class="si">{acquisition}</span><span class="s2">/&lt;subject&gt;&quot;</span>
</pre></div>
</div>
<p>here <code class="docutils literal notranslate"><span class="pre">{aquisition}</span></code> is the <em>shared pattern</em> “aquisition”, and
<code class="docutils literal notranslate"><span class="pre">&lt;subject&gt;</span></code> is the <em>attribute</em> “subject”</p>
<p>A pattern definition may also use attributes between <code class="docutils literal notranslate"><span class="pre">&lt;attribute_name&gt;</span></code>
quotes, and / or reuse other patterns between <code class="docutils literal notranslate"><span class="pre">{pattern}</span></code> curly brackets.</p>
</dd>
<dt><strong>processes</strong>: dict</dt><dd><p>dictionary of processes supported by the FOM, and path definitions for
their parameters. The dict is organized by process, then in each process a
sub-dict contains its parameters definitions. For a given parameter, a list
of the FOM rules is given: several rules are allowed.</p>
<p>Process names keys may be a fully qualified module/class name, or a short
identifier, or a “contextual” name: the name a process has in the context
of a pipeline.</p>
<p>A FOM rule is a list of 2 or 3 elements:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">patterrn</span><span class="p">,</span> <span class="n">formats</span><span class="p">,</span> <span class="n">attributes</span><span class="p">]</span>
</pre></div>
</div>
<dl>
<dt><em>pattern</em>: string</dt><dd><p>the FOM pattern for the file path of the given parameter. A pattern
starts with a directory identifier (<code class="docutils literal notranslate"><span class="pre">input</span></code>, <code class="docutils literal notranslate"><span class="pre">output</span></code>,
<code class="docutils literal notranslate"><span class="pre">shared</span></code>), followed by a semicolon (<code class="docutils literal notranslate"><span class="pre">:</span></code>), and a file pattern which
may contain attributes (<code class="docutils literal notranslate"><span class="pre">&lt;attrib&gt;</span></code>) and/or shared patterns
(<code class="docutils literal notranslate"><span class="pre">{pattern}</span></code>). Ex:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;input:</span><span class="si">{acquisition}</span><span class="s2">/&lt;subject&gt;&quot;</span>
</pre></div>
</div>
</dd>
<dt><em>formats</em>: string or list</dt><dd><p>name of a format, a formats list, or a list of allowed formats names.
The formats will rule the possible file extensions.</p>
</dd>
<dt><em>attributes</em>: dict, optional</dt><dd><p>An optional dict assigning locally some attributes values. Ex:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;side&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>The attributes values here are used both to replace attributes values in the current file path pattern, and to select the matching rule when attributes values are given externally (hm, to be checked actually).</p>
</dd>
</dl>
</dd>
</dl>
<p>A FOM file is a JSON file (actually a JSON/YAML extended file, to allow comments within it), which should be placed in a common directory where the FOM manager will look for it (<code class="docutils literal notranslate"><span class="pre">share/foms/</span></code>)</p>
</div>
<div class="section" id="how-to-use-foms">
<h3>How to use FOMS<a class="headerlink" href="#how-to-use-foms" title="Permalink to this headline">¶</a></h3>
<p>At higher level, they are used for instance in <a class="reference external" href="http://brainvisa.info/capsul/">CAPSUL</a>.</p>
<p>At lower level, they are used through several classes:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#soma.fom.FileOrganizationModelManager" title="soma.fom.FileOrganizationModelManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileOrganizationModelManager</span></code></a> manages a set of FOMs, looks for them in a search path, reads them.</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">FileOrganizationModels</span></code> represents a FOM rules set.</p></li>
<li><p><a class="reference internal" href="#soma.fom.AttributesToPaths" title="soma.fom.AttributesToPaths"><code class="xref py py-class docutils literal notranslate"><span class="pre">AttributesToPaths</span></code></a> is used to convert a set of attributes into filenames (which is the main use of FOMs).</p></li>
<li><p><a class="reference internal" href="#soma.fom.PathToAttributes" title="soma.fom.PathToAttributes"><code class="xref py py-class docutils literal notranslate"><span class="pre">PathToAttributes</span></code></a> performs the reverse operation: match attributes and determines their values from a given filename.</p></li>
</ul>
<dl class="py class">
<dt id="soma.fom.AttributesToPaths">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.fom.</span></code><code class="sig-name descname"><span class="pre">AttributesToPaths</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">foms</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directories</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preferred_formats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/fom.html#AttributesToPaths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.fom.AttributesToPaths" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility class for attributes set -&gt; file paths transformation.
Part of the FOM engine.</p>
<dl class="py method">
<dt id="soma.fom.AttributesToPaths.allowed_extensions_for_parameter">
<code class="sig-name descname"><span class="pre">allowed_extensions_for_parameter</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/fom.html#AttributesToPaths.allowed_extensions_for_parameter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.fom.AttributesToPaths.allowed_extensions_for_parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Either formats or (process_name and param) should be passed
kwargs
——
formats: list of str</p>
<blockquote>
<div><p>if provided only this parameter will be used</p>
</div></blockquote>
<dl class="simple">
<dt>process_name: str</dt><dd><p>name of the process</p>
</dd>
<dt>param: str</dt><dd><p>name of the process parameter</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="soma.fom.FileOrganizationModelManager">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.fom.</span></code><code class="sig-name descname"><span class="pre">FileOrganizationModelManager</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/fom.html#FileOrganizationModelManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.fom.FileOrganizationModelManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Manage the discovery and instanciation of available FileOrganizationModel
(FOM). A FOM can be represented as a YAML/JSON file (or a series of
YAML/JSON files in a directory). This class allows to identify these files
contained in a predefined set of directories (see find_fom method) and to
instanciate a FileOrganizationModel for each identified file (see get_fom
method).</p>
<p>Create a FOM manager that will use the given paths to find available FOMs.</p>
<dl class="py method">
<dt id="soma.fom.FileOrganizationModelManager.find_foms">
<code class="sig-name descname"><span class="pre">find_foms</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/fom.html#FileOrganizationModelManager.find_foms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.fom.FileOrganizationModelManager.find_foms" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of file organisation model (FOM) names.
These FOMs can be loaded with load_foms. FOM files (or directories) are
looked for in self.paths.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.fom.FileOrganizationModelManager.fom_files">
<code class="sig-name descname"><span class="pre">fom_files</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/fom.html#FileOrganizationModelManager.fom_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.fom.FileOrganizationModelManager.fom_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of file organisation model (FOM) names, as in
<a class="reference internal" href="#soma.fom.FileOrganizationModelManager.find_foms" title="soma.fom.FileOrganizationModelManager.find_foms"><code class="xref py py-meth docutils literal notranslate"><span class="pre">find_foms()</span></code></a>, but does not clear and reload the cache.
These FOMs can be loaded with load_foms. FOM files (or directories) are
looked for in self.paths.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="soma.fom.PathToAttributes">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.fom.</span></code><code class="sig-name descname"><span class="pre">PathToAttributes</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">foms</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/fom.html#PathToAttributes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.fom.PathToAttributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility class for file paths -&gt; attributes set transformation.
Part of the FOM engine.</p>
</dd></dl>

<dl class="py function">
<dt id="soma.fom.deep_update">
<code class="sig-prename descclassname"><span class="pre">soma.fom.</span></code><code class="sig-name descname"><span class="pre">deep_update</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">update</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">original</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/fom.html#deep_update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.fom.deep_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively update a dict.
Subdict’s won’t be overwritten but also updated.</p>
</dd></dl>

<dl class="py class">
<dt id="soma.fom.json_reader">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.fom.</span></code><code class="sig-name descname"><span class="pre">json_reader</span></code><a class="reference internal" href="_modules/soma/fom.html#json_reader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.fom.json_reader" title="Permalink to this definition">¶</a></dt>
<dd><p>This class has a single static method load that loads an
JSON file with two features not provided by all JSON readers:</p>
<ul class="simple">
<li><p>JSON syntax is extended. For instance comments are allowed.</p></li>
<li><p>The order of elements in dictionaries can be preserved by
using parameter object_pairs_hook=OrderedDict (as in Python
2.7 JSON reader).</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt id="soma.fom.read_json">
<code class="sig-prename descclassname"><span class="pre">soma.fom.</span></code><code class="sig-name descname"><span class="pre">read_json</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/fom.html#read_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.fom.read_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a json-like file using yaml or json.
In case of failure, issue a clearer message with filename, and when
appropriate a warning about yaml not being installed.</p>
</dd></dl>

</div>
</div>
</div>
<div class="section" id="module-soma.global_naming">
<span id="submodule-global-naming"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">global_naming</span></code><a class="headerlink" href="#module-soma.global_naming" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="soma.global_naming.GlobalNaming">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.global_naming.</span></code><code class="sig-name descname"><span class="pre">GlobalNaming</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/global_naming.html#GlobalNaming"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.global_naming.GlobalNaming" title="Permalink to this definition">¶</a></dt>
<dd><p>No doc ?</p>
<p>The __init__ method of <code class="xref py py-class docutils literal notranslate"><span class="pre">Singleton</span></code> derived class should do
nothing.
Derived classes must define <code class="xref py py-meth docutils literal notranslate"><span class="pre">__singleton_init__()</span></code> instead of __init__.</p>
<dl class="py method">
<dt id="soma.global_naming.GlobalNaming.get_name">
<code class="sig-name descname"><span class="pre">get_name</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/global_naming.html#GlobalNaming.get_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.global_naming.GlobalNaming.get_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="soma.global_naming.GlobalNaming.get_object">
<code class="sig-name descname"><span class="pre">get_object</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">global_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/global_naming.html#GlobalNaming.get_object"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.global_naming.GlobalNaming.get_object" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="soma.global_naming.GlobalNaming.parse_global_name">
<code class="sig-name descname"><span class="pre">parse_global_name</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">global_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/global_naming.html#GlobalNaming.parse_global_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.global_naming.GlobalNaming.parse_global_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="soma.global_naming.get_name">
<code class="sig-prename descclassname"><span class="pre">soma.global_naming.</span></code><code class="sig-name descname"><span class="pre">get_name</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/global_naming.html#get_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.global_naming.get_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="soma.global_naming.get_object">
<code class="sig-prename descclassname"><span class="pre">soma.global_naming.</span></code><code class="sig-name descname"><span class="pre">get_object</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">global_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/global_naming.html#get_object"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.global_naming.get_object" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-soma.html">
<span id="submodule-html"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">html</span></code><a class="headerlink" href="#module-soma.html" title="Permalink to this headline">¶</a></h1>
<p>Utility functions for HTML format.</p>
<ul class="simple">
<li><p>author: Yann Cointepas</p></li>
<li><p>organization: NeuroSpin</p></li>
<li><p>license: <a class="reference external" href="http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.html">CeCILL B</a></p></li>
</ul>
<dl class="py function">
<dt id="soma.html.htmlEscape">
<code class="sig-prename descclassname"><span class="pre">soma.html.</span></code><code class="sig-name descname"><span class="pre">htmlEscape</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/html.html#htmlEscape"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.html.htmlEscape" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace special characters by their correponding html entity.</p>
<p>All characters that have a corresponding named HTML entity are replaced.</p>
<ul class="simple">
<li><p>returns: <em>unicode</em></p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt id="soma.html.lesserHtmlEscape">
<code class="sig-prename descclassname"><span class="pre">soma.html.</span></code><code class="sig-name descname"><span class="pre">lesserHtmlEscape</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/html.html#lesserHtmlEscape"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.html.lesserHtmlEscape" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace special characters by their correponding html entity.</p>
<p>All characters that have a corresponding named HTML entity are replaced,
except accented characters commonly used in French text (éàèâêôîûàö) and
the double-quote character (“).</p>
<ul class="simple">
<li><p>returns: <em>unicode</em></p></li>
</ul>
</dd></dl>

</div>
<div class="section" id="module-soma.importer">
<span id="submodule-importer"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">importer</span></code><a class="headerlink" href="#module-soma.importer" title="Permalink to this headline">¶</a></h1>
<p>Utility classes and functions for Python import and sip namespace renaming.</p>
<ul class="simple">
<li><p>author: Yann Cointepas</p></li>
<li><p>organization: NeuroSpin</p></li>
<li><p>license: <a class="reference external" href="http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.html">CeCILL B</a></p></li>
</ul>
<dl class="py class">
<dt id="soma.importer.ExtendedImporter">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.importer.</span></code><code class="sig-name descname"><span class="pre">ExtendedImporter</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/importer.html#ExtendedImporter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.importer.ExtendedImporter" title="Permalink to this definition">¶</a></dt>
<dd><p>ExtendedImporter is used to import external modules in a module managing rules that allow ro rename and delete or do anything else on the imported package. As imported packages could modify each others, all the registered rules are applied after each import using this ExtendedImporter.</p>
<p>The __init__ method of <code class="xref py py-class docutils literal notranslate"><span class="pre">Singleton</span></code> derived class should do
nothing.
Derived classes must define <code class="xref py py-meth docutils literal notranslate"><span class="pre">__singleton_init__()</span></code> instead of __init__.</p>
<dl class="py method">
<dt id="soma.importer.ExtendedImporter.applyRules">
<code class="sig-name descname"><span class="pre">applyRules</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/importer.html#ExtendedImporter.applyRules"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.importer.ExtendedImporter.applyRules" title="Permalink to this definition">¶</a></dt>
<dd><p>This method apply rules for each extended module.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.importer.ExtendedImporter.importInModule">
<code class="sig-name descname"><span class="pre">importInModule</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">moduleName</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">globals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">importedModuleName</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namespacesList</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handlersList</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/importer.html#ExtendedImporter.importInModule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.importer.ExtendedImporter.importInModule" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is used to import a module applying rules (rename rule, delete rule, …) .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>moduleName</strong> (<em>string</em>) – name of the module to import into (destination, not where to find
it).</p></li>
<li><p><strong>globals</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#dict" title="(in Python v3.5)"><em>dict</em></a>) – globals dictionary of the module to import into.</p></li>
<li><p><strong>locals</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#dict" title="(in Python v3.5)"><em>dict</em></a>) – locals dictionary of the module to import into.</p></li>
<li><p><strong>importedModuleName</strong> (<em>string</em>) – name of the imported module. Normally relative to the current
calling module package.</p></li>
<li><p><strong>namespacesList</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)"><em>list</em></a>) – a list of rules concerned namespaces for the imported module.</p></li>
<li><p><strong>handlersList</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)"><em>list</em></a>) – a list of handlers to apply during the import of the module.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="soma.importer.ExtendedImporterHelper">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.importer.</span></code><code class="sig-name descname"><span class="pre">ExtendedImporterHelper</span></code><a class="reference internal" href="_modules/soma/importer.html#ExtendedImporterHelper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.importer.ExtendedImporterHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Static methods declared to help extended import process.</p>
<dl class="py method">
<dt id="soma.importer.ExtendedImporterHelper.getModuleObject">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">getModuleObject</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/importer.html#ExtendedImporterHelper.getModuleObject"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.importer.ExtendedImporterHelper.getModuleObject" title="Permalink to this definition">¶</a></dt>
<dd><p>This static method is used to get an object contained in the namespace of a module.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>string</em>) – complete name including namespace of the object to get.</p></li>
<li><p><strong>module</strong> (<em>module</em>) – module object to get objects from.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Object found in the module or None if no object was found.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#object" title="(in Python v3.5)">object</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="soma.importer.ExtendedModule">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.importer.</span></code><code class="sig-name descname"><span class="pre">ExtendedModule</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">moduleName</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">globals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locals</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/importer.html#ExtendedModule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.importer.ExtendedModule" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a series of rules to apply during the import process of the
extended module. An extended module is able to refer to other modules and
to apply rules to these other modules. The extended module manages the
globals and locals variables declared for the module.</p>
<p>Each rule contains the module to which it refers, and the handlers to call
for the rule to apply. The calling order is the registering order.</p>
<dl class="py method">
<dt id="soma.importer.ExtendedModule.addHandlerRules">
<code class="sig-name descname"><span class="pre">addHandlerRules</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handlersList</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/importer.html#ExtendedModule.addHandlerRules"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.importer.ExtendedModule.addHandlerRules" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is used to add handler rules (renaming rule, deleting rule, …) .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>module</strong> (<em>module</em>) – module object to apply rules to.</p></li>
<li><p><strong>handlersList</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)"><em>list</em></a>) – a list of handlers to the module.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.importer.ExtendedModule.addPartialRules">
<code class="sig-name descname"><span class="pre">addPartialRules</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partialsList</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/importer.html#ExtendedModule.addPartialRules"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.importer.ExtendedModule.addPartialRules" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is used to add handler rules (renaming rule, deleting rule, …) .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>module</strong> (<em>module</em>) – module object to apply rules to.</p></li>
<li><p><strong>partialsList</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)"><em>list</em></a>) – a list of <a class="reference external" href="https://docs.python.org/3.5/library/functools.html#functools.partial" title="(in Python v3.5)"><code class="xref py py-func docutils literal notranslate"><span class="pre">functools.partial()</span></code></a> objects that will be called
during the import of the module.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.importer.ExtendedModule.applyRules">
<code class="sig-name descname"><span class="pre">applyRules</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/importer.html#ExtendedModule.applyRules"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.importer.ExtendedModule.applyRules" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the <a class="reference external" href="https://docs.python.org/3.5/library/functools.html#functools.partial" title="(in Python v3.5)"><code class="xref py py-func docutils literal notranslate"><span class="pre">functools.partial()</span></code></a> handler rules (renaming rule, deleting rule, …) for the <a class="reference internal" href="#soma.importer.ExtendedModule" title="soma.importer.ExtendedModule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExtendedModule</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="soma.importer.GenericHandlers">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.importer.</span></code><code class="sig-name descname"><span class="pre">GenericHandlers</span></code><a class="reference internal" href="_modules/soma/importer.html#GenericHandlers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.importer.GenericHandlers" title="Permalink to this definition">¶</a></dt>
<dd><p>Static generic handlers used as import rules.</p>
<dl class="py method">
<dt id="soma.importer.GenericHandlers.moveChildren">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">moveChildren</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">namespace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extendedModule</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">referedModule</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/importer.html#GenericHandlers.moveChildren"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.importer.GenericHandlers.moveChildren" title="Permalink to this definition">¶</a></dt>
<dd><p>This static method is used to move child objects of a refered module to the extended module.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>namespace</strong> (<em>string</em>) – namespace of the referedModule to get objects to move from.</p></li>
<li><p><strong>extendedModule</strong> (<a class="reference internal" href="#soma.importer.ExtendedModule" title="soma.importer.ExtendedModule"><em>ExtendedModule</em></a>) – <a class="reference internal" href="#soma.importer.ExtendedModule" title="soma.importer.ExtendedModule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExtendedModule</span></code></a> object into which move objects.</p></li>
<li><p><strong>referedModule</strong> (<em>module</em>) – refered module object to get objects to move from.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.importer.GenericHandlers.removeChildren">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">removeChildren</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">namespace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefixes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extendedModule</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">referedModule</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/importer.html#GenericHandlers.removeChildren"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.importer.GenericHandlers.removeChildren" title="Permalink to this definition">¶</a></dt>
<dd><p>This static method is used to remove children from the extended module.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>namespace</strong> (<em>string</em>) – namespace of the referedModule.</p></li>
<li><p><strong>prefixes</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)"><em>list</em></a>) – list of prefixes of objects to remove.</p></li>
<li><p><strong>extendedModule</strong> (<a class="reference internal" href="#soma.importer.ExtendedModule" title="soma.importer.ExtendedModule"><em>ExtendedModule</em></a>) – <a class="reference internal" href="#soma.importer.ExtendedModule" title="soma.importer.ExtendedModule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExtendedModule</span></code></a> object to remove objects from.</p></li>
<li><p><strong>referedModule</strong> (<em>module</em>) – refered module object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="soma.importer.execfile">
<code class="sig-prename descclassname"><span class="pre">soma.importer.</span></code><code class="sig-name descname"><span class="pre">execfile</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">globals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/importer.html#execfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.importer.execfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Replacement for python2 execfile()
six.exec_() needs an open file, hence this wrapper for convenience.
Files are open with UTF-8 encoding on python3.</p>
</dd></dl>

</div>
<div class="section" id="module-soma.info">
<span id="submodule-info"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">info</span></code><a class="headerlink" href="#module-soma.info" title="Permalink to this headline">¶</a></h1>
<p>Information module, containing version variables, plus some
setuptools-related variables
.. attribute:: version_major</p>
<dl class="py attribute">
<dt id="soma.info.version_minor">
<code class="sig-prename descclassname"><span class="pre">soma.info.</span></code><code class="sig-name descname"><span class="pre">version_minor</span></code><a class="headerlink" href="#soma.info.version_minor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="soma.info.version_micro">
<code class="sig-prename descclassname"><span class="pre">soma.info.</span></code><code class="sig-name descname"><span class="pre">version_micro</span></code><a class="headerlink" href="#soma.info.version_micro" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="soma.info.version_extra">
<code class="sig-prename descclassname"><span class="pre">soma.info.</span></code><code class="sig-name descname"><span class="pre">version_extra</span></code><a class="headerlink" href="#soma.info.version_extra" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-soma.logging">
<span id="submodule-logging"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">logging</span></code><a class="headerlink" href="#module-soma.logging" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="soma.logging.create_logger">
<code class="sig-prename descclassname"><span class="pre">soma.logging.</span></code><code class="sig-name descname"><span class="pre">create_logger</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/logging.html#create_logger"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.logging.create_logger" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-soma.minf.api">
<span id="submodule-minf"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">minf</span></code><a class="headerlink" href="#module-soma.minf.api" title="Permalink to this headline">¶</a></h1>
<p>This module contains all the framework necessary to customize, read and
write minf files. A minf file is composed of structured data saved in
XML or Python format. The minf framework provides tools to read and write
minf files but also to customize the way Python objects are read an written.</p>
<p>There are several submodules in this package but main functions and classes
can be imported from <a class="reference internal" href="#module-soma.minf.api" title="soma.minf.api"><code class="xref py py-mod docutils literal notranslate"><span class="pre">soma.minf.api</span></code></a>:</p>
<ul class="simple">
<li><p>for reading minf files: <a class="reference internal" href="#soma.minf.api.iterateMinf" title="soma.minf.api.iterateMinf"><code class="xref py py-func docutils literal notranslate"><span class="pre">iterateMinf()</span></code></a>, <a class="reference internal" href="#soma.minf.api.readMinf" title="soma.minf.api.readMinf"><code class="xref py py-func docutils literal notranslate"><span class="pre">readMinf()</span></code></a></p></li>
<li><p>for writing minf files: <a class="reference internal" href="#soma.minf.api.createMinfWriter" title="soma.minf.api.createMinfWriter"><code class="xref py py-func docutils literal notranslate"><span class="pre">createMinfWriter()</span></code></a>, <a class="reference internal" href="#soma.minf.api.writeMinf" title="soma.minf.api.writeMinf"><code class="xref py py-func docutils literal notranslate"><span class="pre">writeMinf()</span></code></a></p></li>
<li><p>for customizing minf files: <code class="xref py py-func docutils literal notranslate"><span class="pre">createReducerAndExpander()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">registerClass()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">registerClassAs()</span></code></p></li>
</ul>
<ul class="simple">
<li><p>author: Yann Cointepas</p></li>
<li><p>organization: NeuroSpin</p></li>
<li><p>license: <a class="reference external" href="http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.html">CeCILL B</a></p></li>
</ul>
<dl class="py function">
<dt id="soma.minf.api.createMinfWriter">
<code class="sig-prename descclassname"><span class="pre">soma.minf.api.</span></code><code class="sig-name descname"><span class="pre">createMinfWriter</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">destFile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'XML'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reducer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'minf_2.0'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/minf/api.html#createMinfWriter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.minf.api.createMinfWriter" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a writer for storing objects in destFile.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">soma.minf.api</span> <span class="kn">import</span> <span class="n">createMinfWriter</span>
<span class="n">writer</span> <span class="o">=</span> <span class="n">createMinfWriter</span><span class="p">(</span> <span class="s1">&#39;/tmp/test.minf&#39;</span> <span class="p">)</span>
<span class="n">writer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span> <span class="s1">&#39;A string&#39;</span> <span class="p">)</span>
<span class="n">writer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span> <span class="p">{</span> <span class="s1">&#39;A dict key&#39;</span><span class="p">:</span> <span class="p">[</span> <span class="s1">&#39;A list&#39;</span><span class="p">,</span> <span class="s1">&#39;with two elements&#39;</span> <span class="p">]</span> <span class="p">}</span> <span class="p">)</span>
<span class="n">writer</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>format</strong> (<em>string</em>) – name of the format to write.</p></li>
<li><p><strong>reducer</strong> (<em>string</em>) – name of the reducer to use (see L{soma.minf.tree} for
more information about reducers).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="soma.minf.api.iterateMinf">
<code class="sig-prename descclassname"><span class="pre">soma.minf.api.</span></code><code class="sig-name descname"><span class="pre">iterateMinf</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">targets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop_on_error</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exceptions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/minf/api.html#iterateMinf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.minf.api.iterateMinf" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an iterator over all objects stored in a minf file.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">soma.minf.api</span> <span class="kn">import</span> <span class="n">iterateMinf</span>

<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterateMinf</span><span class="p">(</span><span class="s1">&#39;test.minf&#39;</span><span class="p">):</span>
  <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>source</strong> (<em>string</em>) – Input file name or file object. If it is a file name, it is
opened with C{open( source )}.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="soma.minf.api.minfFormat">
<code class="sig-prename descclassname"><span class="pre">soma.minf.api.</span></code><code class="sig-name descname"><span class="pre">minfFormat</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/minf/api.html#minfFormat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.minf.api.minfFormat" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a pair (format, reduction) identifying the minf format. If
source is not a minf file, (None, None) is returned. Otherwise,
format is a string representing the format of the minf file: ‘XML’ or
‘python’. reduction is the name of the reducer used to write the minf
file or None if format is ‘python’.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">soma.minf.api</span> <span class="kn">import</span> <span class="n">minfFormat</span>
<span class="nb">format</span><span class="p">,</span> <span class="n">reduction</span> <span class="o">=</span> <span class="n">minfFormat</span><span class="p">(</span><span class="s1">&#39;/home/me/test.minf&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>If source is a <code class="xref py py-class docutils literal notranslate"><span class="pre">BufferAndFile</span></code> instance, this call behave as if nothing
has been read from the file. This can be useful if you have an opened file
that cannot be seeked backward:</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">soma.bufferandfile</span> <span class="kn">import</span> <span class="n">BufferAndFile</span>
<span class="kn">from</span> <span class="nn">soma.minf.api</span> <span class="kn">import</span> <span class="n">minfFormat</span><span class="p">,</span> <span class="n">readMinf</span>

<span class="n">bf</span> <span class="o">=</span> <span class="n">BufferAndFile</span><span class="p">(</span><span class="n">stream_file_object</span><span class="p">)</span>
<span class="nb">format</span><span class="p">,</span> <span class="n">reduction</span> <span class="o">=</span> <span class="n">minfFormat</span><span class="p">(</span><span class="n">bf</span><span class="p">)</span>
<span class="k">if</span> <span class="nb">format</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
  <span class="n">minfContent</span> <span class="o">=</span> <span class="n">readMinf</span><span class="p">(</span><span class="n">bf</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>source</strong> (<em>string</em>) – Input file name or file object. If it is a file name, it is
opened with open(source).</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="soma.minf.api.readMinf">
<code class="sig-prename descclassname"><span class="pre">soma.minf.api.</span></code><code class="sig-name descname"><span class="pre">readMinf</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">targets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop_on_error</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exceptions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/minf/api.html#readMinf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.minf.api.readMinf" title="Permalink to this definition">¶</a></dt>
<dd><p>Entirerly reads a minf file and returns its content in a tuple.
Equivalent to tuple(iterateMinf(source)).</p>
<p>see: :func`iterateMinf`</p>
</dd></dl>

<dl class="py function">
<dt id="soma.minf.api.writeMinf">
<code class="sig-prename descclassname"><span class="pre">soma.minf.api.</span></code><code class="sig-name descname"><span class="pre">writeMinf</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">destFile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'XML'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reducer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/minf/api.html#writeMinf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.minf.api.writeMinf" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a minf writer with <a class="reference internal" href="#soma.minf.api.createMinfWriter" title="soma.minf.api.createMinfWriter"><code class="xref py py-func docutils literal notranslate"><span class="pre">createMinfWriter()</span></code></a> and write the content
of args in it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>destFile</strong> – see <a class="reference internal" href="#soma.minf.api.createMinfWriter" title="soma.minf.api.createMinfWriter"><code class="xref py py-func docutils literal notranslate"><span class="pre">createMinfWriter()</span></code></a></p></li>
<li><p><strong>args</strong> (<em>sequence</em><em> or </em><em>iterator</em>) – series of values to write</p></li>
<li><p><strong>format</strong> – see <a class="reference internal" href="#soma.minf.api.createMinfWriter" title="soma.minf.api.createMinfWriter"><code class="xref py py-func docutils literal notranslate"><span class="pre">createMinfWriter()</span></code></a></p></li>
<li><p><strong>reducer</strong> – see <a class="reference internal" href="#soma.minf.api.createMinfWriter" title="soma.minf.api.createMinfWriter"><code class="xref py py-func docutils literal notranslate"><span class="pre">createMinfWriter()</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-soma.mpfork">
<span id="submodule-mpfork"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">mpfork</span></code><a class="headerlink" href="#module-soma.mpfork" title="Permalink to this headline">¶</a></h1>
<p>Run worker functions in separate processes.</p>
<p>The use case is somewhat similar to what can be done using either <code class="xref py py-class docutils literal notranslate"><span class="pre">queue.Queue</span></code> and threads, or using <a class="reference external" href="https://docs.python.org/3.5/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.5)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a>. That is: run a number of independent job functions, dispatched over a number of worker threads/processes.</p>
<p>The mpfork module is useful in cases the above methods cannot work:</p>
<ul class="simple">
<li><p>threading in python is globally mainly inefficient because of the GIL.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3.5/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.5)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> makes heavy use of pickles to pass objects and parameters, and there are cases we are using objects which cannot be pickled, or which pickling generates heavy IO traffic (large data objects)</p></li>
</ul>
<p>The method here is based on the queue / thread schema, but uses fork() to actually execute the workers in a separate process. Only results are passed through pickles, so the worker return results must be picklable, but not the input arguments and objects.</p>
<p>Use:</p>
<ul class="simple">
<li><p>allocate a <code class="xref py py-class docutils literal notranslate"><span class="pre">Queue</span></code></p></li>
<li><p>allocate a results list with the exact size of the jobs number</p></li>
<li><p>allocate a set of worker threads (typically one per processor or core). The function <a class="reference internal" href="#soma.mpfork.allocate_workers" title="soma.mpfork.allocate_workers"><code class="xref py py-func docutils literal notranslate"><span class="pre">allocate_workers()</span></code></a> can do this for you.</p></li>
<li><p>fill the queue with jobs, each being a tuple (job_index, function, args, kwargs, results_list)</p></li>
<li><p>add a number of empty jobs (None) to the queue, one per allocated worker: this will be the marker for the end of processing in each worker thread. It is necessary to explicitly add these empty jobs since an empty queue is not the signal for the end of processing: it can be re-filled at any time.</p></li>
<li><p>jobs run in workers</p></li>
<li><p>join the queue</p></li>
<li><p>join the worker threads</p></li>
<li><p>the result list gets the return data for each job</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">njobs</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">q</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">()</span>
<span class="n">res</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">njobs</span>
<span class="n">workers</span> <span class="o">=</span> <span class="n">allocate_workers</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="c1"># one per core</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">njobs</span><span class="p">):</span>
    <span class="n">job</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="nb">sum</span><span class="p">,</span> <span class="p">((</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="p">),</span> <span class="p">),</span> <span class="p">{},</span> <span class="n">res</span><span class="p">)</span>
    <span class="n">q</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">job</span><span class="p">)</span>

<span class="c1"># add as many empty jobs as the workers number to end them</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">workers</span><span class="p">)):</span>
    <span class="n">q</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>

<span class="c1"># wait for every job to complete</span>
<span class="n">q</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
<span class="c1"># terminate all threads</span>
<span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">workers</span><span class="p">:</span>
    <span class="n">w</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;result:&#39;</span><span class="p">,</span> <span class="n">res</span><span class="p">)</span>
</pre></div>
</div>
<p>In case of error, the job result will be an exception with stack information: (exception type, exception instance, stack_info)</p>
<p>Availability: Unix</p>
<dl class="py function">
<dt id="soma.mpfork.allocate_workers">
<code class="sig-prename descclassname"><span class="pre">soma.mpfork.</span></code><code class="sig-name descname"><span class="pre">allocate_workers</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nworker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/mpfork.html#allocate_workers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.mpfork.allocate_workers" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility finction to allocate worker threads.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Queue</span></code> instance) – the jobs queue which will fed with jobs for processing</p></li>
<li><p><strong>nworker</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – number of worker threads (jobs which will run in parallel). A positive
number (1, 2…) will be used as is, 0 means all available CPU cores
(see <a class="reference external" href="https://docs.python.org/3.5/library/multiprocessing.html#multiprocessing.cpu_count" title="(in Python v3.5)"><code class="xref py py-func docutils literal notranslate"><span class="pre">multiprocessing.cpu_count()</span></code></a>), and a negative number means
all CPU cores except this given number.</p></li>
<li><p><strong>args</strong> – additional arguments will be pased to the jobs function(s) after
individual jobs arguments: they are args common to all jobs (if any)</p></li>
<li><p><strong>kwargs</strong> – additional arguments will be pased to the jobs function(s) after
individual jobs arguments: they are args common to all jobs (if any)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>workers</strong> – workers list, each is a <a class="reference external" href="https://docs.python.org/3.5/library/threading.html#threading.Thread" title="(in Python v3.5)"><code class="xref py py-class docutils literal notranslate"><span class="pre">thread</span></code></a> instance
running the worker loop function. Threads are already started (ie.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="soma.mpfork.run_job">
<code class="sig-prename descclassname"><span class="pre">soma.mpfork.</span></code><code class="sig-name descname"><span class="pre">run_job</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/mpfork.html#run_job"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.mpfork.run_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Internal function, runs the function in a remote process.
Uses fork() to perform it.</p>
<p>Availability: Unix</p>
</dd></dl>

<dl class="py function">
<dt id="soma.mpfork.worker">
<code class="sig-prename descclassname"><span class="pre">soma.mpfork.</span></code><code class="sig-name descname"><span class="pre">worker</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/mpfork.html#worker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.mpfork.worker" title="Permalink to this definition">¶</a></dt>
<dd><p>Internal function: worker thread loop:
* pick a job in the queue q
* execute it in a remote process (using run_job())
* stopre the result in the result list
* start again with another job</p>
<p>The loop ends when a job in the queue is None.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Here we are making use of fork() (Unix only) inside a thread. Some systems do not behave wel in this situation.
See <a class="reference external" href="https://docs.python.org/3.5/library/os.html#os.fork" title="(in Python v3.5)"><code class="xref py py-func docutils literal notranslate"><span class="pre">the</span> <span class="pre">os.fork()</span> <span class="pre">doc</span></code></a></p>
</div>
</dd></dl>

</div>
<div class="section" id="module-soma.notification">
<span id="submodule-notification"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">notification</span></code><a class="headerlink" href="#module-soma.notification" title="Permalink to this headline">¶</a></h1>
<p>This module provides a notification system that can be used to register
callbacks (<em>i.e</em> Python callables) that will all be called by a single
<a class="reference internal" href="#soma.notification.Notifier.notify" title="soma.notification.Notifier.notify"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Notifier.notify()</span></code></a> call.</p>
<ul class="simple">
<li><p>author: Yann Cointepas, Dominique Geffroy</p></li>
<li><p>organization: NeuroSpin</p></li>
<li><p>license: <a class="reference external" href="http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.html">CeCILL B</a></p></li>
</ul>
<dl class="py class">
<dt id="soma.notification.EditableTree">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.notification.</span></code><code class="sig-name descname"><span class="pre">EditableTree</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modifiable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#EditableTree"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.EditableTree" title="Permalink to this definition">¶</a></dt>
<dd><p>The base class to model a tree of items.
This class can be derived to change implementation.</p>
<p>An EditableTree contains items which can be</p>
<ul class="simple">
<li><p>an item branch: it contains other items as children</p></li>
<li><p>an item leaf: doesn’t have children</p></li>
</ul>
<p>The list of items is an <a class="reference internal" href="#soma.notification.ObservableSortedDictionary" title="soma.notification.ObservableSortedDictionary"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObservableSortedDictionary</span></code></a> which notifies
its changes to registred listeners.</p>
<p>If the tree is modifiable, new items can be added.</p>
<p>Every item is an <a class="reference internal" href="#soma.notification.EditableTree.Item" title="soma.notification.EditableTree.Item"><code class="xref py py-class docutils literal notranslate"><span class="pre">EditableTree.Item</span></code></a>.</p>
<p><em>EditableTree</em> is iterable over its items.</p>
<p><em>EditableTree</em> also inherits from <a class="reference internal" href="#soma.notification.ObservableAttributes" title="soma.notification.ObservableAttributes"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObservableAttributes</span></code></a>, so
registred listeners can be notified of attributes value change.</p>
<p>To call a method when item list changes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">editableTree</span><span class="o">.</span><span class="n">addListener</span><span class="p">(</span><span class="n">callbackMethod</span><span class="p">)</span>
</pre></div>
</div>
<p>To call a method when an item list changes at any depth in the tree:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">editableTree</span><span class="o">.</span><span class="n">addListenerRec</span><span class="p">(</span><span class="n">callbackMethod</span><span class="p">)</span>
</pre></div>
</div>
<p>To call a method when an attribute of the tree changes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">editableTree</span><span class="o">.</span><span class="n">onAttributeChange</span><span class="p">(</span><span class="n">attributeName</span><span class="p">,</span> <span class="n">callbackMethod</span><span class="p">)</span>
</pre></div>
</div>
<p>To call a method when an attribute changes at any depth in the tree:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">editableTree</span><span class="o">.</span><span class="n">onAttributeChangeRec</span><span class="p">(</span><span class="n">attributeName</span><span class="p">,</span> <span class="n">callbackMethod</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py attribute">
<dt id="soma.notification.EditableTree.defaultName">
<code class="sig-name descname"><span class="pre">defaultName</span></code><a class="headerlink" href="#soma.notification.EditableTree.defaultName" title="Permalink to this definition">¶</a></dt>
<dd><p>default name of the tree</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.notification.EditableTree.name">
<code class="sig-name descname"><span class="pre">name</span></code><a class="headerlink" href="#soma.notification.EditableTree.name" title="Permalink to this definition">¶</a></dt>
<dd><p>the name of the tree</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.notification.EditableTree.id">
<code class="sig-name descname"><span class="pre">id</span></code><a class="headerlink" href="#soma.notification.EditableTree.id" title="Permalink to this definition">¶</a></dt>
<dd><p>tree identifier (a hash by default)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.notification.EditableTree.modifiable">
<code class="sig-name descname"><span class="pre">modifiable</span></code><a class="headerlink" href="#soma.notification.EditableTree.modifiable" title="Permalink to this definition">¶</a></dt>
<dd><p>if <em>True</em>, new items can be added, items can be deleted and modified</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.notification.EditableTree.unamed">
<code class="sig-name descname"><span class="pre">unamed</span></code><a class="headerlink" href="#soma.notification.EditableTree.unamed" title="Permalink to this definition">¶</a></dt>
<dd><p>indicates if <em>name</em> parameter was none, so the tree has the default
name.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.notification.EditableTree.visible">
<code class="sig-name descname"><span class="pre">visible</span></code><a class="headerlink" href="#soma.notification.EditableTree.visible" title="Permalink to this definition">¶</a></dt>
<dd><p>indicates if the tree is visible (if not it may be hidden in a
graphical representation)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>string</em>) – the name of the tree</p></li>
<li><p><strong>id</strong> (<em>string</em>) – tree identifier (a hash by default)</p></li>
<li><p><strong>modifiable</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) – if <em>True</em>, new items can be added, items can be deleted and
modified</p></li>
<li><p><strong>content</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)"><em>list</em></a>) – children items (<a class="reference internal" href="#soma.notification.EditableTree.Item" title="soma.notification.EditableTree.Item"><code class="xref py py-class docutils literal notranslate"><span class="pre">EditableTree.Item</span></code></a>)</p></li>
<li><p><strong>visible</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) – indicates if the tree is visible (if not it may be hidden in a
graphical representation)</p></li>
<li><p><strong>enabled</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py class">
<dt id="soma.notification.EditableTree.Branch">
<em class="property"><span class="pre">class</span> </em><code class="sig-name descname"><span class="pre">Branch</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">icon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tooltip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copyEnabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modifiable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delEnabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#EditableTree.Branch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.EditableTree.Branch" title="Permalink to this definition">¶</a></dt>
<dd><p>A Branch is an <a class="reference internal" href="#soma.notification.EditableTree.Item" title="soma.notification.EditableTree.Item"><code class="xref py py-class docutils literal notranslate"><span class="pre">Item</span></code></a> that can contain
other items.</p>
<p>It inherits from <a class="reference internal" href="#soma.notification.EditableTree.Item" title="soma.notification.EditableTree.Item"><code class="xref py py-class docutils literal notranslate"><span class="pre">Item</span></code></a> and from
<a class="reference internal" href="#soma.notification.ObservableSortedDictionary" title="soma.notification.ObservableSortedDictionary"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObservableSortedDictionary</span></code></a>, so it can have children items.</p>
<p>All parameters must have default values to be able to create new
elements automatically</p>
<dl class="py method">
<dt id="soma.notification.EditableTree.Branch.add">
<code class="sig-name descname"><span class="pre">add</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#EditableTree.Branch.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.EditableTree.Branch.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an item in the tree. If this item’s id is already present in
the tree as a key, add the item’s content in the corresponding key.</p>
<p>recursive method</p>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.EditableTree.Branch.addListenerRec">
<code class="sig-name descname"><span class="pre">addListenerRec</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">listener</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#EditableTree.Branch.addListenerRec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.EditableTree.Branch.addListenerRec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="soma.notification.EditableTree.Branch.compItems">
<code class="sig-name descname"><span class="pre">compItems</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#EditableTree.Branch.compItems"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.EditableTree.Branch.compItems" title="Permalink to this definition">¶</a></dt>
<dd><p>Comparison function</p>
<p>Returns</p>
<ul class="simple">
<li><p>1 if i1 &gt; i2</p></li>
<li><p>-1 if i1 &lt; i2</p></li>
<li><p>0 if they are equal</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.EditableTree.Branch.isLeaf">
<code class="sig-name descname"><span class="pre">isLeaf</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#EditableTree.Branch.isLeaf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.EditableTree.Branch.isLeaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Must be redefined in subclasses to say if the item is a leaf</p>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.EditableTree.Branch.onAttributeChangeRec">
<code class="sig-name descname"><span class="pre">onAttributeChangeRec</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attributeName</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">listener</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#EditableTree.Branch.onAttributeChangeRec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.EditableTree.Branch.onAttributeChangeRec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="soma.notification.EditableTree.Branch.removeEmptyBranches">
<code class="sig-name descname"><span class="pre">removeEmptyBranches</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#EditableTree.Branch.removeEmptyBranches"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.EditableTree.Branch.removeEmptyBranches" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="soma.notification.EditableTree.Branch.sort">
<code class="sig-name descname"><span class="pre">sort</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#EditableTree.Branch.sort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.EditableTree.Branch.sort" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursive sort of the tree: items are sorted in all branches.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="soma.notification.EditableTree.Item">
<em class="property"><span class="pre">class</span> </em><code class="sig-name descname"><span class="pre">Item</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">icon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tooltip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copyEnabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modifiable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delEnabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#EditableTree.Item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.EditableTree.Item" title="Permalink to this definition">¶</a></dt>
<dd><p>Base element of an <a class="reference internal" href="#soma.notification.EditableTree" title="soma.notification.EditableTree"><code class="xref py py-class docutils literal notranslate"><span class="pre">EditableTree</span></code></a></p>
<p><em>Item</em> inherits from <a class="reference internal" href="#soma.notification.ObservableAttributes" title="soma.notification.ObservableAttributes"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObservableAttributes</span></code></a>, so it can notify
registred listeners of attributes changes (for example <a class="reference internal" href="#soma.notification.EditableTree.Item.name" title="soma.notification.EditableTree.Item.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">name</span></code></a>).</p>
<dl class="py attribute">
<dt id="soma.notification.EditableTree.Item.icon">
<code class="sig-name descname"><span class="pre">icon</span></code><a class="headerlink" href="#soma.notification.EditableTree.Item.icon" title="Permalink to this definition">¶</a></dt>
<dd><p>filename of the image that can be used to represent the item</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.notification.EditableTree.Item.name">
<code class="sig-name descname"><span class="pre">name</span></code><a class="headerlink" href="#soma.notification.EditableTree.Item.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Text representation of the item</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.notification.EditableTree.Item.movable">
<code class="sig-name descname"><span class="pre">movable</span></code><a class="headerlink" href="#soma.notification.EditableTree.Item.movable" title="Permalink to this definition">¶</a></dt>
<dd><p>True if the item can be moved in the tree</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.notification.EditableTree.Item.modifiable">
<code class="sig-name descname"><span class="pre">modifiable</span></code><a class="headerlink" href="#soma.notification.EditableTree.Item.modifiable" title="Permalink to this definition">¶</a></dt>
<dd><p>True if the item can changed (add children, change text, icon)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.notification.EditableTree.Item.delEnabled">
<code class="sig-name descname"><span class="pre">delEnabled</span></code><a class="headerlink" href="#soma.notification.EditableTree.Item.delEnabled" title="Permalink to this definition">¶</a></dt>
<dd><p>True if deletion of the item is allowed</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.notification.EditableTree.Item.tooltip">
<code class="sig-name descname"><span class="pre">tooltip</span></code><a class="headerlink" href="#soma.notification.EditableTree.Item.tooltip" title="Permalink to this definition">¶</a></dt>
<dd><p>description associated to the item</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.notification.EditableTree.Item.copyEnabled">
<code class="sig-name descname"><span class="pre">copyEnabled</span></code><a class="headerlink" href="#soma.notification.EditableTree.Item.copyEnabled" title="Permalink to this definition">¶</a></dt>
<dd><p>indicates if this item can be copied</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.notification.EditableTree.Item.visible">
<code class="sig-name descname"><span class="pre">visible</span></code><a class="headerlink" href="#soma.notification.EditableTree.Item.visible" title="Permalink to this definition">¶</a></dt>
<dd><p>indicates if current item is visible (if not it may be hidden in a
graphical representation)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.notification.EditableTree.Item.enabled">
<code class="sig-name descname"><span class="pre">enabled</span></code><a class="headerlink" href="#soma.notification.EditableTree.Item.enabled" title="Permalink to this definition">¶</a></dt>
<dd><p>indicates if the item is enabled, it could be visible but disabled</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.EditableTree.Item.isDescendant">
<code class="sig-name descname"><span class="pre">isDescendant</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#EditableTree.Item.isDescendant"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.EditableTree.Item.isDescendant" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <em>True</em> if the current item is a child or a child’s
child… of the item in parameter</p>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.EditableTree.Item.isLeaf">
<code class="sig-name descname"><span class="pre">isLeaf</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#EditableTree.Item.isLeaf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.EditableTree.Item.isLeaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Must be redefined in subclasses to say if the item is a leaf</p>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.EditableTree.Item.setAllModificationsEnabled">
<code class="sig-name descname"><span class="pre">setAllModificationsEnabled</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#EditableTree.Item.setAllModificationsEnabled"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.EditableTree.Item.setAllModificationsEnabled" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursivly enables or disables item’s modification.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="soma.notification.EditableTree.Leaf">
<em class="property"><span class="pre">class</span> </em><code class="sig-name descname"><span class="pre">Leaf</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'new'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">icon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tooltip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copyEnabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modifiable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delEnabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#EditableTree.Leaf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.EditableTree.Leaf" title="Permalink to this definition">¶</a></dt>
<dd><p>A tree item that cannot have children items</p>
<dl class="py method">
<dt id="soma.notification.EditableTree.Leaf.isLeaf">
<code class="sig-name descname"><span class="pre">isLeaf</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#EditableTree.Leaf.isLeaf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.EditableTree.Leaf.isLeaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Must be redefined in subclasses to say if the item is a leaf</p>
</dd></dl>

</dd></dl>

<dl class="py method">
<dt id="soma.notification.EditableTree.add">
<code class="sig-name descname"><span class="pre">add</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#EditableTree.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.EditableTree.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an item in the tree. If this item’s id is already present in the
tree as a key, add the item’s content in the corresponding key.</p>
<p>recursive method</p>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.EditableTree.addListenerRec">
<code class="sig-name descname"><span class="pre">addListenerRec</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">listener</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#EditableTree.addListenerRec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.EditableTree.addListenerRec" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a listener to the tree recursivly at every level.
The listener is added to the notifier of all branches of the tree.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.EditableTree.compItems">
<code class="sig-name descname"><span class="pre">compItems</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#EditableTree.compItems"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.EditableTree.compItems" title="Permalink to this definition">¶</a></dt>
<dd><p>Comparison function</p>
<p>Returns:</p>
<ul class="simple">
<li><p>1 if <code class="docutils literal notranslate"><span class="pre">i1</span> <span class="pre">&gt;</span> <span class="pre">i2</span></code></p></li>
<li><p>-1 if <code class="docutils literal notranslate"><span class="pre">i1</span> <span class="pre">&lt;</span> <span class="pre">i2</span></code></p></li>
<li><p>0 if they are equal</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.EditableTree.isDescendant">
<code class="sig-name descname"><span class="pre">isDescendant</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#EditableTree.isDescendant"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.EditableTree.isDescendant" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <em>True</em> if the current item is a child or a child’s child…
of the item in parameter</p>
<p>Always <em>False</em> for the root of the tree</p>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.EditableTree.onAttributeChangeRec">
<code class="sig-name descname"><span class="pre">onAttributeChangeRec</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attributeName</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">listener</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#EditableTree.onAttributeChangeRec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.EditableTree.onAttributeChangeRec" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a listener of the changes of this attribute value in the tree
recursivly at every level.</p>
<p>The listener is added to the attribute change notifier of all branches
of the tree.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.EditableTree.removeEmptyBranches">
<code class="sig-name descname"><span class="pre">removeEmptyBranches</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#EditableTree.removeEmptyBranches"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.EditableTree.removeEmptyBranches" title="Permalink to this definition">¶</a></dt>
<dd><p>If a branch item doesn’t contain any leaf or branch that contains
leaf recursivly, the item is removed from the tree.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.EditableTree.sort">
<code class="sig-name descname"><span class="pre">sort</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#EditableTree.sort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.EditableTree.sort" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursive sort of the tree: items are sorted in all branches.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="soma.notification.Notifier">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.notification.</span></code><code class="sig-name descname"><span class="pre">Notifier</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameterCount</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#Notifier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.Notifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a series of functions (or Notifier instances) which are all called
whith the <a class="reference internal" href="#soma.notification.Notifier.notify" title="soma.notification.Notifier.notify"><code class="xref py py-meth docutils literal notranslate"><span class="pre">notify()</span></code></a> method. The calling order is the registering
order. If a Notifier is registered, its <a class="reference internal" href="#soma.notification.Notifier.notify" title="soma.notification.Notifier.notify"><code class="xref py py-meth docutils literal notranslate"><span class="pre">notify()</span></code></a> method is called
whenever <em>self.notify()</em> is called.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>parameterCount</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – if not None, each registered function must be callable with that
number of arguments (checking is done on registration).</p>
</dd>
</dl>
<dl class="py method">
<dt id="soma.notification.Notifier.add">
<code class="sig-name descname"><span class="pre">add</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">listener</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#Notifier.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.Notifier.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a callable or a Notifier that will be called whenever
<a class="reference internal" href="#soma.notification.Notifier.notify" title="soma.notification.Notifier.notify"><code class="xref py py-meth docutils literal notranslate"><span class="pre">notify()</span></code></a> is called. If the notifier has a <em>parameterCount</em>,
<a class="reference internal" href="#soma.utils.functiontools.checkParameterCount" title="soma.utils.functiontools.checkParameterCount"><code class="xref py py-func docutils literal notranslate"><span class="pre">checkParameterCount</span></code></a> is used to verify that
<em>listener</em> can be called with <em>parameterCount</em> parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>listener</strong> (Python callable (function, method, <em>etc</em>.) or <a class="reference internal" href="#soma.notification.Notifier" title="soma.notification.Notifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">Notifier</span></code></a> instance) – item to add to the notification list.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.Notifier.delayNotification">
<code class="sig-name descname"><span class="pre">delayNotification</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignoreDoubles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#Notifier.delayNotification"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.Notifier.delayNotification" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop notification until <a class="reference internal" href="#soma.notification.Notifier.restartNotification" title="soma.notification.Notifier.restartNotification"><code class="xref py py-meth docutils literal notranslate"><span class="pre">restartNotification()</span></code></a> is called. After a
call to :meth`delayNotification`, all calls to <a class="reference internal" href="#soma.notification.Notifier.notify" title="soma.notification.Notifier.notify"><code class="xref py py-meth docutils literal notranslate"><span class="pre">notify()</span></code></a> will only
store the notification parameters until <a class="reference internal" href="#soma.notification.Notifier.restartNotification" title="soma.notification.Notifier.restartNotification"><code class="xref py py-meth docutils literal notranslate"><span class="pre">restartNotification()</span></code></a> is
called.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ignoreDoubles</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) – If <em>True</em> (the default), all calls to <a class="reference internal" href="#soma.notification.Notifier.notify" title="soma.notification.Notifier.notify"><code class="xref py py-meth docutils literal notranslate"><span class="pre">notify()</span></code></a> with
the same parameters as a previous call will be ignored (<em>i.e.</em>
notification will be done only once for two identical calls).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.Notifier.notify">
<code class="sig-name descname"><span class="pre">notify</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#Notifier.notify"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.Notifier.notify" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls all the registered items in the notification list. All the
parameters given to <a class="reference internal" href="#soma.notification.Notifier.notify" title="soma.notification.Notifier.notify"><code class="xref py py-meth docutils literal notranslate"><span class="pre">notify()</span></code></a> are passed to the items in the list.
For items in the list that are <a class="reference internal" href="#soma.notification.Notifier" title="soma.notification.Notifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">Notifier</span></code></a> instance, their
<a class="reference internal" href="#soma.notification.Notifier.notify" title="soma.notification.Notifier.notify"><code class="xref py py-meth docutils literal notranslate"><span class="pre">notify()</span></code></a> method is called</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#soma.notification.Notifier.delayNotification" title="soma.notification.Notifier.delayNotification"><code class="xref py py-meth docutils literal notranslate"><span class="pre">delayNotification()</span></code></a>, <a class="reference internal" href="#soma.notification.Notifier.restartNotification" title="soma.notification.Notifier.restartNotification"><code class="xref py py-meth docutils literal notranslate"><span class="pre">restartNotification()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.Notifier.remove">
<code class="sig-name descname"><span class="pre">remove</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">listener</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#Notifier.remove"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.Notifier.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove an item from the notification list. Do nothing if <em>listener</em> is
not in the list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>listener</strong> (Python callable or <a class="reference internal" href="#soma.notification.Notifier" title="soma.notification.Notifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">Notifier</span></code></a> instance) – item previously registered with <a class="reference internal" href="#soma.notification.Notifier.add" title="soma.notification.Notifier.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add()</span></code></a>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>True</em> if a listener has been removed, <em>False</em> otherwise.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.Notifier.restartNotification">
<code class="sig-name descname"><span class="pre">restartNotification</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#Notifier.restartNotification"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.Notifier.restartNotification" title="Permalink to this definition">¶</a></dt>
<dd><p>Restart notifications that have been delayed by
<a class="reference internal" href="#soma.notification.Notifier.delayNotification" title="soma.notification.Notifier.delayNotification"><code class="xref py py-meth docutils literal notranslate"><span class="pre">delayNotification()</span></code></a>. All the calls to <a class="reference internal" href="#soma.notification.Notifier.notify" title="soma.notification.Notifier.notify"><code class="xref py py-meth docutils literal notranslate"><span class="pre">notify()</span></code></a> that have
been done between the call to <a class="reference internal" href="#soma.notification.Notifier.delayNotification" title="soma.notification.Notifier.delayNotification"><code class="xref py py-meth docutils literal notranslate"><span class="pre">delayNotification()</span></code></a> and the call to
<a class="reference internal" href="#soma.notification.Notifier.restartNotification" title="soma.notification.Notifier.restartNotification"><code class="xref py py-meth docutils literal notranslate"><span class="pre">restartNotification()</span></code></a>, are applied immediately.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="soma.notification.ObservableAttributes">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.notification.</span></code><code class="sig-name descname"><span class="pre">ObservableAttributes</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#ObservableAttributes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.ObservableAttributes" title="Permalink to this definition">¶</a></dt>
<dd><p>ObservableAttributes allows to track modification of attributes at
runtime. By registering callbacks, it is possible to be warn of the
modification (setting and deletion) of any attribute of the instance.</p>
<dl class="py method">
<dt id="soma.notification.ObservableAttributes.delayAttributeNotification">
<code class="sig-name descname"><span class="pre">delayAttributeNotification</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignoreDoubles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#ObservableAttributes.delayAttributeNotification"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.ObservableAttributes.delayAttributeNotification" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop attribute modification notification until
<a class="reference internal" href="#soma.notification.ObservableAttributes.restartAttributeNotification" title="soma.notification.ObservableAttributes.restartAttributeNotification"><code class="xref py py-meth docutils literal notranslate"><span class="pre">restartAttributeNotification()</span></code></a> is called. After a call to
<a class="reference internal" href="#soma.notification.ObservableAttributes.delayAttributeNotification" title="soma.notification.ObservableAttributes.delayAttributeNotification"><code class="xref py py-meth docutils literal notranslate"><span class="pre">delayAttributeNotification()</span></code></a>, all modification notification will
only be stored until <a class="reference internal" href="#soma.notification.ObservableAttributes.restartAttributeNotification" title="soma.notification.ObservableAttributes.restartAttributeNotification"><code class="xref py py-meth docutils literal notranslate"><span class="pre">restartAttributeNotification()</span></code></a> is called.
This call is recursive on all attributes values that are instance of
<a class="reference internal" href="#soma.notification.ObservableAttributes" title="soma.notification.ObservableAttributes"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObservableAttributes</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ignoreDoubles</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) – If True (False is the default), all notification with the same
parameters as a previous notification will be ignored (<em>i.e.</em> notification will be done only once for two identical events).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.ObservableAttributes.notifyAttributeChange">
<code class="sig-name descname"><span class="pre">notifyAttributeChange</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">name</span></em>, <em class="sig-param"><span class="pre">value</span></em>, <em class="sig-param"><span class="pre">oldValue=&lt;undefined&gt;</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#ObservableAttributes.notifyAttributeChange"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.ObservableAttributes.notifyAttributeChange" title="Permalink to this definition">¶</a></dt>
<dd><p>First, calls functions registered for modification of the attribute
named <em>name</em>, then call functions registered for modification of any
attribute.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#soma.notification.ObservableAttributes.onAttributeChange" title="soma.notification.ObservableAttributes.onAttributeChange"><code class="xref py py-meth docutils literal notranslate"><span class="pre">onAttributeChange()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.ObservableAttributes.onAttributeChange">
<code class="sig-name descname"><span class="pre">onAttributeChange</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">first</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">second</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#ObservableAttributes.onAttributeChange"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.ObservableAttributes.onAttributeChange" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a function to be called when an attribute is modified or
deleted. To call the function for any attribute modification, use the
following syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">instance</span><span class="o">.</span><span class="n">onAttributeChange</span><span class="p">(</span><span class="n">function</span><span class="p">)</span>
</pre></div>
</div>
<p>To register a function for a named attribute, use the following
syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">instance</span><span class="o">.</span><span class="n">onAttributeChange</span><span class="p">(</span><span class="n">attributeName</span><span class="p">,</span> <span class="n">function</span><span class="p">)</span>
</pre></div>
</div>
<p>The registered function can have 0 to 4 parameters. Depending on its
number of parameters, it will be called with the following values:</p>
<ul class="simple">
<li><p>4 parameters: (object, attributeName, newValue, oldValue)</p></li>
<li><p>3 parameters: (attributeName, newValue, oldValue)</p></li>
<li><p>2 parameters: (newValue, oldValue)</p></li>
<li><p>1 parameter: (newValue)</p></li>
</ul>
<p>Where:</p>
<ul class="simple">
<li><p><strong>object</strong> is the object whose attribute has been modified or
deleted.</p></li>
<li><p><strong>attributeName</strong> is the name of the modified or deleted attribute.</p></li>
<li><p><strong>newValue</strong> is the value of the attribute after modification or
<code class="docutils literal notranslate"><span class="pre">Undefined</span></code> if the attribute has been deleted.</p></li>
<li><p><strong>oldValue</strong> is the value of the attribute before modification. If
the attribute was not defined, <code class="docutils literal notranslate"><span class="pre">oldValue</span> <span class="pre">=</span> <span class="pre">Undefined</span></code>.</p></li>
</ul>
<p>If the function accepts a variable number of parameters, it will be
called with the maximum number of arguments possible.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.ObservableAttributes.removeOnAttributeChange">
<code class="sig-name descname"><span class="pre">removeOnAttributeChange</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">first</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">second</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#ObservableAttributes.removeOnAttributeChange"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.ObservableAttributes.removeOnAttributeChange" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a function previously registered with <a class="reference internal" href="#soma.notification.ObservableAttributes.onAttributeChange" title="soma.notification.ObservableAttributes.onAttributeChange"><code class="xref py py-meth docutils literal notranslate"><span class="pre">onAttributeChange()</span></code></a>.
To remove a function, the arguments of <a class="reference internal" href="#soma.notification.ObservableAttributes.removeOnAttributeChange" title="soma.notification.ObservableAttributes.removeOnAttributeChange"><code class="xref py py-meth docutils literal notranslate"><span class="pre">removeOnAttributeChange()</span></code></a>
must be the same as those passed to <a class="reference internal" href="#soma.notification.ObservableAttributes.onAttributeChange" title="soma.notification.ObservableAttributes.onAttributeChange"><code class="xref py py-meth docutils literal notranslate"><span class="pre">onAttributeChange()</span></code></a> to
register the function.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.ObservableAttributes.restartAttributeNotification">
<code class="sig-name descname"><span class="pre">restartAttributeNotification</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#ObservableAttributes.restartAttributeNotification"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.ObservableAttributes.restartAttributeNotification" title="Permalink to this definition">¶</a></dt>
<dd><p>Restarts notifications that have been delayed by
<a class="reference internal" href="#soma.notification.ObservableAttributes.delayAttributeNotification" title="soma.notification.ObservableAttributes.delayAttributeNotification"><code class="xref py py-meth docutils literal notranslate"><span class="pre">delayAttributeNotification()</span></code></a>. All the modifications that happened
between the call to <a class="reference internal" href="#soma.notification.ObservableAttributes.delayAttributeNotification" title="soma.notification.ObservableAttributes.delayAttributeNotification"><code class="xref py py-meth docutils literal notranslate"><span class="pre">delayAttributeNotification()</span></code></a> and the call to
<a class="reference internal" href="#soma.notification.ObservableAttributes.restartAttributeNotification" title="soma.notification.ObservableAttributes.restartAttributeNotification"><code class="xref py py-meth docutils literal notranslate"><span class="pre">restartAttributeNotification()</span></code></a>, are notified immediately.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="soma.notification.ObservableList">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.notification.</span></code><code class="sig-name descname"><span class="pre">ObservableList</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#ObservableList"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.ObservableList" title="Permalink to this definition">¶</a></dt>
<dd><p>A list that notifies its changes to registred listeners.
Inherits from python list and contains an instance of <a class="reference internal" href="#soma.notification.Notifier" title="soma.notification.Notifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">Notifier</span></code></a>
(<a class="reference internal" href="#soma.notification.ObservableList.onChangeNotifier" title="soma.notification.ObservableList.onChangeNotifier"><code class="xref py py-attr docutils literal notranslate"><span class="pre">onChangeNotifier</span></code></a>).</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">l</span> <span class="o">=</span> <span class="n">ObservableList</span><span class="p">()</span>
<span class="n">l</span><span class="o">.</span><span class="n">addListener</span><span class="p">(</span><span class="n">update</span><span class="p">)</span>
<span class="n">l</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>calls <a class="reference internal" href="#soma.notification.Notifier.notify" title="soma.notification.Notifier.notify"><code class="xref py py-meth docutils literal notranslate"><span class="pre">onChangeNotifier.notify(INSERT_ACTION,</span> <span class="pre">[e],</span> <span class="pre">len(l))</span></code></a></p></li>
<li><p>calls <code class="docutils literal notranslate"><span class="pre">update(INSERT_ACTION,</span> <span class="pre">[e],</span> <span class="pre">len(l))</span></code></p></li>
</ul>
<dl class="py attribute">
<dt id="soma.notification.ObservableList.INSERT_ACTION">
<code class="sig-name descname"><span class="pre">INSERT_ACTION</span></code><a class="headerlink" href="#soma.notification.ObservableList.INSERT_ACTION" title="Permalink to this definition">¶</a></dt>
<dd><p>used to notify insertion of new elements  in the list</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.notification.ObservableList.REMOVE_ACTION">
<code class="sig-name descname"><span class="pre">REMOVE_ACTION</span></code><a class="headerlink" href="#soma.notification.ObservableList.REMOVE_ACTION" title="Permalink to this definition">¶</a></dt>
<dd><p>used to notify elements deletion</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.notification.ObservableList.MODIFY_ACTION">
<code class="sig-name descname"><span class="pre">MODIFY_ACTION</span></code><a class="headerlink" href="#soma.notification.ObservableList.MODIFY_ACTION" title="Permalink to this definition">¶</a></dt>
<dd><p>used to notify elements modification</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.notification.ObservableList.onChangeNotifier">
<code class="sig-name descname"><span class="pre">onChangeNotifier</span></code><a class="headerlink" href="#soma.notification.ObservableList.onChangeNotifier" title="Permalink to this definition">¶</a></dt>
<dd><p>the Notifier’s notify method is called when the list
has changed.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#soma.notification.Notifier" title="soma.notification.Notifier">Notifier</a></p>
</dd>
</dl>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>content</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)"><em>list</em></a>) – elements to initialize the list content</p>
</dd>
</dl>
<dl class="py method">
<dt id="soma.notification.ObservableList.addListener">
<code class="sig-name descname"><span class="pre">addListener</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">listener</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#ObservableList.addListener"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.ObservableList.addListener" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers the listener callback method in the notifier.
The method must take 3 arguments: action, elems list, position</p>
<p><em>action</em> should be one of:</p>
<ul class="simple">
<li><p>INSERT_ACTION: elems have been inserted at position in the list</p></li>
<li><p>REMOVE_ACTION: elems have been removed [at position] in the list</p></li>
<li><p>MODIFY_ACTION: at position, some elements have been replaced by
elems</p></li>
</ul>
<p>The position given in the notify method will be between 0 and
<code class="docutils literal notranslate"><span class="pre">len(self)</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>listener</strong> (<em>function</em>) – function to call to notify changes</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.ObservableList.append">
<code class="sig-name descname"><span class="pre">append</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elem</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#ObservableList.append"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.ObservableList.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the element at the end of the list.
Notifies an insert action.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.ObservableList.extend">
<code class="sig-name descname"><span class="pre">extend</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#ObservableList.extend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.ObservableList.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the content of the list l at the end of current list.
Notifies an insert action.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.ObservableList.getIndexInRange">
<code class="sig-name descname"><span class="pre">getIndexInRange</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#ObservableList.getIndexInRange"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.ObservableList.getIndexInRange" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an index in the range of the list.</p>
<ul class="simple">
<li><p>if <code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">&lt;</span> <span class="pre">0</span></code> returns 0</p></li>
<li><p>if <code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">&gt;</span> <span class="pre">len(self)</span></code>, returns <code class="docutils literal notranslate"><span class="pre">len(self)</span></code></p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.ObservableList.getPositiveIndex">
<code class="sig-name descname"><span class="pre">getPositiveIndex</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#ObservableList.getPositiveIndex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.ObservableList.getPositiveIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an index between 0 and <code class="docutils literal notranslate"><span class="pre">len(self)</span></code></p>
<ul class="simple">
<li><p>if <em>i</em> is negative, it is replaced by <code class="docutils literal notranslate"><span class="pre">len(self)</span> <span class="pre">+</span> <span class="pre">i</span></code></p></li>
<li><p>if <em>index</em> is again negative, it is replaced by 0</p></li>
<li><p>if <em>index</em> is beyond <code class="docutils literal notranslate"><span class="pre">len(self)</span></code> it is replaced by <code class="docutils literal notranslate"><span class="pre">len(self)</span></code></p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.ObservableList.insert">
<code class="sig-name descname"><span class="pre">insert</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elem</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#ObservableList.insert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.ObservableList.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts elem at position pos in the list.
Notifies an insert action.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.ObservableList.itemIndex">
<code class="sig-name descname"><span class="pre">itemIndex</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#ObservableList.itemIndex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.ObservableList.itemIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns item’s index in the list. It is different from the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">list.index()</span></code> method that returns the index of the first element
that has the same value as <em>item</em>.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.ObservableList.pop">
<code class="sig-name descname"><span class="pre">pop</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#ObservableList.pop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.ObservableList.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the element at position pos or the last element if pos is
<em>None</em>.</p>
<p>Notifies a remove action.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the removed element</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#object" title="(in Python v3.5)">object</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.ObservableList.remove">
<code class="sig-name descname"><span class="pre">remove</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elem</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#ObservableList.remove"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.ObservableList.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the first occurence of elem in the list.</p>
<p>Notifies a remove action.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.ObservableList.reverse">
<code class="sig-name descname"><span class="pre">reverse</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#ObservableList.reverse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.ObservableList.reverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Inverses the order of the list.
Notifies a modify action.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.ObservableList.sort">
<code class="sig-name descname"><span class="pre">sort</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#ObservableList.sort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.ObservableList.sort" title="Permalink to this definition">¶</a></dt>
<dd><p>Sorts the list using key function key.</p>
<p>Notifies a modify action.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>key</strong> – key function: elem-&gt;key</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>function</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="soma.notification.ObservableNotifier">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.notification.</span></code><code class="sig-name descname"><span class="pre">ObservableNotifier</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameterCount</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#ObservableNotifier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.ObservableNotifier" title="Permalink to this definition">¶</a></dt>
<dd><p>This notifier can notify when the first listener is added and when the last
listener is removed.</p>
<p>It enables to use the notifier only when there are some listeners
registred.</p>
<dl class="py attribute">
<dt id="soma.notification.ObservableNotifier.onAddFirstListener">
<code class="sig-name descname"><span class="pre">onAddFirstListener</span></code><a class="headerlink" href="#soma.notification.ObservableNotifier.onAddFirstListener" title="Permalink to this definition">¶</a></dt>
<dd><p>register a listener on this notifier to be called when the first
listener is registred on ObservableNotifier</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#soma.notification.Notifier" title="soma.notification.Notifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">Notifier</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.notification.ObservableNotifier.onRemoveLastListener">
<code class="sig-name descname"><span class="pre">onRemoveLastListener</span></code><a class="headerlink" href="#soma.notification.ObservableNotifier.onRemoveLastListener" title="Permalink to this definition">¶</a></dt>
<dd><p>register a listener on this notifier to be called when the last
listener is removed from ObservableNotifier</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#soma.notification.Notifier" title="soma.notification.Notifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">Notifier</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>parameterCount</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – if not <em>None</em>, each registered function must be callable with that
number of arguments (checking is done on registration).</p>
</dd>
</dl>
<dl class="py method">
<dt id="soma.notification.ObservableNotifier.add">
<code class="sig-name descname"><span class="pre">add</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">listener</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#ObservableNotifier.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.ObservableNotifier.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a callable or a Notifier that will be called whenever
<code class="xref py py-meth docutils literal notranslate"><span class="pre">notify()</span></code> is called. If the notifier has a <em>parameterCount</em>,
<a class="reference internal" href="#soma.utils.functiontools.checkParameterCount" title="soma.utils.functiontools.checkParameterCount"><code class="xref py py-func docutils literal notranslate"><span class="pre">checkParameterCount</span></code></a> is used to verify that
<em>listener</em> can be called with <em>parameterCount</em> parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>listener</strong> (Python callable (function, method, <em>etc</em>.) or <a class="reference internal" href="#soma.notification.Notifier" title="soma.notification.Notifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">Notifier</span></code></a> instance) – item to add to the notification list.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.ObservableNotifier.remove">
<code class="sig-name descname"><span class="pre">remove</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">listener</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#ObservableNotifier.remove"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.ObservableNotifier.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove an item from the notification list. Do nothing if <em>listener</em> is
not in the list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>listener</strong> (Python callable or <a class="reference internal" href="#soma.notification.Notifier" title="soma.notification.Notifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">Notifier</span></code></a> instance) – item previously registered with <a class="reference internal" href="#soma.notification.ObservableNotifier.add" title="soma.notification.ObservableNotifier.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add()</span></code></a>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>True</em> if a listener has been removed, <em>False</em> otherwise.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)">bool</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="soma.notification.ObservableSortedDictionary">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.notification.</span></code><code class="sig-name descname"><span class="pre">ObservableSortedDictionary</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#ObservableSortedDictionary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.ObservableSortedDictionary" title="Permalink to this definition">¶</a></dt>
<dd><p>A sorted dictionary that notifies its changes.
Inherits from python list and contains an instance of
<a class="reference internal" href="#soma.notification.Notifier" title="soma.notification.Notifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">Notifier</span></code></a> (<a class="reference internal" href="#soma.notification.ObservableSortedDictionary.onChangeNotifier" title="soma.notification.ObservableSortedDictionary.onChangeNotifier"><code class="xref py py-attr docutils literal notranslate"><span class="pre">onChangeNotifier</span></code></a>).</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">d</span><span class="o">=</span><span class="n">ObservableSortedDictionary</span><span class="p">()</span>
<span class="n">d</span><span class="o">.</span><span class="n">addListener</span><span class="p">(</span><span class="n">update</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>calls <a class="reference internal" href="#soma.notification.Notifier.notify" title="soma.notification.Notifier.notify"><code class="xref py py-meth docutils literal notranslate"><span class="pre">onChangeNotifier.notify(INSERT_ACTION,</span> <span class="pre">[e],</span> <span class="pre">index)</span></code></a></p></li>
<li><p>calls <code class="docutils literal notranslate"><span class="pre">update(INSERT_ACTION,</span> <span class="pre">[e],</span> <span class="pre">index)</span></code></p></li>
</ul>
<dl class="py attribute">
<dt id="soma.notification.ObservableSortedDictionary.INSERT_ACTION">
<code class="sig-name descname"><span class="pre">INSERT_ACTION</span></code><a class="headerlink" href="#soma.notification.ObservableSortedDictionary.INSERT_ACTION" title="Permalink to this definition">¶</a></dt>
<dd><p>used to notify insertion of new elements  in the dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.notification.ObservableSortedDictionary.REMOVE_ACTION">
<code class="sig-name descname"><span class="pre">REMOVE_ACTION</span></code><a class="headerlink" href="#soma.notification.ObservableSortedDictionary.REMOVE_ACTION" title="Permalink to this definition">¶</a></dt>
<dd><p>used to notify elements deletion</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.notification.ObservableSortedDictionary.MODIFY_ACTION">
<code class="sig-name descname"><span class="pre">MODIFY_ACTION</span></code><a class="headerlink" href="#soma.notification.ObservableSortedDictionary.MODIFY_ACTION" title="Permalink to this definition">¶</a></dt>
<dd><p>used to notify elements modification</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.notification.ObservableSortedDictionary.onChangeNotifier">
<code class="sig-name descname"><span class="pre">onChangeNotifier</span></code><a class="headerlink" href="#soma.notification.ObservableSortedDictionary.onChangeNotifier" title="Permalink to this definition">¶</a></dt>
<dd><p>the Notifier’s notify method is called when the dictionaty has changed.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#soma.notification.Notifier" title="soma.notification.Notifier">Notifier</a></p>
</dd>
</dl>
</dd></dl>

<p>Initialize the dictionary with a list of ( key, value ) pairs.</p>
<dl class="py method">
<dt id="soma.notification.ObservableSortedDictionary.addListener">
<code class="sig-name descname"><span class="pre">addListener</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">listener</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#ObservableSortedDictionary.addListener"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.ObservableSortedDictionary.addListener" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers the listener callback method in the notifier.
The method must take 3 arguments: action, elems list, position</p>
<p><em>action</em> should be one of:</p>
<ul class="simple">
<li><p>INSERT_ACTION: elems have been inserted at position in the dictionary</p></li>
<li><p>REMOVE_ACTION: elems have been removed [at position] in the dict</p></li>
<li><p>MODIFY_ACTION: at position, some elements have been replaced by elems</p></li>
</ul>
<p>The position given in the notify method will be between 0 and len(self)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>listener</strong> (<em>function</em>) – function to call to notify changes</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.ObservableSortedDictionary.clear">
<code class="sig-name descname"><span class="pre">clear</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#ObservableSortedDictionary.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.ObservableSortedDictionary.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes all items from dictionary</p>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.ObservableSortedDictionary.insert">
<code class="sig-name descname"><span class="pre">insert</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#ObservableSortedDictionary.insert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.ObservableSortedDictionary.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>inserts a (<em>key</em>, <em>value</em>) pair in the sorted dictionary before
position <em>index</em>. If <em>key</em> is already in the dictionary, a
<code class="xref py py-class docutils literal notranslate"><span class="pre">KeyError</span></code> is raised.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – key to insert</p></li>
<li><p><strong>value</strong> – value associated to <em>key</em></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>index</strong> – index of C{key} in the sorted keys</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>integer</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.ObservableSortedDictionary.sort">
<code class="sig-name descname"><span class="pre">sort</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#ObservableSortedDictionary.sort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.ObservableSortedDictionary.sort" title="Permalink to this definition">¶</a></dt>
<dd><p>Sorts the dictionary using function <em>key</em> to compare keys.</p>
<p>Notifies a modify action.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>key</strong> (<em>function</em>) – key function key-&gt;key</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="soma.notification.ReorderedCall">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.notification.</span></code><code class="sig-name descname"><span class="pre">ReorderedCall</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parametersOrder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#ReorderedCall"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.ReorderedCall" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>todo:</strong> documentation</p>
</dd></dl>

<dl class="py class">
<dt id="soma.notification.VariableParametersNotifier">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.notification.</span></code><code class="sig-name descname"><span class="pre">VariableParametersNotifier</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mainParameters</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">otherParameters</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#VariableParametersNotifier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.VariableParametersNotifier" title="Permalink to this definition">¶</a></dt>
<dd><p>This class is a notifier that can register functions with various arguments
count.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#soma.notification.Notifier" title="soma.notification.Notifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">Notifier</span></code></a></p>
</div>
<p><strong>todo</strong> documentation</p>
<dl class="py method">
<dt id="soma.notification.VariableParametersNotifier.add">
<code class="sig-name descname"><span class="pre">add</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">listener</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#VariableParametersNotifier.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.VariableParametersNotifier.add" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#soma.notification.Notifier.add" title="soma.notification.Notifier.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Notifier.add()</span></code></a></p>
</div>
<p><strong>todo:</strong> documentation</p>
</dd></dl>

<dl class="py method">
<dt id="soma.notification.VariableParametersNotifier.remove">
<code class="sig-name descname"><span class="pre">remove</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">listener</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/notification.html#VariableParametersNotifier.remove"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.notification.VariableParametersNotifier.remove" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#soma.notification.Notifier.remove" title="soma.notification.Notifier.remove"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Notifier.remove()</span></code></a></p>
</div>
<p><strong>todo:</strong> documentation</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-soma.path">
<span id="submodule-path"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">path</span></code><a class="headerlink" href="#module-soma.path" title="Permalink to this headline">¶</a></h1>
<p>Some useful functions to manage file or directorie names.</p>
<ul class="simple">
<li><p>author: Yann Cointepas</p></li>
<li><p>organization: NeuroSpin</p></li>
<li><p>license: <a class="reference external" href="http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.html">CeCILL B</a></p></li>
</ul>
<dl class="py function">
<dt id="soma.path.ensure_is_dir">
<code class="sig-prename descclassname"><span class="pre">soma.path.</span></code><code class="sig-name descname"><span class="pre">ensure_is_dir</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clear_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/path.html#ensure_is_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.path.ensure_is_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>If the directory doesn’t exist, use os.makedirs</p>
</dd></dl>

<dl class="py function">
<dt id="soma.path.find_in_path">
<code class="sig-prename descclassname"><span class="pre">soma.path.</span></code><code class="sig-name descname"><span class="pre">find_in_path</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/path.html#find_in_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.path.find_in_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Look for a file in a series of directories. By default, directories are
contained in <code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment variable. But another environment
variable name or a sequence of directories names can be given in <em>path</em>
parameter.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">find_in_path</span><span class="p">(</span><span class="s1">&#39;sh&#39;</span><span class="p">)</span> <span class="n">could</span> <span class="k">return</span> <span class="s1">&#39;/bin/sh&#39;</span>
<span class="n">find_in_path</span><span class="p">(</span><span class="s1">&#39;libpython2.7.so&#39;</span><span class="p">,</span> <span class="s1">&#39;LD_LIBRARY_PATH&#39;</span><span class="p">)</span> <span class="n">could</span> <span class="k">return</span> <span class="s1">&#39;/usr/local/lib/libpython2.7.so&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="soma.path.locate_file">
<code class="sig-prename descclassname"><span class="pre">soma.path.</span></code><code class="sig-name descname"><span class="pre">locate_file</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/path.html#locate_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.path.locate_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Locates a file in a directory tree</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> (<em>string</em>) – The pattern to find</p></li>
<li><p><strong>root</strong> (<em>string</em>) – The search root directory</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The first found occurrence</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="soma.path.parse_query_string">
<code class="sig-prename descclassname"><span class="pre">soma.path.</span></code><code class="sig-name descname"><span class="pre">parse_query_string</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/path.html#parse_query_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.path.parse_query_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the query string from a path and returns a dictionary.</p>
<p class="rubric">Example</p>
</dd></dl>

<dl class="py function">
<dt id="soma.path.path_hash">
<code class="sig-prename descclassname"><span class="pre">soma.path.</span></code><code class="sig-name descname"><span class="pre">path_hash</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/path.html#path_hash"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.path.path_hash" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a hash hexdigest for a file or a directory.</p>
</dd></dl>

<dl class="py function">
<dt id="soma.path.relative_path">
<code class="sig-prename descclassname"><span class="pre">soma.path.</span></code><code class="sig-name descname"><span class="pre">relative_path</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">referenceDirectory</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/path.html#relative_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.path.relative_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a relative version of a path given a
reference directory.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">referenceDirectory</span><span class="p">,</span> <span class="n">relative_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">referenceDirectory</span><span class="p">))</span>
<span class="n">returns</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">pat</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">relative_path</span><span class="p">(</span><span class="s1">&#39;/usr/local/brainvisa-3.1/bin/brainvisa&#39;</span><span class="p">,</span> <span class="s1">&#39;/usr/local&#39;</span><span class="p">)</span>
<span class="n">returns</span> <span class="s1">&#39;brainvisa-3.1/bin/brainvisa&#39;</span>

<span class="n">relative_path</span><span class="p">(</span><span class="s1">&#39;/usr/local/brainvisa-3.1/bin/brainvisa&#39;</span><span class="p">,</span> <span class="s1">&#39;/usr/local/bin&#39;</span><span class="p">)</span>
<span class="n">returns</span> <span class="s1">&#39;../brainvisa-3.1/bin/brainvisa&#39;</span>

<span class="n">relative_path</span><span class="p">(</span><span class="s1">&#39;/usr/local/brainvisa-3.1/bin/brainvisa&#39;</span><span class="p">,</span> <span class="s1">&#39;/tmp/test/brainvisa&#39;</span><span class="p">)</span>
<span class="n">returns</span> <span class="s1">&#39;../../../usr/local/brainvisa-3.1/bin/brainvisa&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="soma.path.remove_query_string">
<code class="sig-prename descclassname"><span class="pre">soma.path.</span></code><code class="sig-name descname"><span class="pre">remove_query_string</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/path.html#remove_query_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.path.remove_query_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the query string from a path.</p>
<p class="rubric">Example</p>
<p>A path containing a query string is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>/dir1/file1?param1=val1&amp;param2=val2&amp;paramN=valN
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">remove_query_string</span><span class="p">(</span> <span class="s1">&#39;/dir1/file1?param1=val1&amp;param2=val2&amp;paramN=valN&#39;</span> <span class="p">)</span>
</pre></div>
</div>
<p>would return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;/dir1/file1&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="soma.path.split_path">
<code class="sig-prename descclassname"><span class="pre">soma.path.</span></code><code class="sig-name descname"><span class="pre">split_path</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/path.html#split_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.path.split_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Iteratively apply <a class="reference external" href="https://docs.python.org/3.5/library/os.path.html#os.path.split" title="(in Python v3.5)"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.path.split()</span></code></a> to build a list. Ignore trailing directory separator.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">split_path</span><span class="p">(</span><span class="s1">&#39;/home/myaccount/data/file.csv&#39;</span><span class="p">)</span> <span class="n">returns</span> <span class="p">[</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="s1">&#39;home&#39;</span><span class="p">,</span> <span class="s1">&#39;myaccount&#39;</span><span class="p">,</span> <span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="s1">&#39;file.csv&#39;</span><span class="p">]</span>
<span class="n">split_path</span><span class="p">(</span><span class="s1">&#39;home/myaccount/data/file.csv&#39;</span><span class="p">)</span> <span class="n">returns</span> <span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">,</span> <span class="s1">&#39;myaccount&#39;</span><span class="p">,</span> <span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="s1">&#39;file.csv&#39;</span><span class="p">]</span>
<span class="n">split_path</span><span class="p">(</span><span class="s1">&#39;/home/myaccount/data/&#39;</span><span class="p">)</span> <span class="n">returns</span> <span class="p">[</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="s1">&#39;home&#39;</span><span class="p">,</span> <span class="s1">&#39;myaccount&#39;</span><span class="p">,</span> <span class="s1">&#39;data&#39;</span><span class="p">]</span>
<span class="n">split_path</span><span class="p">(</span><span class="s1">&#39;/home/myaccount/data&#39;</span><span class="p">)</span> <span class="n">returns</span> <span class="p">[</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="s1">&#39;home&#39;</span><span class="p">,</span> <span class="s1">&#39;myaccount&#39;</span><span class="p">,</span> <span class="s1">&#39;data&#39;</span><span class="p">]</span>
<span class="n">split_path</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="n">returns</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="soma.path.split_query_string">
<code class="sig-prename descclassname"><span class="pre">soma.path.</span></code><code class="sig-name descname"><span class="pre">split_query_string</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/path.html#split_query_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.path.split_query_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Split a path and its query string.</p>
<p class="rubric">Example</p>
<p>A path containing a query string is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>/dir1/file1?param1=val1&amp;param2=val2&amp;paramN=valN
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">split_query_string</span><span class="p">(</span> <span class="s1">&#39;/dir1/file1?param1=val1&amp;param2=val2&amp;paramN=valN&#39;</span> <span class="p">)</span>
</pre></div>
</div>
<p>would return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="s1">&#39;/dir1/file1&#39;</span><span class="p">,</span> <span class="s1">&#39;?param1=val1&amp;param2=val2&amp;paramN=valN&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="soma.path.strict_urlparse">
<code class="sig-prename descclassname"><span class="pre">soma.path.</span></code><code class="sig-name descname"><span class="pre">strict_urlparse</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/path.html#strict_urlparse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.path.strict_urlparse" title="Permalink to this definition">¶</a></dt>
<dd><p>A “fixed” version of urlparse.urlparse() which preserves the case of the
drive letter in windows paths. The standard urlparse changes ‘Z:/some/path’
to ‘z:/some/path’</p>
</dd></dl>

<dl class="py function">
<dt id="soma.path.update_hash_from_directory">
<code class="sig-prename descclassname"><span class="pre">soma.path.</span></code><code class="sig-name descname"><span class="pre">update_hash_from_directory</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/path.html#update_hash_from_directory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.path.update_hash_from_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Update a hash object from the content of a directory. The hash will
reflect the recursive content of all files as well as the paths in all
directories.</p>
</dd></dl>

<dl class="py function">
<dt id="soma.path.update_query_string">
<code class="sig-prename descclassname"><span class="pre">soma.path.</span></code><code class="sig-name descname"><span class="pre">update_query_string</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_update_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/path.html#update_query_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.path.update_query_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the query string parameters in a path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>string</em>) – The path to update parameters within.</p></li>
<li><p><strong>params</strong> (<em>dict|list</em>) – A dictionnary that contains keys and parameters to set in the query
string</p></li>
<li><p><strong>params_update_mode</strong> (<em>dict|string|list|int</em>) – <p>The default value is QueryStringParamUpdateMode.REPLACE that lead to
replace value in the query string path by the one given in the params
dictionary.</p>
<p>It is possible to change the default behaviour giving the value
QueryStringParamUpdateMode.APPEND. This will lead to always append
values of the params dictionary to values of the query string path.
The default behaviour can also be changed by specifying a parameter
name as string, in this case only values for that parameter name will
be appended. It can also contains a list or a tuple of parameter names
for which values will be appended.</p>
<p>Finally, this parameter can be a dictionary that specifies which
parameter has to be appended or replaced. The dictionary contains
parameter names in its keys and QueryStringParamUpdateMode in values.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>path</strong> – The path updated with given parameters</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>A path containing a query string is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>/dir1/file1?param1=val1&amp;param2=val2&amp;paramN=valN
</pre></div>
</div>
<p>the params dictionary contains:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;param1&#39;</span><span class="p">:</span><span class="s1">&#39;newval1&#39;</span><span class="p">,</span> <span class="n">param2</span><span class="o">=</span><span class="n">newval2</span><span class="s1">&#39;, param3&#39;</span><span class="p">:</span><span class="s1">&#39;newval3&#39;</span><span class="p">}</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">update_query_string</span><span class="p">(</span><span class="s1">&#39;/dir1/file1?param1=val1&amp;param2=val2&amp;paramN=valN&#39;</span><span class="p">,</span>
                    <span class="p">{</span><span class="s1">&#39;param1&#39;</span><span class="p">:</span><span class="s1">&#39;newval1&#39;</span><span class="p">,</span> <span class="s1">&#39;param2&#39;</span><span class="p">:</span><span class="s1">&#39;newval2&#39;</span><span class="p">,</span> <span class="s1">&#39;param3&#39;</span><span class="p">:</span><span class="s1">&#39;newval3&#39;</span><span class="p">})</span>
</pre></div>
</div>
<p>would return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;/dir1/file1?param1=newval1&amp;param2=newval2&amp;paramN=valN&amp;param3=newval3&#39;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">update_query_string</span><span class="p">(</span><span class="s1">&#39;/dir1/file1?param1=val1&amp;param2=val2&amp;paramN=valN&#39;</span><span class="p">,</span>
                    <span class="p">{</span><span class="s1">&#39;param1&#39;</span><span class="p">:</span><span class="s1">&#39;newval1&#39;</span><span class="p">,</span> <span class="s1">&#39;param2&#39;</span><span class="p">:</span><span class="s1">&#39;newval2&#39;</span><span class="p">,</span> <span class="s1">&#39;param3&#39;</span><span class="p">:</span><span class="s1">&#39;newval3&#39;</span><span class="p">},</span>
                    <span class="n">QueryStringParamUpdateMode</span><span class="o">.</span><span class="n">APPEND</span><span class="p">)</span>
</pre></div>
</div>
<p>would return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;/dir1/file1?param1=val1&amp;param1=newval1&amp;param2=val2&amp;param2=newval2&amp;paramN=valN&amp;param3=newval3&#39;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">update_query_string</span><span class="p">(</span><span class="s1">&#39;/dir1/file1?param1=val1&amp;param2=val2&amp;paramN=valN&#39;</span><span class="p">,</span>
                    <span class="p">{</span><span class="s1">&#39;param1&#39;</span><span class="p">:</span><span class="s1">&#39;newval1&#39;</span><span class="p">,</span> <span class="s1">&#39;param2&#39;</span><span class="p">:</span><span class="s1">&#39;newval2&#39;</span><span class="p">,</span> <span class="s1">&#39;param3&#39;</span><span class="p">:</span><span class="s1">&#39;newval3&#39;</span><span class="p">},</span>
                    <span class="s1">&#39;param2&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>would return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;/dir1/file1?param1=newval1&amp;param2=val2&amp;param2=newval2&amp;paramN=valN&amp;param3=newval3&#39;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">update_query_string</span><span class="p">(</span><span class="s1">&#39;/dir1/file1?param1=val1&amp;param2=val2&amp;paramN=valN&#39;</span><span class="p">,</span>
                    <span class="p">{</span><span class="s1">&#39;param1&#39;</span><span class="p">:</span><span class="s1">&#39;newval1&#39;</span><span class="p">,</span> <span class="s1">&#39;param2&#39;</span><span class="p">:</span><span class="s1">&#39;newval2&#39;</span><span class="p">,</span> <span class="s1">&#39;param3&#39;</span><span class="p">:</span><span class="s1">&#39;newval3&#39;</span><span class="p">},</span>
                    <span class="p">(</span><span class="s1">&#39;param1&#39;</span><span class="p">,</span> <span class="s1">&#39;param2&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>would return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;/dir1/file1?param1=val1&amp;param1=newval1&amp;param2=val2&amp;param2=newval2&amp;paramN=valN&amp;param3=newval3&#39;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">update_query_string</span><span class="p">(</span><span class="s1">&#39;/dir1/file1?param1=val1&amp;param2=val2&amp;paramN=valN&#39;</span><span class="p">,</span>
                    <span class="p">{</span><span class="s1">&#39;param1&#39;</span><span class="p">:</span><span class="s1">&#39;newval1&#39;</span><span class="p">,</span> <span class="s1">&#39;param2&#39;</span><span class="p">:</span><span class="s1">&#39;newval2&#39;</span><span class="p">,</span> <span class="s1">&#39;param3&#39;</span><span class="p">:</span><span class="s1">&#39;newval3&#39;</span><span class="p">},</span>
                    <span class="p">{</span><span class="s1">&#39;param1&#39;</span><span class="p">:</span> <span class="n">QueryStringParamUpdateMode</span><span class="o">.</span><span class="n">APPEND</span><span class="p">,</span>
                    <span class="s1">&#39;param2&#39;</span><span class="p">:</span> <span class="n">QueryStringParamUpdateMode</span><span class="o">.</span><span class="n">REPLACE</span><span class="p">})</span>
</pre></div>
</div>
<p>would return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;/dir1/file1?param1=val1&amp;param1=newval1&amp;param2=val2&amp;param2=newval2&amp;paramN=valN&amp;param3=newval3&#39;</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-soma.qimage2ndarray">
<span id="submodule-qimage2ndarray"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">qimage2ndarray</span></code><a class="headerlink" href="#module-soma.qimage2ndarray" title="Permalink to this headline">¶</a></h1>
<p>QImage &lt;-&gt; numpy.ndarray conversion module.</p>
<p><strong>* ATTENTION: This code is outdated - I released a better extension
*</strong> named ‘qimage2ndarray’ (that completes all TODO items below) in
<strong>* the meantime, which is available via PyPI and here:
*</strong> <a class="reference external" href="http://kogs-www.informatik.uni-hamburg.de/~meine/software/qimage2ndarray/">http://kogs-www.informatik.uni-hamburg.de/~meine/software/qimage2ndarray/</a></p>
<p>This supports conversion in both directions; note that in contrast to
C++, in Python it is not possible to convert QImages into ndarrays
without copying the data.  The conversion functions in the opposite
direction however do not copy the data.</p>
<p>TODO:</p>
<ul class="simple">
<li><p>support record arrays in rgb2qimage
(i.e. grok the output of qimage2numpy)</p></li>
<li><p>support unusual widths/alignments also in gray2qimage and
rgb2qimage</p></li>
<li><p>make it possible to choose between views and copys of the data
(eventually in both directions, when implemented in C++)</p></li>
<li><p>allow for normalization in numpy-&gt;QImage conversion
(i.e. to quickly visualize images with different value ranges)</p></li>
<li><p>implement in C++</p></li>
</ul>
<dl class="py function">
<dt id="soma.qimage2ndarray.gray2qimage">
<code class="sig-prename descclassname"><span class="pre">soma.qimage2ndarray.</span></code><code class="sig-name descname"><span class="pre">gray2qimage</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gray</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qimage2ndarray.html#gray2qimage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qimage2ndarray.gray2qimage" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the 2D numpy array <cite>gray</cite> into a 8-bit QImage with a gray
colormap.  The first dimension represents the vertical image axis.</p>
<p>ATTENTION: This QImage carries an attribute <cite>ndimage</cite> with a
reference to the underlying numpy array that holds the data. On
Windows, the conversion into a QPixmap does not copy the data, so
that you have to take care that the QImage does not get garbage
collected (otherwise PyQt will throw away the wrapper, effectively
freeing the underlying memory - boom!).</p>
</dd></dl>

<dl class="py function">
<dt id="soma.qimage2ndarray.qimage2numpy">
<code class="sig-prename descclassname"><span class="pre">soma.qimage2ndarray.</span></code><code class="sig-name descname"><span class="pre">qimage2numpy</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qimage</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'array'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qimage2ndarray.html#qimage2numpy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qimage2ndarray.qimage2numpy" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert QImage to numpy.ndarray.  The dtype defaults to uint8
for QImage.Format_Indexed8 or <cite>bgra_dtype</cite> (i.e. a record array)
for 32bit color images.  You can pass a different dtype to use, or
‘array’ to get a 3D uint8 array for color images.</p>
</dd></dl>

<dl class="py function">
<dt id="soma.qimage2ndarray.rgb2qimage">
<code class="sig-prename descclassname"><span class="pre">soma.qimage2ndarray.</span></code><code class="sig-name descname"><span class="pre">rgb2qimage</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rgb</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qimage2ndarray.html#rgb2qimage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qimage2ndarray.rgb2qimage" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the 3D numpy array <cite>rgb</cite> into a 32-bit QImage.  <cite>rgb</cite> must
have three dimensions with the vertical, horizontal and RGB image axes.</p>
<p>ATTENTION: This QImage carries an attribute <cite>ndimage</cite> with a
reference to the underlying numpy array that holds the data. On
Windows, the conversion into a QPixmap does not copy the data, so
that you have to take care that the QImage does not get garbage
collected (otherwise PyQt will throw away the wrapper, effectively
freeing the underlying memory - boom!).</p>
</dd></dl>

</div>
<div class="section" id="module-soma.qt_gui">
<span id="submodule-qt-gui"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">qt_gui</span></code><a class="headerlink" href="#module-soma.qt_gui" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="module-soma.qt_gui.controller_widget">
<span id="submodule-qt-gui-controller-widget"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">qt_gui.controller_widget</span></code><a class="headerlink" href="#module-soma.qt_gui.controller_widget" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="soma.qt_gui.controller_widget.ControllerWidget">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.qt_gui.controller_widget.</span></code><code class="sig-name descname"><span class="pre">ControllerWidget</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">controller</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">live</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hide_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">select_controls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">editable_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override_control_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">userlevel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/controller_widget.html#ControllerWidget"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.controller_widget.ControllerWidget" title="Permalink to this definition">¶</a></dt>
<dd><p>Class that create a widget to set the controller parameters.</p>
<p>Method to initilaize the ControllerWidget class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>controller</strong> (<em>derived Controller instance</em><em> (</em><em>mandatory</em><em>)</em>) – a class derived from the Controller class we want to parametrize
with a widget.</p></li>
<li><p><strong>parent</strong> (<em>QtGui.QWidget</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – the controller widget parent widget.</p></li>
<li><p><strong>name</strong> (<em>(</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – the name of this controller widget</p></li>
<li><p><strong>live</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default False</em><em>)</em>) – if True, synchronize the edited values in the widget with the
controller values on the fly,
otherwise, wait the synchronization instruction to update the
controller values.</p></li>
<li><p><strong>hide_labels</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default False</em><em>)</em>) – if True, don’t show the labels associated with the controls</p></li>
<li><p><strong>select_controls</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – parameter to select specific conrtoller traits. Authorized options
are ‘inputs’ or ‘outputs’.</p></li>
<li><p><strong>editable_labels</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default False</em><em>)</em>) – if True, labels (trait keys) may be edited by the user, their
modification will trigger a signal.</p></li>
<li><p><strong>override_control_types</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#dict" title="(in Python v3.5)"><em>dict</em></a><em> (</em><em>optional</em><em>)</em>) – if given, this is a “factory” dict assigning new controller editor
types to some traits types.</p></li>
<li><p><strong>user_data</strong> (<em>any type</em><em> (</em><em>optional</em><em>)</em>) – optional user data that can be accessed by individual control
editors</p></li>
<li><p><strong>userlevel</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – the current user level: some traits may be marked with a non-zero userlevel, and will only be visible if the ControllerWidget userlevel is more than (or equal) the trait level.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="soma.qt_gui.controller_widget.ControllerWidget.connect">
<code class="sig-name descname"><span class="pre">connect</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/controller_widget.html#ControllerWidget.connect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.controller_widget.ControllerWidget.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect the controller trait and the controller widget controls</p>
<p>At the end al control will be connected with the associated trait, and
when a ‘user_traits_changed’ signal is emited, the controls are updated
(ie, deleted if necessary).</p>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.controller_widget.ControllerWidget.create_control">
<code class="sig-name descname"><span class="pre">create_control</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trait_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trait</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/controller_widget.html#ControllerWidget.create_control"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.controller_widget.ControllerWidget.create_control" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a control associated to a trait.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trait_name</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em> (</em><em>mandatory</em><em>)</em>) – the name of the trait from which we want to create a control. The
control widget will share the same name</p></li>
<li><p><strong>trait</strong> (<em>Trait</em><em> (</em><em>mandatory</em><em>)</em>) – a trait item</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.controller_widget.ControllerWidget.disconnect">
<code class="sig-name descname"><span class="pre">disconnect</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/controller_widget.html#ControllerWidget.disconnect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.controller_widget.ControllerWidget.disconnect" title="Permalink to this definition">¶</a></dt>
<dd><p>Disconnect the controller trait and the controller widget controls</p>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.controller_widget.ControllerWidget.get_control_class">
<code class="sig-name descname"><span class="pre">get_control_class</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trait</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/controller_widget.html#ControllerWidget.get_control_class"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.controller_widget.ControllerWidget.get_control_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the control associated with the input trait.</p>
<p>The mapping is defined in the global class parameter
‘_defined_controls’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>trait</strong> (<em>Trait</em><em> (</em><em>mandatory</em><em>)</em>) – a trait item</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>control_class</strong> – the control class associated with the input trait.
If no match has been found, return None</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>class</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.controller_widget.ControllerWidget.is_valid">
<code class="sig-name descname"><span class="pre">is_valid</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/controller_widget.html#ControllerWidget.is_valid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.controller_widget.ControllerWidget.is_valid" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that all edited fields are correct.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>valid</strong> – True if all the controller widget controls are correctly filled,
False otherwise</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.controller_widget.ControllerWidget.static_disconnect">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">static_disconnect</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">controller</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update_controls</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groups_vibility_changed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">controls</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">widget</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/controller_widget.html#ControllerWidget.static_disconnect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.controller_widget.ControllerWidget.static_disconnect" title="Permalink to this definition">¶</a></dt>
<dd><p>disconnect() cannot be called at the right time.
static_disconnect() is called via a Qt signat when the widget is
destroyed. But the python part is already destroyed then.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.controller_widget.ControllerWidget.update_controller">
<code class="sig-name descname"><span class="pre">update_controller</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/controller_widget.html#ControllerWidget.update_controller"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.controller_widget.ControllerWidget.update_controller" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the controller.</p>
<p>At the end the controller traits values will match the controller
widget user defined parameters.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.controller_widget.ControllerWidget.update_controller_widget">
<code class="sig-name descname"><span class="pre">update_controller_widget</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/controller_widget.html#ControllerWidget.update_controller_widget"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.controller_widget.ControllerWidget.update_controller_widget" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the controller widget.</p>
<p>At the end the controller widget user editable parameters will match
the controller traits values.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.controller_widget.ControllerWidget.update_controls">
<code class="sig-name descname"><span class="pre">update_controls</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/controller_widget.html#ControllerWidget.update_controls"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.controller_widget.ControllerWidget.update_controls" title="Permalink to this definition">¶</a></dt>
<dd><p>Event to refresh controller widget controls and intern parameters.</p>
<p>The refresh is done off line, ie. we need first to disconnect the
controller and the controller widget.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="soma.qt_gui.controller_widget.DeletableLineEdit">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.qt_gui.controller_widget.</span></code><code class="sig-name descname"><span class="pre">DeletableLineEdit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/controller_widget.html#DeletableLineEdit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.controller_widget.DeletableLineEdit" title="Permalink to this definition">¶</a></dt>
<dd><p>Close button + line editor, used for modifiable key labels</p>
</dd></dl>

<dl class="py class">
<dt id="soma.qt_gui.controller_widget.ScrollControllerWidget">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.qt_gui.controller_widget.</span></code><code class="sig-name descname"><span class="pre">ScrollControllerWidget</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">controller</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">live</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hide_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">select_controls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disable_controller_widget</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override_control_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">userlevel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/controller_widget.html#ScrollControllerWidget"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.controller_widget.ScrollControllerWidget" title="Permalink to this definition">¶</a></dt>
<dd><p>Class that create a widget to set the controller parameters.</p>
<p>The widget is placed in a scroll area when large sets of parameters have
to be tuned.</p>
<p>Method to initilaize the ScrollControllerWidget class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>controller</strong> (<em>derived Controller instance</em><em> (</em><em>mandatory</em><em>)</em>) – a class derived from the Controller class we want to parametrize
with a widget.</p></li>
<li><p><strong>parent</strong> (<em>QtGui.QWidget</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – the controller widget parent widget.</p></li>
<li><p><strong>name</strong> (<em>(</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – the name of this controller widget</p></li>
<li><p><strong>live</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default False</em><em>)</em>) – if True, synchronize the edited values in the widget with the
controller values on the fly,
otherwise, wait synchronization instructions to update the
controller values.</p></li>
<li><p><strong>hide_labels</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default False</em><em>)</em>) – if True, don’t show the labels associated with the controls</p></li>
<li><p><strong>select_controls</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – parameter to select specific conrtoller traits. Authorized options
are ‘inputs’ or ‘outputs’.</p></li>
<li><p><strong>disable_controller_widget</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default False</em><em>)</em>) – if True disable the controller widget.</p></li>
<li><p><strong>override_control_types</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#dict" title="(in Python v3.5)"><em>dict</em></a><em> (</em><em>optional</em><em>)</em>) – if given, this is a “factory” dict assigning new controller editor
types to some traits types.</p></li>
<li><p><strong>user_data</strong> (<em>any type</em><em> (</em><em>optional</em><em>)</em>) – optional user data that can be accessed by individual control
editors</p></li>
<li><p><strong>userlevel</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – the current user level: some traits may be marked with a non-zero userlevel, and will only be visible if the ControllerWidget userlevel is more than (or equal) the trait level.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-soma.qt_gui.io">
<span id="submodule-qt-gui-io"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">qt_gui.io</span></code><a class="headerlink" href="#module-soma.qt_gui.io" title="Permalink to this headline">¶</a></h1>
<p>Utils for socket communication</p>
<dl class="py class">
<dt id="soma.qt_gui.io.Socket">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.qt_gui.io.</span></code><code class="sig-name descname"><span class="pre">Socket</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/io.html#Socket"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.io.Socket" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens a connection to a socket server and provides methods to read from and write to socket streams.
To handle specific message format, redefine readMessage method. By default it reads a line on the socket.
To process messages, redefine processMessage method. By default it prints the message to standard output.</p>
<dl class="py attribute">
<dt id="soma.qt_gui.io.Socket.dest">
<code class="sig-name descname"><span class="pre">dest</span></code><a class="headerlink" href="#soma.qt_gui.io.Socket.dest" title="Permalink to this definition">¶</a></dt>
<dd><p>socket server machine</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.qt_gui.io.Socket.port">
<code class="sig-name descname"><span class="pre">port</span></code><a class="headerlink" href="#soma.qt_gui.io.Socket.port" title="Permalink to this definition">¶</a></dt>
<dd><p>port that the socket server listens</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.qt_gui.io.Socket.socket">
<code class="sig-name descname"><span class="pre">socket</span></code><a class="headerlink" href="#soma.qt_gui.io.Socket.socket" title="Permalink to this definition">¶</a></dt>
<dd><p>python socket object</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>socket.socket</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.qt_gui.io.Socket.socketnotifier">
<code class="sig-name descname"><span class="pre">socketnotifier</span></code><a class="headerlink" href="#soma.qt_gui.io.Socket.socketnotifier" title="Permalink to this definition">¶</a></dt>
<dd><p>the notifier sends a signal when there’s something to read on the
socket.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>qt.QSocketNotifier</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.qt_gui.io.Socket.readLock">
<code class="sig-name descname"><span class="pre">readLock</span></code><a class="headerlink" href="#soma.qt_gui.io.Socket.readLock" title="Permalink to this definition">¶</a></dt>
<dd><p>lock to prevent threads from reading at the same time on the socket</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/threading.html#threading.Lock" title="(in Python v3.5)">threading.Lock</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.qt_gui.io.Socket.writeLock">
<code class="sig-name descname"><span class="pre">writeLock</span></code><a class="headerlink" href="#soma.qt_gui.io.Socket.writeLock" title="Permalink to this definition">¶</a></dt>
<dd><p>lock to prevent threads from writing at the same time on the socket</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/threading.html#threading.Lock" title="(in Python v3.5)">threading.Lock</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.qt_gui.io.Socket.lock">
<code class="sig-name descname"><span class="pre">lock</span></code><a class="headerlink" href="#soma.qt_gui.io.Socket.lock" title="Permalink to this definition">¶</a></dt>
<dd><p>lock to prevent concurrent access on object data because it can be used
by multiple threads. At least principal thread and reading messages
thread when it not possible to use a QSocketNotifier.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/threading.html#threading.RLock" title="(in Python v3.5)">threading.RLock</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.qt_gui.io.Socket.initialized">
<code class="sig-name descname"><span class="pre">initialized</span></code><a class="headerlink" href="#soma.qt_gui.io.Socket.initialized" title="Permalink to this definition">¶</a></dt>
<dd><p>indicates if the connection is correctly opened</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.qt_gui.io.Socket.notifyenabled">
<code class="sig-name descname"><span class="pre">notifyenabled</span></code><a class="headerlink" href="#soma.qt_gui.io.Socket.notifyenabled" title="Permalink to this definition">¶</a></dt>
<dd><p>indicates if message received on the socket must be processed.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.qt_gui.io.Socket.loopRetry">
<code class="sig-name descname"><span class="pre">loopRetry</span></code><a class="headerlink" href="#soma.qt_gui.io.Socket.loopRetry" title="Permalink to this definition">¶</a></dt>
<dd><p>class attribute: max number of connection tries</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.qt_gui.io.Socket.defaultPort">
<code class="sig-name descname"><span class="pre">defaultPort</span></code><a class="headerlink" href="#soma.qt_gui.io.Socket.defaultPort" title="Permalink to this definition">¶</a></dt>
<dd><p>class attribute: default port for socket server</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>host</strong> (<em>string</em>) – socket server machine (localhost if it is current machine)</p></li>
<li><p><strong>port</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – port that the socket server listens</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="soma.qt_gui.io.Socket.close">
<code class="sig-name descname"><span class="pre">close</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/io.html#Socket.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.io.Socket.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes the connection.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.io.Socket.disableHandler">
<code class="sig-name descname"><span class="pre">disableHandler</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/io.html#Socket.disableHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.io.Socket.disableHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Disables reading from the socket.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.io.Socket.enableHandler">
<code class="sig-name descname"><span class="pre">enableHandler</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/io.html#Socket.enableHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.io.Socket.enableHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Enables reading from the socket.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.io.Socket.findFreePort">
<code class="sig-name descname"><span class="pre">findFreePort</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/io.html#Socket.findFreePort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.io.Socket.findFreePort" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to find the first unused port.
&#64;rtype: int
&#64;return: numero of a free port</p>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.io.Socket.getMessage">
<code class="sig-name descname"><span class="pre">getMessage</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/io.html#Socket.getMessage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.io.Socket.getMessage" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by message handler to gets the last received message.
If socket communication is managed by a QSocketNotifier, the message is not yet read, so this method read it.
If reading is in another process, the message is already read and it is in messages queue.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.io.Socket.initialize">
<code class="sig-name descname"><span class="pre">initialize</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/io.html#Socket.initialize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.io.Socket.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Connects the socket to the server and sets the frame to read data from the socket.
Two methods for reading:</p>
<ul class="simple">
<li><p>reading thread</p></li>
<li><p>QSocketNotifier (not possible on windows platform)</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>port</strong> – port that the socket server listens</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.io.Socket.messageHandler">
<code class="sig-name descname"><span class="pre">messageHandler</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/io.html#Socket.messageHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.io.Socket.messageHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is called when a message is received on the socket.
Gets and processes the message.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.io.Socket.processMessage">
<code class="sig-name descname"><span class="pre">processMessage</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">excep</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/io.html#Socket.processMessage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.io.Socket.processMessage" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes a message received on the socket.
This method only print the message. To do some specific treatment, subclass Socket and redefine this method.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.io.Socket.readForever">
<code class="sig-name descname"><span class="pre">readForever</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/io.html#Socket.readForever"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.io.Socket.readForever" title="Permalink to this definition">¶</a></dt>
<dd><p>Reading loop to handle reading messages from the socket.
Used only if QSocketNotifier cannot be used.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.io.Socket.readLine">
<code class="sig-name descname"><span class="pre">readLine</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/io.html#Socket.readLine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.io.Socket.readLine" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a line of data from the socket (a string followed by <code class="docutils literal notranslate"><span class="pre">'\n'</span></code>).
self.readLock must be acquired before calling this method.
If data cannot be read before timeout (in seconds), an IOError exception is raised.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>timeout</strong> – max time to wait before reading the message.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.io.Socket.readMessage">
<code class="sig-name descname"><span class="pre">readMessage</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/io.html#Socket.readMessage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.io.Socket.readMessage" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a message from the socket. This method only gets the readlock and reads a line.
To read specific message formats, subclass Socket and redefine this method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – max time to wait before reading the message.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>message</strong> – the message received from the socket</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.io.Socket.send">
<code class="sig-name descname"><span class="pre">send</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/io.html#Socket.send"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.io.Socket.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends data to the connected socket.
&#64;type msg: string
&#64;param msg: the message to send.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="soma.qt_gui.io.findPlatform">
<code class="sig-prename descclassname"><span class="pre">soma.qt_gui.io.</span></code><code class="sig-name descname"><span class="pre">findPlatform</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/io.html#findPlatform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.io.findPlatform" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Identify platform, possible return values are :</dt><dd><ul class="simple">
<li><p>‘windows’: Windows</p></li>
<li><p>‘linux’: Linux</p></li>
<li><p>‘sunos’: SunOS (Solaris)</p></li>
<li><p>‘darwin’: Darwin (MacOS X)</p></li>
<li><p>None: unknown</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-soma.qt_gui.qt_backend">
<span id="submodule-qt-gui-qt-backend"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">qt_gui.qt_backend</span></code><a class="headerlink" href="#module-soma.qt_gui.qt_backend" title="Permalink to this headline">¶</a></h1>
<p>Compatibility module for PyQt and PySide. Currently supports PyQt4,
PySide, and PyQt5.
This modules handles differences between PyQt and PySide APIs and behaviours,
and offers a few functions to make it easier to build neutral GUI code, which
can run using either backend.</p>
<p>The main funcion here is set_qt_backend() which must be called to initialize
the appropriate backend. Most functions of this module assume set_qt_backend()
has been called first to setup internal variables.</p>
<p>Note that such compatibility generally requires to use PyQt4 with SIP API
version 2, ie do not use QString, QVariant, QDate and similar classes, but
directly convert to/from python types, which is also PySide behaviour. The
qt_backend module switches to this API level 2, but this only works before the
PyQt modules are imported, thus it may fail if PyQt has already be imported
without such settings.</p>
<p>Qt submodules can be imported in two ways:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">soma.qt_gui</span> <span class="kn">import</span> <span class="n">qt_backend</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qt_backend</span><span class="o">.</span><span class="n">import_qt_submodule</span><span class="p">(</span><span class="s1">&#39;QtWebKit&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>or using the import statement:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">soma.qt_gui.qt_backend</span> <span class="kn">import</span> <span class="n">QtWebKit</span>
</pre></div>
</div>
<p>in the latter case, set_qt_backend() will be called automatically to setup the
appropriate Qt backend, so that the use of the backend selection is more
transparent.</p>
<dl class="py function">
<dt id="soma.qt_gui.qt_backend.getExistingDirectory">
<code class="sig-prename descclassname"><span class="pre">soma.qt_gui.qt_backend.</span></code><code class="sig-name descname"><span class="pre">getExistingDirectory</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">caption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/qt_backend.html#getExistingDirectory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.qt_backend.getExistingDirectory" title="Permalink to this definition">¶</a></dt>
<dd><p>PyQt4 / PySide compatible call to QFileDialog.getExistingDirectory</p>
</dd></dl>

<dl class="py function">
<dt id="soma.qt_gui.qt_backend.getOpenFileName">
<code class="sig-prename descclassname"><span class="pre">soma.qt_gui.qt_backend.</span></code><code class="sig-name descname"><span class="pre">getOpenFileName</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">caption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selectedFilter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/qt_backend.html#getOpenFileName"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.qt_backend.getOpenFileName" title="Permalink to this definition">¶</a></dt>
<dd><p>PyQt4 / PySide compatible call to QFileDialog.getOpenFileName</p>
</dd></dl>

<dl class="py function">
<dt id="soma.qt_gui.qt_backend.getSaveFileName">
<code class="sig-prename descclassname"><span class="pre">soma.qt_gui.qt_backend.</span></code><code class="sig-name descname"><span class="pre">getSaveFileName</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">caption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selectedFilter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/qt_backend.html#getSaveFileName"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.qt_backend.getSaveFileName" title="Permalink to this definition">¶</a></dt>
<dd><p>PyQt4 / PySide compatible call to QFileDialog.getSaveFileName</p>
</dd></dl>

<dl class="py function">
<dt id="soma.qt_gui.qt_backend.get_qt_backend">
<code class="sig-prename descclassname"><span class="pre">soma.qt_gui.qt_backend.</span></code><code class="sig-name descname"><span class="pre">get_qt_backend</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/qt_backend.html#get_qt_backend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.qt_backend.get_qt_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>get currently setup or loaded Qt backend name: “PyQt4” or “PySide”</p>
</dd></dl>

<dl class="py function">
<dt id="soma.qt_gui.qt_backend.get_qt_module">
<code class="sig-prename descclassname"><span class="pre">soma.qt_gui.qt_backend.</span></code><code class="sig-name descname"><span class="pre">get_qt_module</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/qt_backend.html#get_qt_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.qt_backend.get_qt_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the main Qt module (PyQt4 or PySide)</p>
</dd></dl>

<dl class="py function">
<dt id="soma.qt_gui.qt_backend.import_qt_submodule">
<code class="sig-prename descclassname"><span class="pre">soma.qt_gui.qt_backend.</span></code><code class="sig-name descname"><span class="pre">import_qt_submodule</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">submodule</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/qt_backend.html#import_qt_submodule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.qt_backend.import_qt_submodule" title="Permalink to this definition">¶</a></dt>
<dd><p>Import a specified Qt submodule.
An alternative to the standard statement:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">soma.qt_gui.qt_backend</span> <span class="kn">import</span> <span class="o">&lt;</span><span class="n">submodule</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The main differences is that it forces loading the module from the
appropriate backend, whereas the import statement will reuse the already
loaded one. Moreover it returns the module.</p>
<p>For instance,</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">soma.qt_gui</span> <span class="kn">import</span> <span class="n">qt_backend</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qt_backend</span><span class="o">.</span><span class="n">set_qt_backend</span><span class="p">(</span><span class="s1">&#39;PyQt4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">soma.qt_gui.qt_backend</span> <span class="kn">import</span> <span class="n">QtWebKit</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">QtWebKit</span>
<span class="go">&lt;module &#39;PyQt4.QtWebKit&#39; from &#39;/usr/lib/python2.7/dist-packages/PyQt4/QtWebKit.so&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qt_backend</span><span class="o">.</span><span class="n">set_qt_backend</span><span class="p">(</span><span class="s1">&#39;PySide&#39;</span><span class="p">)</span> <span class="c1"># changing backend</span>
<span class="go">WARNING:root:set_qt_backend: a different backend, PyQt4, has already be set, and PySide is now requested</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">soma.qt_gui.qt_backend</span> <span class="kn">import</span> <span class="n">QtWebKit</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">QtWebKit</span>
<span class="go">&lt;module &#39;PyQt4.QtWebKit&#39; from &#39;/usr/lib/python2.7/dist-packages/PyQt4/QtWebKit.so&#39;&gt;</span>
</pre></div>
</div>
<p>In the above example, we are still using the QtWebKit from PyQt4.
Now:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">QtWebKit</span> <span class="o">=</span> <span class="n">qt_backend</span><span class="o">.</span><span class="n">import_qt_submodule</span><span class="p">(</span><span class="s1">&#39;QtWebKit&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">QtWebKit</span>
<span class="go">&lt;module &#39;PySide.QtWebKit&#39; from &#39;/usr/lib/python2.7/dist-packages/PySide/QtWebKit.so&#39;&gt;</span>
</pre></div>
</div>
<p>We are now actually using PySide.
Note that it is generally a bad idea to mix both…</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>submodule</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em> (</em><em>mandatory</em><em>)</em>) – submodule name, ex: QtWebKit</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>the loaded submodule</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="soma.qt_gui.qt_backend.imshow_widget">
<code class="sig-prename descclassname"><span class="pre">soma.qt_gui.qt_backend.</span></code><code class="sig-name descname"><span class="pre">imshow_widget</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">widget</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/qt_backend.html#imshow_widget"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.qt_backend.imshow_widget" title="Permalink to this definition">¶</a></dt>
<dd><p>Display a shapshot of a QWidget into a Matplotlib figure using
pylab.imshow(). This is useful to use the sphinx_gallery module for
documentation.</p>
</dd></dl>

<dl class="py function">
<dt id="soma.qt_gui.qt_backend.init_matplotlib_backend">
<code class="sig-prename descclassname"><span class="pre">soma.qt_gui.qt_backend.</span></code><code class="sig-name descname"><span class="pre">init_matplotlib_backend</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/qt_backend.html#init_matplotlib_backend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.qt_backend.init_matplotlib_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize Matplotlib to use Qt, and the appropriate Qt/Python binding
(PySide or PyQt) according to the configured/loaded toolkit.
Moreover, the appropriate FigureCanvas type is set in the current module,
and returned by this function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>force</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) – if False, if the backend is already initialized with a different value,
then raise an exception. If True (the default), force the new
backend in matplotlib. If matplotlib does not support the force
parameter, then the backend will not be forced.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="soma.qt_gui.qt_backend.init_traitsui_handler">
<code class="sig-prename descclassname"><span class="pre">soma.qt_gui.qt_backend.</span></code><code class="sig-name descname"><span class="pre">init_traitsui_handler</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/qt_backend.html#init_traitsui_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.qt_backend.init_traitsui_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup handler for traits notification in Qt GUI.
This function needs to be called before using traits notification which
trigger GUI modification from non-principal threads.</p>
<p><strong>WARNING</strong>: depending on the Qt bindings (PyQt or PySide), this function
may instantiate a QApplication. It seems that when using PyQt4,
QApplication is not instantiated, whereas when using PySide, it is.
This means that after this function has been called, one must check if
the application has been created before recreating it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QApplication</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">app</span><span class="p">:</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
</pre></div>
</div>
<p>This behaviour is triggered somewhere in the traitsui.qt4.toolkit module,
we cannot change it easily.</p>
</dd></dl>

<dl class="py function">
<dt id="soma.qt_gui.qt_backend.loadUi">
<code class="sig-prename descclassname"><span class="pre">soma.qt_gui.qt_backend.</span></code><code class="sig-name descname"><span class="pre">loadUi</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ui_file</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/qt_backend.html#loadUi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.qt_backend.loadUi" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a <code class="docutils literal notranslate"><span class="pre">.ui</span></code> file and returns the widget instance.</p>
<p>This function is a replacement of PyQt4.uic.loadUi. The only difference is
that relative icon or pixmap file names that are stored in the <code class="docutils literal notranslate"><span class="pre">*.ui</span></code>
file are considered to be relative to the directory containing the ui file.
With PyQt4.uic.loadUi, relative file names are considered relative to the
current working directory therefore if this directory is not the one
containing the ui file, icons cannot be loaded.</p>
</dd></dl>

<dl class="py function">
<dt id="soma.qt_gui.qt_backend.loadUiType">
<code class="sig-prename descclassname"><span class="pre">soma.qt_gui.qt_backend.</span></code><code class="sig-name descname"><span class="pre">loadUiType</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">uifile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_imports</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/qt_backend.html#loadUiType"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.qt_backend.loadUiType" title="Permalink to this definition">¶</a></dt>
<dd><p>PyQt4 / PySide abstraction to uic.loadUiType.
Not implemented for PySide, actually, because PySide does not have this
feature.</p>
</dd></dl>

<dl class="py function">
<dt id="soma.qt_gui.qt_backend.qimage_to_np">
<code class="sig-prename descclassname"><span class="pre">soma.qt_gui.qt_backend.</span></code><code class="sig-name descname"><span class="pre">qimage_to_np</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qimage</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/qt_backend.html#qimage_to_np"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.qt_backend.qimage_to_np" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility function to transorm a Qt QImage into a numpy array suitable
for matplotlib imshow() for instance.</p>
</dd></dl>

<dl class="py function">
<dt id="soma.qt_gui.qt_backend.set_qt_backend">
<code class="sig-prename descclassname"><span class="pre">soma.qt_gui.qt_backend.</span></code><code class="sig-name descname"><span class="pre">set_qt_backend</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pyqt_api</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compatible_qt5</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/qt_backend.html#set_qt_backend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.qt_backend.set_qt_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>set the Qt backend.</p>
<p>If a different backend has already setup or loaded, a warning is issued.
If no backend is specified, try to guess which one is already loaded.</p>
<p>If no backend is loaded yet, try to behave like IPython does.
See: <a class="reference external" href="https://ipython.org/ipython-doc/dev/interactive/reference.html#pyqt-and-pyside">https://ipython.org/ipython-doc/dev/interactive/reference.html#pyqt-and-pyside</a></p>
<p>More precisely this means:
* If QT_API environement variable is not set, use PyQt4, with PyQt API v1
* if QT_API is set to “pyqt” or “pyqt4”, use PyQt4, with PyQt API v2
* if QT_API is set to “pyside”, use PySide
* if QT_API is set to “pyqt5”, use PyQt5</p>
<p>Moreover if using PyQt4, QtCore is patched to duplicate QtCore.pyqtSignal
and QtCore.pyqtSlot as QtCore.Signal and QtCore.Slot. This is meant to ease
code portability between both worlds.</p>
<p>if compatible_qt5 is set to True, modules QtGui and QtWidgets will be
exposed and completed to contain the same content, with both Qt4 and Qt5.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backend</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em> (</em><em>default: None</em><em>)</em>) – name of the backend to use</p></li>
<li><p><strong>pyqt_api</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a><em> (</em><em>default: 1</em><em>)</em>) – PyQt API version: 1 or 2, only useful for PyQt4</p></li>
<li><p><strong>compatible_qt5</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a><em> (</em><em>default: None</em><em>)</em>) – expose QtGui and QtWidgets with the same content.
If None (default), do not change the current setting.
If True, in Qt5, when QtGui or QtWidgets is loaded, the other module
(QtWidgets or QtGui) is also loaded, and the QtGui module is modified
to contain also the contents of QtWidgets, so as to have more or less
the same elements as in Qt4. It is a bit dirty and crappy but allows
the same code to work with both versions of Qt.
In Qt4, when QtGui is loaded, the module is also registered as
QtWidgets, so QtGui and QtWidgets are the same module. Loading
QtWidgets will also bring QtGui.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">soma.qt_gui</span> <span class="kn">import</span> <span class="n">qt_backend</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qt_backend</span><span class="o">.</span><span class="n">set_qt_backend</span><span class="p">(</span><span class="s1">&#39;PySide&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qt_backend</span><span class="o">.</span><span class="n">import_qt_submodule</span><span class="p">(</span><span class="s1">&#39;QtCore&#39;</span><span class="p">)</span>
<span class="go">&lt;module &#39;PySide.QtCore&#39; from &#39;/usr/lib/python2.7/dist-packages/PySide/QtCore.so&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-soma.qt_gui.qtThread">
<span id="submodule-qt-gui-qtthread"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">qt_gui.qtThread</span></code><a class="headerlink" href="#module-soma.qt_gui.qtThread" title="Permalink to this headline">¶</a></h1>
<p>This module enables to make a function to be executed in qt thread (main thread).
It is useful when you want to call qt functions from another thread.
It enables to do thread safe calls because all tasks sent are executed in the same thread (qt main thread).</p>
<ul class="simple">
<li><p>author: Dominique Geffroy</p></li>
<li><p>organization: NeuroSpin</p></li>
<li><p>license: <a class="reference external" href="http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.html">CeCILL B</a></p></li>
</ul>
<dl class="py class">
<dt id="soma.qt_gui.qtThread.FakeQtThreadCall">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.qt_gui.qtThread.</span></code><code class="sig-name descname"><span class="pre">FakeQtThreadCall</span></code><a class="reference internal" href="_modules/soma/qt_gui/qtThread.html#FakeQtThreadCall"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.qtThread.FakeQtThreadCall" title="Permalink to this definition">¶</a></dt>
<dd><p>Fake QtThreadCall that behave as if always used from main thread.</p>
</dd></dl>

<dl class="py class">
<dt id="soma.qt_gui.qtThread.MainThreadLife">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.qt_gui.qtThread.</span></code><code class="sig-name descname"><span class="pre">MainThreadLife</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj_life</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/qtThread.html#MainThreadLife"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.qtThread.MainThreadLife" title="Permalink to this definition">¶</a></dt>
<dd><p>This wrapper class ensures the contained object is deleted in the main
thread, and not in the current non-GUI thread. The principle is the
following:</p>
<ul class="simple">
<li><p>acquire a lock</p></li>
<li><p>pass the object to something in the main thread</p></li>
<li><p>the main thread waits on the lock while holding a reference on the object</p></li>
<li><p>we delete the object in the calling thread</p></li>
<li><p>the lock is releasd from the calling thread</p></li>
<li><p>now the main thread can go on, and del / release the ref on the object:
it is the last ref on it, so it is actually deleted there.</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The thing is only working if no other reference is held anywhere on the underlying object, otherwise we do not control its deletion.</p>
</div>
<p>Ex:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># from a secondary thread</span>

<span class="n">widget</span> <span class="o">=</span> <span class="n">QtThreadCall</span><span class="p">()</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">QWidget</span><span class="p">)</span>
<span class="c1"># widget.show() # should crash</span>
<span class="n">QtThreadCall</span><span class="p">()</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">show</span><span class="p">)</span>
<span class="c1"># ... use it ...</span>
<span class="c1"># del widget # should crash</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># from a secondary thread</span>

<span class="n">widget</span> <span class="o">=</span> <span class="n">MainThreadLife</span><span class="p">(</span><span class="n">QtThreadCall</span><span class="p">()</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">QWidget</span><span class="p">))</span>
<span class="n">QtThreadCall</span><span class="p">()</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">ref</span><span class="p">()</span><span class="o">.</span><span class="n">show</span><span class="p">)</span>
<span class="c1"># ... use it ...</span>
<span class="k">del</span> <span class="n">widget</span> <span class="c1"># OK</span>
</pre></div>
</div>
<dl class="py method">
<dt id="soma.qt_gui.qtThread.MainThreadLife.ref">
<code class="sig-name descname"><span class="pre">ref</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/qtThread.html#MainThreadLife.ref"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.qtThread.MainThreadLife.ref" title="Permalink to this definition">¶</a></dt>
<dd><p>Access the underlying object</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="soma.qt_gui.qtThread.QtThreadCall">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.qt_gui.qtThread.</span></code><code class="sig-name descname"><span class="pre">QtThreadCall</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/qtThread.html#QtThreadCall"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.qtThread.QtThreadCall" title="Permalink to this definition">¶</a></dt>
<dd><p>This object enables to send tasks to be executed by qt thread (main thread).
This object must be initialized in qt thread.
It starts a QTimer and periodically execute tasks in its actions list.</p>
<dl class="py attribute">
<dt id="soma.qt_gui.qtThread.QtThreadCall.lock">
<code class="sig-name descname"><span class="pre">lock</span></code><a class="headerlink" href="#soma.qt_gui.qtThread.QtThreadCall.lock" title="Permalink to this definition">¶</a></dt>
<dd><p>lock to prevent concurrent access to actions list</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>RLock</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.qt_gui.qtThread.QtThreadCall.actions">
<code class="sig-name descname"><span class="pre">actions</span></code><a class="headerlink" href="#soma.qt_gui.qtThread.QtThreadCall.actions" title="Permalink to this definition">¶</a></dt>
<dd><p>tasks to execute</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.qt_gui.qtThread.QtThreadCall.mainThread">
<code class="sig-name descname"><span class="pre">mainThread</span></code><a class="headerlink" href="#soma.qt_gui.qtThread.QtThreadCall.mainThread" title="Permalink to this definition">¶</a></dt>
<dd><p>current thread at object initialisation</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Thread</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="soma.qt_gui.qtThread.QtThreadCall.timer">
<code class="sig-name descname"><span class="pre">timer</span></code><a class="headerlink" href="#soma.qt_gui.qtThread.QtThreadCall.timer" title="Permalink to this definition">¶</a></dt>
<dd><p>timer to wake this object periodically</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>QTimer</p>
</dd>
</dl>
</dd></dl>

<p>The __init__ method of <code class="xref py py-class docutils literal notranslate"><span class="pre">Singleton</span></code> derived class should do
nothing.
Derived classes must define <code class="xref py py-meth docutils literal notranslate"><span class="pre">__singleton_init__()</span></code> instead of __init__.</p>
<dl class="py method">
<dt id="soma.qt_gui.qtThread.QtThreadCall.call">
<code class="sig-name descname"><span class="pre">call</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/qtThread.html#QtThreadCall.call"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.qtThread.QtThreadCall.call" title="Permalink to this definition">¶</a></dt>
<dd><p>Send the function call to be executed in the qt main thread and wait for the result. The result will be returned to the calling thread.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If returned objects are thread-depenendent (typically, Qt widgets),
they must be destroyed within the thread which created them, namely
the main thread. The <a class="reference internal" href="#soma.qt_gui.qtThread.MainThreadLife" title="soma.qt_gui.qtThread.MainThreadLife"><code class="xref py py-class docutils literal notranslate"><span class="pre">MainThreadLife</span></code></a> object wrapper may be
helpful for this.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>function</strong> (<em>function</em>) – the function to call in main thread.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>function call result</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.qtThread.QtThreadCall.doAction">
<code class="sig-name descname"><span class="pre">doAction</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/qtThread.html#QtThreadCall.doAction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.qtThread.QtThreadCall.doAction" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is called each time the timer timeout.
It executes all functions in actions list.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.qtThread.QtThreadCall.event">
<code class="sig-name descname"><span class="pre">event</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">QEvent</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><span class="pre">bool</span></a><a class="reference internal" href="_modules/soma/qt_gui/qtThread.html#QtThreadCall.event"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.qtThread.QtThreadCall.event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.qtThread.QtThreadCall.isInMainThread">
<code class="sig-name descname"><span class="pre">isInMainThread</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/qtThread.html#QtThreadCall.isInMainThread"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.qtThread.QtThreadCall.isInMainThread" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>boolean</strong></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>True if the current thread is the main thread</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.qtThread.QtThreadCall.push">
<code class="sig-name descname"><span class="pre">push</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/qtThread.html#QtThreadCall.push"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.qtThread.QtThreadCall.push" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a function call to the actions list. the call is executed immediatly if current thread is main thread. Otherwise it will be executed some time in the main thread (asynchronously to the current thread). The function return value is ignored and will be lost.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>function</strong> (<em>function</em>) – the function to call in main thread.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-soma.qt_gui.rangeSlider">
<span id="submodule-qt-gui-rangeslider"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">qt_gui.rangeSlider</span></code><a class="headerlink" href="#module-soma.qt_gui.rangeSlider" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="soma.qt_gui.rangeSlider.QRangeSlider">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.qt_gui.rangeSlider.</span></code><code class="sig-name descname"><span class="pre">QRangeSlider</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/rangeSlider.html#QRangeSlider"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.rangeSlider.QRangeSlider" title="Permalink to this definition">¶</a></dt>
<dd><p>The QRangeSlider class implements a horizontal range slider widget.</p>
<p>Inherits QWidget.</p>
<p>Methods</p>
<blockquote>
<div><ul class="simple">
<li><p>__init__ (self, QWidget parent = None)</p></li>
<li><p>bool drawValues (self)</p></li>
<li><p>int end (self)</p></li>
<li><p>(int, int) getRange (self)</p></li>
<li><p>int max (self)</p></li>
<li><p>int min (self)</p></li>
<li><p>int start (self)</p></li>
<li><p>setBackgroundStyle (self, QString styleSheet)</p></li>
<li><p>setDrawValues (self, bool draw)</p></li>
<li><p>setEnd (self, int end)</p></li>
<li><p>setStart (self, int start)</p></li>
<li><p>setRange (self, int start, int end)</p></li>
<li><p>setSpanStyle (self, QString styleSheet)</p></li>
</ul>
</div></blockquote>
<p>Signals</p>
<blockquote>
<div><ul class="simple">
<li><p>endValueChanged (int)</p></li>
<li><p>maxValueChanged (int)</p></li>
<li><p>minValueChanged (int)</p></li>
<li><p>startValueChanged (int)</p></li>
<li><p>rangeChanged (int, int)</p></li>
</ul>
</div></blockquote>
<p>Customizing QRangeSlider</p>
<p>You can style the range slider as below:</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="nt">QRangeSlider</span> <span class="o">*</span> <span class="p">{</span>
    <span class="k">border</span><span class="p">:</span> <span class="mi">0</span><span class="kt">px</span><span class="p">;</span>
    <span class="k">padding</span><span class="p">:</span> <span class="mi">0</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">QRangeSlider</span> <span class="p">#</span><span class="nn">Head</span> <span class="p">{</span>
    <span class="k">background</span><span class="p">:</span> <span class="mh">#222</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">QRangeSlider</span> <span class="p">#</span><span class="nn">Span</span> <span class="p">{</span>
    <span class="k">background</span><span class="p">:</span> <span class="mh">#393</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">QRangeSlider</span> <span class="p">#</span><span class="nn">Span</span><span class="p">:</span><span class="nd">active</span> <span class="p">{</span>
    <span class="k">background</span><span class="p">:</span> <span class="mh">#282</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">QRangeSlider</span> <span class="p">#</span><span class="nn">Tail</span> <span class="p">{</span>
    <span class="k">background</span><span class="p">:</span> <span class="mh">#222</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Styling the range slider handles follows QSplitter options:</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="nt">QRangeSlider</span> <span class="o">&gt;</span> <span class="nt">QSplitter</span><span class="p">::</span><span class="nd">handle</span> <span class="p">{</span>
    <span class="k">background</span><span class="p">:</span> <span class="mh">#393</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">QRangeSlider</span> <span class="o">&gt;</span> <span class="nt">QSplitter</span><span class="p">::</span><span class="nd">handle</span><span class="p">:</span><span class="nd">vertical</span> <span class="p">{</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">4</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">QRangeSlider</span> <span class="o">&gt;</span> <span class="nt">QSplitter</span><span class="p">::</span><span class="nd">handle</span><span class="p">:</span><span class="nd">pressed</span> <span class="p">{</span>
    <span class="k">background</span><span class="p">:</span> <span class="mh">#ca5</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Create a new QRangeSlider instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>parent</strong> – QWidget parent</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>New QRangeSlider instance.</p>
</dd>
</dl>
<dl class="py method">
<dt id="soma.qt_gui.rangeSlider.QRangeSlider.drawValues">
<code class="sig-name descname"><span class="pre">drawValues</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/rangeSlider.html#QRangeSlider.drawValues"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.rangeSlider.QRangeSlider.drawValues" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if slider values will be drawn</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.rangeSlider.QRangeSlider.end">
<code class="sig-name descname"><span class="pre">end</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/rangeSlider.html#QRangeSlider.end"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.rangeSlider.QRangeSlider.end" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>range slider end value</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.rangeSlider.QRangeSlider.getRange">
<code class="sig-name descname"><span class="pre">getRange</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/rangeSlider.html#QRangeSlider.getRange"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.rangeSlider.QRangeSlider.getRange" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the start and end values as a tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.rangeSlider.QRangeSlider.keyPressEvent">
<code class="sig-name descname"><span class="pre">keyPressEvent</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/rangeSlider.html#QRangeSlider.keyPressEvent"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.rangeSlider.QRangeSlider.keyPressEvent" title="Permalink to this definition">¶</a></dt>
<dd><p>overrides key press event to move range left and right</p>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.rangeSlider.QRangeSlider.max">
<code class="sig-name descname"><span class="pre">max</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/rangeSlider.html#QRangeSlider.max"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.rangeSlider.QRangeSlider.max" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>maximum value</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.rangeSlider.QRangeSlider.min">
<code class="sig-name descname"><span class="pre">min</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/rangeSlider.html#QRangeSlider.min"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.rangeSlider.QRangeSlider.min" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>minimum value</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.rangeSlider.QRangeSlider.setBackgroundStyle">
<code class="sig-name descname"><span class="pre">setBackgroundStyle</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">style</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/rangeSlider.html#QRangeSlider.setBackgroundStyle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.rangeSlider.QRangeSlider.setBackgroundStyle" title="Permalink to this definition">¶</a></dt>
<dd><p>sets background style</p>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.rangeSlider.QRangeSlider.setDrawValues">
<code class="sig-name descname"><span class="pre">setDrawValues</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">draw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/rangeSlider.html#QRangeSlider.setDrawValues"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.rangeSlider.QRangeSlider.setDrawValues" title="Permalink to this definition">¶</a></dt>
<dd><p>sets draw values boolean to draw slider values</p>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.rangeSlider.QRangeSlider.setEnd">
<code class="sig-name descname"><span class="pre">setEnd</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/rangeSlider.html#QRangeSlider.setEnd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.rangeSlider.QRangeSlider.setEnd" title="Permalink to this definition">¶</a></dt>
<dd><p>set the range slider end value</p>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.rangeSlider.QRangeSlider.setMax">
<code class="sig-name descname"><span class="pre">setMax</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/rangeSlider.html#QRangeSlider.setMax"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.rangeSlider.QRangeSlider.setMax" title="Permalink to this definition">¶</a></dt>
<dd><p>sets maximum value</p>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.rangeSlider.QRangeSlider.setMin">
<code class="sig-name descname"><span class="pre">setMin</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/rangeSlider.html#QRangeSlider.setMin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.rangeSlider.QRangeSlider.setMin" title="Permalink to this definition">¶</a></dt>
<dd><p>sets minimum value</p>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.rangeSlider.QRangeSlider.setRange">
<code class="sig-name descname"><span class="pre">setRange</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/rangeSlider.html#QRangeSlider.setRange"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.rangeSlider.QRangeSlider.setRange" title="Permalink to this definition">¶</a></dt>
<dd><p>set the start and end values</p>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.rangeSlider.QRangeSlider.setSpanStyle">
<code class="sig-name descname"><span class="pre">setSpanStyle</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">style</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/rangeSlider.html#QRangeSlider.setSpanStyle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.rangeSlider.QRangeSlider.setSpanStyle" title="Permalink to this definition">¶</a></dt>
<dd><p>sets range span handle style</p>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.rangeSlider.QRangeSlider.setStart">
<code class="sig-name descname"><span class="pre">setStart</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/rangeSlider.html#QRangeSlider.setStart"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.rangeSlider.QRangeSlider.setStart" title="Permalink to this definition">¶</a></dt>
<dd><p>sets the range slider start value</p>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.rangeSlider.QRangeSlider.start">
<code class="sig-name descname"><span class="pre">start</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/rangeSlider.html#QRangeSlider.start"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.rangeSlider.QRangeSlider.start" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>range slider start value</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-soma.qt_gui.timered_widgets">
<span id="submodule-qt-gui-timered-widgets"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">qt_gui.timered_widgets</span></code><a class="headerlink" href="#module-soma.qt_gui.timered_widgets" title="Permalink to this headline">¶</a></h1>
<p>QLineEditModificationTimer and TimeredQLineEdit classes associate a
QtCore.QTimer to a QtGui.QLineEdit in order to signal user
modification only after an inactivity period.</p>
<ul class="simple">
<li><p>author: Yann Cointepas</p></li>
<li><p>organization: NeuroSpin</p></li>
<li><p>license: <a class="reference external" href="http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.html">CeCILL B</a></p></li>
</ul>
<dl class="py class">
<dt id="soma.qt_gui.timered_widgets.QLineEditModificationTimer">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.qt_gui.timered_widgets.</span></code><code class="sig-name descname"><span class="pre">QLineEditModificationTimer</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qLineEdit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timerInterval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/timered_widgets.html#QLineEditModificationTimer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.timered_widgets.QLineEditModificationTimer" title="Permalink to this definition">¶</a></dt>
<dd><p>A QLineEditModificationTimer instance is accociated to a
QtGui.QLineEdit instance, it listens all user modification (Qt
signal ‘textChanged( const QString &amp; )’) and emits a
signal ‘userModification()’ when timerInterval milliseconds passed
since the last user modification.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#soma.qt_gui.timered_widgets.TimeredQLineEdit" title="soma.qt_gui.timered_widgets.TimeredQLineEdit"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeredQLineEdit</span></code></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qLineEdit</strong> (<em>(</em><em>QtGui.QLineEdit instance</em><em>)</em>) – widget associated with this QLineEditModificationTimer.</p></li>
<li><p><strong>timerInterval</strong> (<em>(</em><em>milliseconds</em><em>)</em>) – minimum inactivity period before emitting
userModification signal. Default value is
QLineEditModificationTimer.defaultTimerInterval</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="soma.qt_gui.timered_widgets.QLineEditModificationTimer.isActive">
<code class="sig-name descname"><span class="pre">isActive</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/timered_widgets.html#QLineEditModificationTimer.isActive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.timered_widgets.QLineEditModificationTimer.isActive" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the timer is active, or False otherwise.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.timered_widgets.QLineEditModificationTimer.startInternalModification">
<code class="sig-name descname"><span class="pre">startInternalModification</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/timered_widgets.html#QLineEditModificationTimer.startInternalModification"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.timered_widgets.QLineEditModificationTimer.startInternalModification" title="Permalink to this definition">¶</a></dt>
<dd><p>Restart emitting C{userModification} signal when associated
<a class="reference external" href="https://pyside.github.io/docs/pyside/PySide/QtGui/QLineEdit.html">QLineEdit</a> is modified.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#soma.qt_gui.timered_widgets.QLineEditModificationTimer.stopInternalModification" title="soma.qt_gui.timered_widgets.QLineEditModificationTimer.stopInternalModification"><code class="xref py py-meth docutils literal notranslate"><span class="pre">stopInternalModification()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.timered_widgets.QLineEditModificationTimer.stop">
<code class="sig-name descname"><span class="pre">stop</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/timered_widgets.html#QLineEditModificationTimer.stop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.timered_widgets.QLineEditModificationTimer.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop the timer if it is active.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.timered_widgets.QLineEditModificationTimer.stopInternalModification">
<code class="sig-name descname"><span class="pre">stopInternalModification</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/timered_widgets.html#QLineEditModificationTimer.stopInternalModification"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.timered_widgets.QLineEditModificationTimer.stopInternalModification" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop emitting <code class="docutils literal notranslate"><span class="pre">userModification</span></code> signal when associated
<a class="reference external" href="https://pyside.github.io/docs/pyside/PySide/QtGui/QLineEdit.html">QLineEdit</a> is modified.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#soma.qt_gui.timered_widgets.QLineEditModificationTimer.startInternalModification" title="soma.qt_gui.timered_widgets.QLineEditModificationTimer.startInternalModification"><code class="xref py py-meth docutils literal notranslate"><span class="pre">startInternalModification()</span></code></a></p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="soma.qt_gui.timered_widgets.TimeredQLineEdit">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.qt_gui.timered_widgets.</span></code><code class="sig-name descname"><span class="pre">TimeredQLineEdit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/timered_widgets.html#TimeredQLineEdit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.timered_widgets.TimeredQLineEdit" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a QLineEdit instance that has an private attribute
containing a QLineEditModificationTimer associated to self. Whenever
the internal QLineEditModificationTimer emits a userModification
signal, this signal is also emited by the TimeredQLineEdit instance.</p>
<p>All non keyword parameters of the constructor are passed to
<a class="reference external" href="https://pyside.github.io/docs/pyside/PySide/QtGui/QLineEdit.html">QLineEdit</a> constructor. An optional
<em>timerInterval</em> keyword parameter can be given, it is passed to
<a class="reference internal" href="#soma.qt_gui.timered_widgets.QLineEditModificationTimer" title="soma.qt_gui.timered_widgets.QLineEditModificationTimer"><code class="xref py py-class docutils literal notranslate"><span class="pre">QLineEditModificationTimer</span></code></a> constructor. At the time this class
was created, <a class="reference external" href="https://pyside.github.io/docs/pyside/PySide/QtGui/QLineEdit.html">QLineEdit</a> constructor did
not accept keyword parameters.</p>
<dl class="py method">
<dt id="soma.qt_gui.timered_widgets.TimeredQLineEdit.close">
<code class="sig-name descname"><span class="pre">close</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><span class="pre">bool</span></a><a class="reference internal" href="_modules/soma/qt_gui/timered_widgets.html#TimeredQLineEdit.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.timered_widgets.TimeredQLineEdit.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.timered_widgets.TimeredQLineEdit.startInternalModification">
<code class="sig-name descname"><span class="pre">startInternalModification</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/timered_widgets.html#TimeredQLineEdit.startInternalModification"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.timered_widgets.TimeredQLineEdit.startInternalModification" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#soma.qt_gui.timered_widgets.QLineEditModificationTimer.startInternalModification" title="soma.qt_gui.timered_widgets.QLineEditModificationTimer.startInternalModification"><code class="xref py py-meth docutils literal notranslate"><span class="pre">QLineEditModificationTimer.startInternalModification()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="soma.qt_gui.timered_widgets.TimeredQLineEdit.stopInternalModification">
<code class="sig-name descname"><span class="pre">stopInternalModification</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/qt_gui/timered_widgets.html#TimeredQLineEdit.stopInternalModification"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.qt_gui.timered_widgets.TimeredQLineEdit.stopInternalModification" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#soma.qt_gui.timered_widgets.QLineEditModificationTimer.stopInternalModification" title="soma.qt_gui.timered_widgets.QLineEditModificationTimer.stopInternalModification"><code class="xref py py-meth docutils literal notranslate"><span class="pre">QLineEditModificationTimer.stopInternalModification()</span></code></a></p>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-soma.safemkdir">
<span id="submodule-safemkdir"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">safemkdir</span></code><a class="headerlink" href="#module-soma.safemkdir" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="soma.safemkdir.makedirs">
<code class="sig-prename descclassname"><span class="pre">soma.safemkdir.</span></code><code class="sig-name descname"><span class="pre">makedirs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dirname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">511</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/safemkdir.html#makedirs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.safemkdir.makedirs" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as os.makedirs, but try to prevent errors occurring from concurrent creation by several threads/processes.</p>
</dd></dl>

<dl class="py function">
<dt id="soma.safemkdir.mkdir">
<code class="sig-prename descclassname"><span class="pre">soma.safemkdir.</span></code><code class="sig-name descname"><span class="pre">mkdir</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dirname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">511</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/safemkdir.html#mkdir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.safemkdir.mkdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as os.mkdir, but try to prevent errors occurring from concurrent creation by several threads/processes.</p>
</dd></dl>

</div>
<div class="section" id="module-soma.serialization">
<span id="submodule-serialization"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">serialization</span></code><a class="headerlink" href="#module-soma.serialization" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="soma.serialization.JSONSerializable">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.serialization.</span></code><code class="sig-name descname"><span class="pre">JSONSerializable</span></code><a class="reference internal" href="_modules/soma/serialization.html#JSONSerializable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.serialization.JSONSerializable" title="Permalink to this definition">¶</a></dt>
<dd><p>Instances of classes deriving from <cite>JSONSerializable</cite> can be serialized
in a JSON compatible object with <a class="reference internal" href="#soma.serialization.to_json" title="soma.serialization.to_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_json()</span></code></a> method. This JSON object
contains a reference to a factory as well as the full state of the
instance. Calling the factory with the state of the instance makes it
possible to recreate the instance (this is what function <a class="reference internal" href="#soma.serialization.from_json" title="soma.serialization.from_json"><code class="xref py py-func docutils literal notranslate"><span class="pre">from_json()</span></code></a>
is doing). A typical usage of this serialization system is to store the
JSON serialization of an instance in a configuration file (or database)
and latter (possibly in another Python instance) recreate the same
instance. This is an alternative to pickle allowing to use a standard
representation format (JSON) and to have full control on instances
creation.</p>
<dl class="py method">
<dt id="soma.serialization.JSONSerializable.to_json">
<code class="sig-name descname"><span class="pre">to_json</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/serialization.html#JSONSerializable.to_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.serialization.JSONSerializable.to_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a JSON serialization of self. The returned object can be given
to <a class="reference internal" href="#soma.serialization.from_json" title="soma.serialization.from_json"><code class="xref py py-func docutils literal notranslate"><span class="pre">from_json()</span></code></a> to create another instance that is eqivalent to
self.
Here, equivalent means that all attributes values are the same and the
methods called with the same parameters give the same results.</p>
<p>See <a class="reference internal" href="#soma.serialization.from_json" title="soma.serialization.from_json"><code class="xref py py-func docutils literal notranslate"><span class="pre">from_json()</span></code></a> to have insight of what is a JSON serialization
object.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="soma.serialization.find_factory">
<code class="sig-prename descclassname"><span class="pre">soma.serialization.</span></code><code class="sig-name descname"><span class="pre">find_factory</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reference</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/serialization.html#find_factory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.serialization.find_factory" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds a factory callable given its reference. The reference is simply
a string containing a module name and the name of fatory in that module
separated by a dot. For instance <code class="docutils literal notranslate"><span class="pre">'my_packages.my_module.my_factory'</span></code>
would refer to the item <em>my_factory</em> in the module
<code class="docutils literal notranslate"><span class="pre">my_packages.my_module</span></code>.
This funcion simply loads the module and returns the module attribute with
the factory name.</p>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">exceptions.ValueError</span></code> is raised if the factory cannot be found.</p>
</dd></dl>

<dl class="py function">
<dt id="soma.serialization.from_json">
<code class="sig-prename descclassname"><span class="pre">soma.serialization.</span></code><code class="sig-name descname"><span class="pre">from_json</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json_serialization</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/serialization.html#from_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.serialization.from_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a JSON serialization object (typically created by a
<a class="reference internal" href="#soma.serialization.JSONSerializable.to_json" title="soma.serialization.JSONSerializable.to_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">JSONSerializable.to_json()</span></code></a> method) and create and return the
corresponding instance.</p>
<p>A JSON serialization object can have one of the following structures:
- A simple string containing a factory reference
- A list with one, two or three of the following items:</p>
<blockquote>
<div><ul class="simple">
<li><p>factory: a mandatory item containing a reference to a factory
(see <a class="reference internal" href="#soma.serialization.find_factory" title="soma.serialization.find_factory"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_factory()</span></code></a>)</p></li>
<li><p>args: an optional item containing a list of parameters values
for the factory</p></li>
<li><p>kwargs: an optional item containing a dictionary of parameters
for the factory</p></li>
</ul>
</div></blockquote>
<p>A reference to a factory identifies a <code class="xref py py-class docutils literal notranslate"><span class="pre">callable</span></code> (e.g a function or
a class) in a Python module. It is a string containing the module name
and the callable name separated by a dot. For instance
<code class="docutils literal notranslate"><span class="pre">'catidb.data_models.catidb_3_4'</span></code> would identify the <em>catidb_3_4</em>
callable in the <em>catidb.data_models</em> module.</p>
</dd></dl>

<dl class="py function">
<dt id="soma.serialization.to_json">
<code class="sig-prename descclassname"><span class="pre">soma.serialization.</span></code><code class="sig-name descname"><span class="pre">to_json</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/serialization.html#to_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.serialization.to_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a JSON serialization of an object.
Standard types (None, bool, int, float, str, etc.) are using
json.dumps whereas other type of object must define a to_json
method returning the serialization.</p>
</dd></dl>

</div>
<div class="section" id="module-soma.singleton">
<span id="submodule-singleton"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">singleton</span></code><a class="headerlink" href="#module-soma.singleton" title="Permalink to this headline">¶</a></h1>
<p>Singleton pattern.</p>
<ul class="simple">
<li><p>author: Yann Cointepas</p></li>
<li><p>organization: NeuroSpin</p></li>
<li><p>license: <a class="reference external" href="http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.html">CeCILL B</a></p></li>
</ul>
<dl class="py class">
<dt id="soma.singleton.Singleton">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.singleton.</span></code><code class="sig-name descname"><span class="pre">Singleton</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/singleton.html#Singleton"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.singleton.Singleton" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the singleton pattern. A class deriving from <code class="docutils literal notranslate"><span class="pre">Singleton</span></code> can
have only one instance. The first instanciation will create an object and
other instanciations return the same object. Note that the <code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code>
method (if any) is still called at each instanciation (on the same object).
Therefore, <a class="reference internal" href="#soma.singleton.Singleton" title="soma.singleton.Singleton"><code class="xref py py-class docutils literal notranslate"><span class="pre">Singleton</span></code></a> derived classes should define
<code class="xref py py-meth docutils literal notranslate"><span class="pre">__singleton_init__()</span></code>
instead of <code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code> because the former is only called once.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">singleton</span> <span class="kn">import</span> <span class="n">Singleton</span>

<span class="k">class</span> <span class="nc">MyClass</span><span class="p">(</span> <span class="n">Singleton</span> <span class="p">):</span>
  <span class="k">def</span> <span class="nf">__singleton_init__</span><span class="p">(</span> <span class="bp">self</span> <span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">attribute</span> <span class="o">=</span> <span class="s1">&#39;value&#39;</span>

<span class="n">o1</span> <span class="o">=</span> <span class="n">MyClass</span><span class="p">()</span>
<span class="n">o2</span> <span class="o">=</span> <span class="n">MyClass</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">o1</span> <span class="ow">is</span> <span class="n">o2</span><span class="p">)</span>
</pre></div>
</div>
<p>The __init__ method of <a class="reference internal" href="#soma.singleton.Singleton" title="soma.singleton.Singleton"><code class="xref py py-class docutils literal notranslate"><span class="pre">Singleton</span></code></a> derived class should do
nothing.
Derived classes must define <code class="xref py py-meth docutils literal notranslate"><span class="pre">__singleton_init__()</span></code> instead of __init__.</p>
</dd></dl>

</div>
<div class="section" id="module-soma.somatime">
<span id="submodule-somatime"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">somatime</span></code><a class="headerlink" href="#module-soma.somatime" title="Permalink to this headline">¶</a></h1>
<p>Utility classes and functions for time handling.</p>
<ul class="simple">
<li><p>author: Yann Cointepas</p></li>
<li><p>organization: NeuroSpin</p></li>
<li><p>license: CeCILL B (<a class="reference external" href="http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.html">http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.html</a>)</p></li>
</ul>
<dl class="py function">
<dt id="soma.somatime.timeDifferenceToString">
<code class="sig-prename descclassname"><span class="pre">soma.somatime.</span></code><code class="sig-name descname"><span class="pre">timeDifferenceToString</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">difference</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/somatime.html#timeDifferenceToString"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.somatime.timeDifferenceToString" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-soma.sorted_dictionary">
<span id="submodule-sorted-dictionary"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">sorted_dictionary</span></code><a class="headerlink" href="#module-soma.sorted_dictionary" title="Permalink to this headline">¶</a></h1>
<p>Sorted dictionary behave like a dictionary but keep the item insertion
order.</p>
<ul class="simple">
<li><p>author: Yann Cointepas</p></li>
<li><p>organization: NeuroSpin</p></li>
<li><p>license: CeCILL B (<a class="reference external" href="http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.html">http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.html</a>)</p></li>
</ul>
<p>In addition OrderedDict is provided here, either as the standard
collections.OrderedDict class if python version &gt;= 2.7, or based on
SortedDictionary if python version &lt; 2.7.</p>
<dl class="py class">
<dt id="soma.sorted_dictionary.SortedDictionary">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.sorted_dictionary.</span></code><code class="sig-name descname"><span class="pre">SortedDictionary</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/sorted_dictionary.html#SortedDictionary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.sorted_dictionary.SortedDictionary" title="Permalink to this definition">¶</a></dt>
<dd><p>Sorted dictionary behave like a dictionary but keep the item insertion
order. In addition to python 2.7 OrderedDict, SortedDictionary also has
an <a class="reference internal" href="#soma.sorted_dictionary.SortedDictionary.insert" title="soma.sorted_dictionary.SortedDictionary.insert"><code class="xref py py-meth docutils literal notranslate"><span class="pre">insert()</span></code></a> method allowing insersion at a specified index
position.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">SortedDictionary</span> <span class="kn">import</span> <span class="n">SortedDictionary</span>
<span class="n">sd</span> <span class="o">=</span> <span class="n">SortedDictionary</span><span class="p">((</span><span class="s1">&#39;fisrt&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;second&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="n">sd</span><span class="p">[</span><span class="s1">&#39;third&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">sd</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;zero&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">sd</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="o">==</span> <span class="p">[(</span><span class="s1">&#39;zero&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;fisrt&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;second&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;third&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]</span>
</pre></div>
</div>
<p>Initialize the dictionary with a list of (key, value) pairs.</p>
<dl class="py method">
<dt id="soma.sorted_dictionary.SortedDictionary.clear">
<code class="sig-name descname"><span class="pre">clear</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/sorted_dictionary.html#SortedDictionary.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.sorted_dictionary.SortedDictionary.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all items from dictionary</p>
</dd></dl>

<dl class="py method">
<dt id="soma.sorted_dictionary.SortedDictionary.compValues">
<code class="sig-name descname"><span class="pre">compValues</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/sorted_dictionary.html#SortedDictionary.compValues"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.sorted_dictionary.SortedDictionary.compValues" title="Permalink to this definition">¶</a></dt>
<dd><p>Use this comparaison function in sort method parameter in order to sort
the dictionary by values.
if data[key1]&lt;data[key2] return -1
if data[key1]&gt;data[key2] return 1
if data[key1]==data[key2] return 0</p>
</dd></dl>

<dl class="py method">
<dt id="soma.sorted_dictionary.SortedDictionary.copy">
<code class="sig-name descname"><span class="pre">copy</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">a</span> <span class="pre">shallow</span> <span class="pre">copy</span> <span class="pre">of</span> <span class="pre">D</span><a class="reference internal" href="_modules/soma/sorted_dictionary.html#SortedDictionary.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.sorted_dictionary.SortedDictionary.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="soma.sorted_dictionary.SortedDictionary.index">
<code class="sig-name descname"><span class="pre">index</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/sorted_dictionary.html#SortedDictionary.index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.sorted_dictionary.SortedDictionary.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the index of the key in the sorted dictionary, or -1 if this key
isn’t in the dictionary.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.sorted_dictionary.SortedDictionary.insert">
<code class="sig-name descname"><span class="pre">insert</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/sorted_dictionary.html#SortedDictionary.insert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.sorted_dictionary.SortedDictionary.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>insert a (key, value) pair in sorted dictionary before position
<code class="docutils literal notranslate"><span class="pre">index</span></code>. If <code class="docutils literal notranslate"><span class="pre">key</span></code> is already in the dictionary, a KeyError is
raised.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<em>integer</em>) – index of key in the sorted keys</p></li>
<li><p><strong>key</strong> (<em>key to insert</em>) – value associated to key</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.sorted_dictionary.SortedDictionary.items">
<code class="sig-name descname"><span class="pre">items</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/sorted_dictionary.html#SortedDictionary.items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.sorted_dictionary.SortedDictionary.items" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>sorted list of (key, value) pairs</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.sorted_dictionary.SortedDictionary.iteritems">
<code class="sig-name descname"><span class="pre">iteritems</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/sorted_dictionary.html#SortedDictionary.iteritems"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.sorted_dictionary.SortedDictionary.iteritems" title="Permalink to this definition">¶</a></dt>
<dd><p>returns an iterator over the sorted (key, value) pairs</p>
</dd></dl>

<dl class="py method">
<dt id="soma.sorted_dictionary.SortedDictionary.iterkeys">
<code class="sig-name descname"><span class="pre">iterkeys</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/sorted_dictionary.html#SortedDictionary.iterkeys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.sorted_dictionary.SortedDictionary.iterkeys" title="Permalink to this definition">¶</a></dt>
<dd><p>returns an iterator over the sorted keys</p>
</dd></dl>

<dl class="py method">
<dt id="soma.sorted_dictionary.SortedDictionary.itervalues">
<code class="sig-name descname"><span class="pre">itervalues</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/sorted_dictionary.html#SortedDictionary.itervalues"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.sorted_dictionary.SortedDictionary.itervalues" title="Permalink to this definition">¶</a></dt>
<dd><p>returns an iterator over the sorted values</p>
</dd></dl>

<dl class="py method">
<dt id="soma.sorted_dictionary.SortedDictionary.keys">
<code class="sig-name descname"><span class="pre">keys</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/sorted_dictionary.html#SortedDictionary.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.sorted_dictionary.SortedDictionary.keys" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>sorted list of keys</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.sorted_dictionary.SortedDictionary.pop">
<code class="sig-name descname"><span class="pre">pop</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">k</span></em><span class="optional">[</span>, <em class="sig-param"><span class="pre">d</span></em><span class="optional">]</span><span class="sig-paren">)</span> &#x2192; <span class="pre">v,</span> <span class="pre">remove</span> <span class="pre">specified</span> <span class="pre">key</span> <span class="pre">and</span> <span class="pre">return</span> <span class="pre">the</span> <span class="pre">corresponding</span> <span class="pre">value.</span><a class="reference internal" href="_modules/soma/sorted_dictionary.html#SortedDictionary.pop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.sorted_dictionary.SortedDictionary.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>If key is not found, d is returned if given, otherwise KeyError is raised</p>
</dd></dl>

<dl class="py method">
<dt id="soma.sorted_dictionary.SortedDictionary.popitem">
<code class="sig-name descname"><span class="pre">popitem</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">(k,</span> <span class="pre">v),</span> <span class="pre">remove</span> <span class="pre">and</span> <span class="pre">return</span> <span class="pre">some</span> <span class="pre">(key,</span> <span class="pre">value)</span> <span class="pre">pair</span> <span class="pre">as</span> <span class="pre">a</span><a class="reference internal" href="_modules/soma/sorted_dictionary.html#SortedDictionary.popitem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.sorted_dictionary.SortedDictionary.popitem" title="Permalink to this definition">¶</a></dt>
<dd><p>2-tuple; but raise KeyError if D is empty.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.sorted_dictionary.SortedDictionary.setdefault">
<code class="sig-name descname"><span class="pre">setdefault</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">k</span></em><span class="optional">[</span>, <em class="sig-param"><span class="pre">d</span></em><span class="optional">]</span><span class="sig-paren">)</span> &#x2192; <span class="pre">D.get(k,d),</span> <span class="pre">also</span> <span class="pre">set</span> <span class="pre">D[k]=d</span> <span class="pre">if</span> <span class="pre">k</span> <span class="pre">not</span> <span class="pre">in</span> <span class="pre">D</span><a class="reference internal" href="_modules/soma/sorted_dictionary.html#SortedDictionary.setdefault"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.sorted_dictionary.SortedDictionary.setdefault" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="soma.sorted_dictionary.SortedDictionary.sort">
<code class="sig-name descname"><span class="pre">sort</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/sorted_dictionary.html#SortedDictionary.sort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.sorted_dictionary.SortedDictionary.sort" title="Permalink to this definition">¶</a></dt>
<dd><p>Sorts the dictionary using key function key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>key</strong> (<em>function key</em>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.sorted_dictionary.SortedDictionary.update">
<code class="sig-name descname"><span class="pre">update</span></code><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="pre">E</span></em>, <span class="optional">]</span><em class="sig-param"><span class="pre">**F</span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">None.</span>&#160; <span class="pre">Update</span> <span class="pre">D</span> <span class="pre">from</span> <span class="pre">dict/iterable</span> <span class="pre">E</span> <span class="pre">and</span> <span class="pre">F.</span><a class="reference internal" href="_modules/soma/sorted_dictionary.html#SortedDictionary.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.sorted_dictionary.SortedDictionary.update" title="Permalink to this definition">¶</a></dt>
<dd><p>If E is present and has a .keys() method, then does:  for k in E: D[k] = E[k]
If E is present and lacks a .keys() method, then does:  for k, v in E: D[k] = v
In either case, this is followed by: for k in F:  D[k] = F[k]</p>
</dd></dl>

<dl class="py method">
<dt id="soma.sorted_dictionary.SortedDictionary.values">
<code class="sig-name descname"><span class="pre">values</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/sorted_dictionary.html#SortedDictionary.values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.sorted_dictionary.SortedDictionary.values" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>values</strong> – sorted list of values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)">list</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-soma.sqlite_tools">
<span id="submodule-sqlite-tools"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">sqlite_tools</span></code><a class="headerlink" href="#module-soma.sqlite_tools" title="Permalink to this headline">¶</a></h1>
<p>This module contains functions and classes related to sqlite databases.</p>
<ul class="simple">
<li><p>author: Yann Cointepas</p></li>
<li><p>organization: NeuroSpin</p></li>
<li><p>license: <a class="reference external" href="http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.html">CeCILL B</a></p></li>
</ul>
<dl class="py class">
<dt id="soma.sqlite_tools.ThreadSafeSQLiteConnection">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.sqlite_tools.</span></code><code class="sig-name descname"><span class="pre">ThreadSafeSQLiteConnection</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/sqlite_tools.html#ThreadSafeSQLiteConnection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.sqlite_tools.ThreadSafeSQLiteConnection" title="Permalink to this definition">¶</a></dt>
<dd><p>Python wrapping of SQLite do not allow sharing of database connection between
threads. This class allows to automatically create a connection for each
thread.</p>
<p>A ThreadSafeSQLiteConnection is created with the parameters that
would be used for a call to sqlite3.connect() in a single thread
system. These parameters are stored to allow to create a separate
SQLite connection for any thread with get_connection().</p>
<dl class="py method">
<dt id="soma.sqlite_tools.ThreadSafeSQLiteConnection.close">
<code class="sig-name descname"><span class="pre">close</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/sqlite_tools.html#ThreadSafeSQLiteConnection.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.sqlite_tools.ThreadSafeSQLiteConnection.close" title="Permalink to this definition">¶</a></dt>
<dd><p>After this call no more connection can be opened</p>
</dd></dl>

<dl class="py method">
<dt id="soma.sqlite_tools.ThreadSafeSQLiteConnection.closeSqliteConnections">
<code class="sig-name descname"><span class="pre">closeSqliteConnections</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#soma.sqlite_tools.ThreadSafeSQLiteConnection.closeSqliteConnections" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark the opened connection for all the threads as closed.
Subsequent calls to get_connection() will have to
recreate the sqlite connection with sqlite3.connect().
This method does not delete the connection of the current
thread.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.sqlite_tools.ThreadSafeSQLiteConnection.close_connections">
<code class="sig-name descname"><span class="pre">close_connections</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/sqlite_tools.html#ThreadSafeSQLiteConnection.close_connections"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.sqlite_tools.ThreadSafeSQLiteConnection.close_connections" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark the opened connection for all the threads as closed.
Subsequent calls to get_connection() will have to
recreate the sqlite connection with sqlite3.connect().
This method does not delete the connection of the current
thread.</p>
</dd></dl>

<dl class="py method">
<dt id="soma.sqlite_tools.ThreadSafeSQLiteConnection.currentThreadCleanup">
<code class="sig-name descname"><span class="pre">currentThreadCleanup</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#soma.sqlite_tools.ThreadSafeSQLiteConnection.currentThreadCleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the connection previously created for the current thread with
get_connection()</p>
</dd></dl>

<dl class="py method">
<dt id="soma.sqlite_tools.ThreadSafeSQLiteConnection.delete_connection">
<code class="sig-name descname"><span class="pre">delete_connection</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/sqlite_tools.html#ThreadSafeSQLiteConnection.delete_connection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.sqlite_tools.ThreadSafeSQLiteConnection.delete_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the connection previously created for the current thread with
get_connection()</p>
</dd></dl>

<dl class="py method">
<dt id="soma.sqlite_tools.ThreadSafeSQLiteConnection.get_connection">
<code class="sig-name descname"><span class="pre">get_connection</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/sqlite_tools.html#ThreadSafeSQLiteConnection.get_connection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.sqlite_tools.ThreadSafeSQLiteConnection.get_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a SQLite connection (i.e. the result of sqlite3.connect)
for the current thread. If it does not already exists, it is created
and stored for the current thread. In order to destroy this connection
it is necessary to call self.delete_connection() from the current
thread. If a ThreadSafeSQLiteConnection is destroyed in a thread,
all connections opened in other threads must have been deleted.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-soma.stringtools">
<span id="submodule-stringtools"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">stringtools</span></code><a class="headerlink" href="#module-soma.stringtools" title="Permalink to this headline">¶</a></h1>
<p>This module contains text related functions.</p>
<ul class="simple">
<li><p>author: Yann Cointepas</p></li>
<li><p>organization: NeuroSpin</p></li>
<li><p>license: <a class="reference external" href="http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.html">CeCILL B</a></p></li>
</ul>
<dl class="py function">
<dt id="soma.stringtools.list_to_string">
<code class="sig-prename descclassname"><span class="pre">soma.stringtools.</span></code><code class="sig-name descname"><span class="pre">list_to_string</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/stringtools.html#list_to_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.stringtools.list_to_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="soma.stringtools.quote_string">
<code class="sig-prename descclassname"><span class="pre">soma.stringtools.</span></code><code class="sig-name descname"><span class="pre">quote_string</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unquoted</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/stringtools.html#quote_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.stringtools.quote_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="soma.stringtools.string_to_list">
<code class="sig-prename descclassname"><span class="pre">soma.stringtools.</span></code><code class="sig-name descname"><span class="pre">string_to_list</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/stringtools.html#string_to_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.stringtools.string_to_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="soma.stringtools.unquote_string">
<code class="sig-prename descclassname"><span class="pre">soma.stringtools.</span></code><code class="sig-name descname"><span class="pre">unquote_string</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">quoted</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/stringtools.html#unquote_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.stringtools.unquote_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-soma.thread_calls">
<span id="submodule-thread-calls"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">thread_calls</span></code><a class="headerlink" href="#module-soma.thread_calls" title="Permalink to this headline">¶</a></h1>
<p>This module is useful whenever you need to be sure that a function (more
exactly anything that can be called by python) is executed in a particular
thread.</p>
<p>For exemple, if you use PyMat (which is an interface between Python and a Matlab,
see U{<a class="reference external" href="http://claymore.engineer.gvsu.edu/~steriana/Python">http://claymore.engineer.gvsu.edu/~steriana/Python</a>} for more information)
it is necessary that all calls to pymat.eval are done by the same thread that
called pymat.open. If you want to use PyMat in a multi-threaded application,
you will have to build appropriate calling mechanism as the one proposed in
this module.</p>
<p>The main idea is to use a list containing functions to be called with their
parameters. A single thread is used to get entries from the list and execute
the corresponding functions. Any thread can put a call request on the list
either asynchonously (the requesting thread continues to run without waiting
for the call to be done) or synchronously (the requesting thread is stopped
until the call is done and the result available).</p>
<ul class="simple">
<li><p>author: Yann Cointepas</p></li>
<li><p>organization: NeuroSpin</p></li>
<li><p>license: <a class="reference external" href="http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.html">CeCILL B</a></p></li>
</ul>
<dl class="py class">
<dt id="soma.thread_calls.SingleThreadCalls">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.thread_calls.</span></code><code class="sig-name descname"><span class="pre">SingleThreadCalls</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thread</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/thread_calls.html#SingleThreadCalls"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.thread_calls.SingleThreadCalls" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows the registration of functions that are going to be called from a
single thread. This single thread must continuously call
<a class="reference internal" href="#soma.thread_calls.SingleThreadCalls.processFunctions" title="soma.thread_calls.SingleThreadCalls.processFunctions"><code class="xref py py-meth docutils literal notranslate"><span class="pre">processFunctions()</span></code></a>.</p>
<p>Registration can be blocking (see <a class="reference internal" href="#soma.thread_calls.SingleThreadCalls.call" title="soma.thread_calls.SingleThreadCalls.call"><code class="xref py py-meth docutils literal notranslate"><span class="pre">call()</span></code></a>) or non blocking (see
<a class="reference internal" href="#soma.thread_calls.SingleThreadCalls.push" title="soma.thread_calls.SingleThreadCalls.push"><code class="xref py py-meth docutils literal notranslate"><span class="pre">push()</span></code></a>).</p>
<p>Blocking registration waits for the function to be processed and returns
its result (or raises its exception). Non blocking registration puts the
function in the list and returns immediately, ignoring any return value or
exception.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stc</span> <span class="o">=</span> <span class="n">SingleThreadCall</span><span class="p">()</span>
<span class="n">processingThread</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">stc</span><span class="o">.</span><span class="n">processingLoop</span><span class="p">)</span>
<span class="n">stc</span><span class="o">.</span><span class="n">setProcessingThread</span><span class="p">(</span><span class="n">processingThread</span><span class="p">)</span>
<span class="n">processingThread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<p>The thread passed in parameter is the processing thread of this
SingleThreadCalls. When started (which is not been done by
<code class="xref py py-class docutils literal notranslate"><span class="pre">SingleThreadCall</span></code>) it must continuously call
<a class="reference internal" href="#soma.thread_calls.SingleThreadCalls.processFunctions" title="soma.thread_calls.SingleThreadCalls.processFunctions"><code class="xref py py-meth docutils literal notranslate"><span class="pre">processFunctions()</span></code></a> to execute the functions that have been
registered with <a class="reference internal" href="#soma.thread_calls.SingleThreadCalls.call" title="soma.thread_calls.SingleThreadCalls.call"><code class="xref py py-meth docutils literal notranslate"><span class="pre">call()</span></code></a> and <a class="reference internal" href="#soma.thread_calls.SingleThreadCalls.push" title="soma.thread_calls.SingleThreadCalls.push"><code class="xref py py-meth docutils literal notranslate"><span class="pre">push()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>thread</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/threading.html#threading.Thread" title="(in Python v3.5)"><code class="xref py py-class docutils literal notranslate"><span class="pre">threading.Thread</span></code></a> instance or <em>None</em>) – Processing thread. If <em>None</em>, <code class="xref py py-func docutils literal notranslate"><span class="pre">threading.currentThread()</span></code>
is used.</p>
</dd>
</dl>
<dl class="py method">
<dt id="soma.thread_calls.SingleThreadCalls.call">
<code class="sig-name descname"><span class="pre">call</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/thread_calls.html#SingleThreadCalls.call"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.thread_calls.SingleThreadCalls.call" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a function call and waits for the processing thread to call
it.</p>
<p>Returns the result of the function. If an exception is raised during
the execution of the function, this exception is also raised by
<a class="reference internal" href="#soma.thread_calls.SingleThreadCalls.call" title="soma.thread_calls.SingleThreadCalls.call"><code class="xref py py-meth docutils literal notranslate"><span class="pre">call()</span></code></a>.
Therefore <a class="reference internal" href="#soma.thread_calls.SingleThreadCalls.call" title="soma.thread_calls.SingleThreadCalls.call"><code class="xref py py-meth docutils literal notranslate"><span class="pre">call()</span></code></a> behaves like a direct call to the function.</p>
<p>It is possible to use <a class="reference internal" href="#soma.thread_calls.SingleThreadCalls.call" title="soma.thread_calls.SingleThreadCalls.call"><code class="xref py py-meth docutils literal notranslate"><span class="pre">call()</span></code></a> from the processing thread. In this
case, no registration is done (the function is executed immedialey).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>function</strong> (<em>callable</em>) – function to execute</p></li>
<li><p><strong>args</strong> – parameters of the function</p></li>
<li><p><strong>kwargs</strong> – keyword parameters of the function</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the result of the function call</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>any type</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.thread_calls.SingleThreadCalls.processFunctions">
<code class="sig-name descname"><span class="pre">processFunctions</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">blocking</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/thread_calls.html#SingleThreadCalls.processFunctions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.thread_calls.SingleThreadCalls.processFunctions" title="Permalink to this definition">¶</a></dt>
<dd><p>This method extracts all functions (along with their parameters) from
the queue and execute them. It returns the number of function executed
<em>None</em> if <a class="reference internal" href="#soma.thread_calls.SingleThreadCalls.stop" title="soma.thread_calls.SingleThreadCalls.stop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">self.stop()</span></code></a> has been called (in that case the
processing loop must end).</p>
<p>The processing thread must continuoulsy call this method until <em>None</em>
is returned.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#soma.thread_calls.SingleThreadCalls.processingLoop" title="soma.thread_calls.SingleThreadCalls.processingLoop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">processingLoop()</span></code></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>blocking</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) – if <em>blocking</em> is <em>False</em> (the default), <em>processFunctions</em></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p>Returns 0 immediately if it cannot access the function list (for
example if it is locked by another thread that is registering a
function).</p></li>
<li><p>If <em>blocking</em> is <em>True</em>, <em>processFunctions</em> waits until the
function list is available, and returns the number of function
called</p></li>
<li><p>If <a class="reference internal" href="#soma.thread_calls.SingleThreadCalls.stop" title="soma.thread_calls.SingleThreadCalls.stop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">stop()</span></code></a> has been called, <em>None</em> is returned</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.thread_calls.SingleThreadCalls.processingLoop">
<code class="sig-name descname"><span class="pre">processingLoop</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/thread_calls.html#SingleThreadCalls.processingLoop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.thread_calls.SingleThreadCalls.processingLoop" title="Permalink to this definition">¶</a></dt>
<dd><p>Continuously executes <a class="reference internal" href="#soma.thread_calls.SingleThreadCalls.processFunctions" title="soma.thread_calls.SingleThreadCalls.processFunctions"><code class="xref py py-meth docutils literal notranslate"><span class="pre">processFunctions()</span></code></a> until it returns <em>None</em></p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#soma.thread_calls.SingleThreadCalls.processFunctions" title="soma.thread_calls.SingleThreadCalls.processFunctions"><code class="xref py py-meth docutils literal notranslate"><span class="pre">processFunctions()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="soma.thread_calls.SingleThreadCalls.push">
<code class="sig-name descname"><span class="pre">push</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/thread_calls.html#SingleThreadCalls.push"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.thread_calls.SingleThreadCalls.push" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as the <a class="reference internal" href="#soma.thread_calls.SingleThreadCalls.call" title="soma.thread_calls.SingleThreadCalls.call"><code class="xref py py-meth docutils literal notranslate"><span class="pre">call()</span></code></a> method but always puts the function on the
queue and returns immediatly. If <a class="reference internal" href="#soma.thread_calls.SingleThreadCalls.push" title="soma.thread_calls.SingleThreadCalls.push"><code class="xref py py-meth docutils literal notranslate"><span class="pre">push()</span></code></a> is called from the
processing thread, the function is called immediately (<em>i.e.</em>
synchronously).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>function</strong> (<em>callable</em>) – function to execute</p></li>
<li><p><strong>args</strong> – parameters of the function</p></li>
<li><p><strong>kwargs</strong> – keyword parameters of the function</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>push() does not return anything.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/constants.html#None" title="(in Python v3.5)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.thread_calls.SingleThreadCalls.setProcessingThread">
<code class="sig-name descname"><span class="pre">setProcessingThread</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thread</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/thread_calls.html#SingleThreadCalls.setProcessingThread"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.thread_calls.SingleThreadCalls.setProcessingThread" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the thread that processes the functions. The behaviour of
<a class="reference internal" href="#soma.thread_calls.SingleThreadCalls.call" title="soma.thread_calls.SingleThreadCalls.call"><code class="xref py py-meth docutils literal notranslate"><span class="pre">call()</span></code></a> and <a class="reference internal" href="#soma.thread_calls.SingleThreadCalls.push" title="soma.thread_calls.SingleThreadCalls.push"><code class="xref py py-meth docutils literal notranslate"><span class="pre">push()</span></code></a> is different if called from the
processing thread or from another one.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>thread</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/threading.html#threading.Thread" title="(in Python v3.5)"><code class="xref py py-class docutils literal notranslate"><span class="pre">threading.Thread</span></code></a>) – Processing thread</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="soma.thread_calls.SingleThreadCalls.stop">
<code class="sig-name descname"><span class="pre">stop</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/thread_calls.html#SingleThreadCalls.stop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.thread_calls.SingleThreadCalls.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells the processing thread to finish the processing of functions in the
queue and then stop all processing. This call pushes a special value on
the function list. All functions that are on the list before this value
will be processed but functions registered after the special value will be
ignored.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-soma.translation">
<span id="submodule-translation"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">translation</span></code><a class="headerlink" href="#module-soma.translation" title="Permalink to this headline">¶</a></h1>
<p>Importing this module defines a <a class="reference internal" href="#soma.translation.translate" title="soma.translation.translate"><code class="xref py py-func docutils literal notranslate"><span class="pre">translate()</span></code></a> function that translates
messages of an application. The current implementation does nothing but
defines a minimum API.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">soma.translation</span> <span class="kn">import</span> <span class="n">translate</span> <span class="k">as</span> <span class="n">_</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">configurationFileName</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s1">&#39;Cannot open configuration file &quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
                      <span class="o">%</span> <span class="p">(</span><span class="n">configurationFileName</span><span class="p">,</span> <span class="p">))</span>
</pre></div>
</div>
<ul class="simple">
<li><p>author: Yann Cointepas</p></li>
<li><p>organization: NeuroSpin</p></li>
<li><p>license: <a class="reference external" href="http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.html">CeCILL B</a></p></li>
</ul>
<dl class="py function">
<dt id="soma.translation.translate">
<code class="sig-prename descclassname"><span class="pre">soma.translation.</span></code><code class="sig-name descname"><span class="pre">translate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/translation.html#translate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.translation.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate <em>message</em> into the current application language.
The current implementation does nothing, <em>message</em> is returned untouched.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>message</strong> (<em>unicode</em>) – message to translate</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-soma.undefined">
<span id="submodule-undefined"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">undefined</span></code><a class="headerlink" href="#module-soma.undefined" title="Permalink to this headline">¶</a></h1>
<p><code class="xref py py-attr docutils literal notranslate"><span class="pre">Undefined</span></code> (or <code class="xref py py-attr docutils literal notranslate"><span class="pre">undefined</span></code>) is a constant that can be used as
a special value different from any other Python value including <em>None</em>.</p>
<p>If the <a class="reference external" href="http://docs.enthought.com/traits/index.html">traits</a> library is available, we just use its
<a class="reference external" href="http://docs.enthought.com/traits/traits_api_reference/trait_base.html#traits.trait_base.Undefined">Undefined</a> implementation.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">soma.undefined</span> <span class="kn">import</span> <span class="n">undefined</span>

<span class="k">if</span> <span class="nb">object</span><span class="o">.</span><span class="n">value</span> <span class="ow">is</span> <span class="n">undefined</span><span class="p">:</span>
    <span class="c1"># do something</span>
</pre></div>
</div>
<ul class="simple">
<li><p>author: Yann Cointepas</p></li>
<li><p>organization: NeuroSpin</p></li>
<li><p>license: <a class="reference external" href="http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.html">CeCILL B</a></p></li>
</ul>
</div>
<div class="section" id="module-soma.utils">
<span id="submodule-utils"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">utils</span></code><a class="headerlink" href="#module-soma.utils" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-soma.utils.find_library">
<span id="submodule-utils-find-library"></span><h2>SubModule: <code class="docutils literal notranslate"><span class="pre">utils.find_library</span></code><a class="headerlink" href="#module-soma.utils.find_library" title="Permalink to this headline">¶</a></h2>
<p>replacement for <a class="reference external" href="https://docs.python.org/3.5/library/ctypes.html#ctypes.util.find_library" title="(in Python v3.5)"><code class="xref py py-func docutils literal notranslate"><span class="pre">ctypes.util.find_library()</span></code></a>.
Provides a better version of <a class="reference internal" href="#soma.utils.find_library.find_library" title="soma.utils.find_library.find_library"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_library()</span></code></a>, and allows to patch the
<a class="reference external" href="https://docs.python.org/3.5/library/ctypes.html#module-ctypes" title="(in Python v3.5)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ctypes</span></code></a> module to use our version: see <a class="reference internal" href="#soma.utils.find_library.patch_ctypes_find_library" title="soma.utils.find_library.patch_ctypes_find_library"><code class="xref py py-func docutils literal notranslate"><span class="pre">patch_ctypes_find_library()</span></code></a>.</p>
<dl class="py function">
<dt id="soma.utils.find_library.find_library">
<code class="sig-prename descclassname"><span class="pre">soma.utils.find_library.</span></code><code class="sig-name descname"><span class="pre">find_library</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/utils/find_library.html#find_library"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.utils.find_library.find_library" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.5/library/ctypes.html#ctypes.util.find_library" title="(in Python v3.5)"><code class="xref py py-func docutils literal notranslate"><span class="pre">ctypes.util.find_library()</span></code></a> is broken on linux at least: it relies
on <code class="docutils literal notranslate"><span class="pre">ldconfig</span></code>, which only searches system paths, not user paths nor
<code class="docutils literal notranslate"><span class="pre">LD_LIBRARY_PATH</span></code>, or alternatively uses <code class="docutils literal notranslate"><span class="pre">gcc</span></code>, which is not always
installed nor configured.</p>
<p>Here we are looking in <code class="docutils literal notranslate"><span class="pre">[[DY]LD_LIBRARY_]PATH</span></code> (depending on the system)</p>
</dd></dl>

<dl class="py function">
<dt id="soma.utils.find_library.patch_ctypes_find_library">
<code class="sig-prename descclassname"><span class="pre">soma.utils.find_library.</span></code><code class="sig-name descname"><span class="pre">patch_ctypes_find_library</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/utils/find_library.html#patch_ctypes_find_library"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.utils.find_library.patch_ctypes_find_library" title="Permalink to this definition">¶</a></dt>
<dd><p>replace <a class="reference external" href="https://docs.python.org/3.5/library/ctypes.html#ctypes.util.find_library" title="(in Python v3.5)"><code class="xref py py-func docutils literal notranslate"><span class="pre">ctypes.util.find_library()</span></code></a> by our version</p>
</dd></dl>

</div>
<div class="section" id="module-soma.utils.functiontools">
<span id="submodule-utils-functiontools"></span><h2>SubModule: <code class="docutils literal notranslate"><span class="pre">utils.functiontools</span></code><a class="headerlink" href="#module-soma.utils.functiontools" title="Permalink to this headline">¶</a></h2>
<p>Utility classes and functions for Python callable.</p>
<ul class="simple">
<li><p>author: Yann Cointepas</p></li>
<li><p>organization: <a class="reference external" href="http://www.neurospin.org">NeuroSpin</a></p></li>
<li><p>license: <a class="reference external" href="http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.html">CeCILL B</a></p></li>
</ul>
<dl class="py class">
<dt id="soma.utils.functiontools.SomaPartial">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.utils.functiontools.</span></code><code class="sig-name descname"><span class="pre">SomaPartial</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/utils/functiontools.html#SomaPartial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.utils.functiontools.SomaPartial" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a reimplementation of <a class="reference external" href="https://docs.python.org/3.5/library/functools.html#functools.partial" title="(in Python v3.5)"><code class="xref py py-func docutils literal notranslate"><span class="pre">functools.partial()</span></code></a>, which adds
compatibility with the <code class="xref py py-mod docutils literal notranslate"><span class="pre">traits</span></code> module.</p>
<p>See the documentation of <a class="reference external" href="https://docs.python.org/3.5/library/functools.html#functools.partial" title="(in Python v3.5)"><code class="xref py py-func docutils literal notranslate"><span class="pre">functools.partial()</span></code></a> for details:
<a class="reference external" href="https://docs.python.org/library/functools.html#functools.partial">https://docs.python.org/library/functools.html#functools.partial</a></p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">soma.functiontools</span> <span class="kn">import</span> <span class="n">partial</span>

<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>

<span class="n">g</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span> <span class="c1"># calls f(&#39;a&#39;, &#39;b&#39;, c=&#39;c&#39;)</span>
</pre></div>
</div>
<dl class="py method">
<dt id="soma.utils.functiontools.SomaPartial.func_code">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">func_code</span></code><a class="headerlink" href="#soma.utils.functiontools.SomaPartial.func_code" title="Permalink to this definition">¶</a></dt>
<dd><p>This property make SomaPartial useable with traits module. The method
on_trait_change is requiring that the function has a func_code.co_argcount
attribute.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="soma.utils.functiontools.checkParameterCount">
<code class="sig-prename descclassname"><span class="pre">soma.utils.functiontools.</span></code><code class="sig-name descname"><span class="pre">checkParameterCount</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">paramCount</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/utils/functiontools.html#checkParameterCount"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.utils.functiontools.checkParameterCount" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that a callable can be called with <em>paramCount</em> arguments. If not, a
RuntimeError is raised.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#soma.utils.functiontools.getArgumentsSpecification" title="soma.utils.functiontools.getArgumentsSpecification"><code class="xref py py-func docutils literal notranslate"><span class="pre">getArgumentsSpecification()</span></code></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>callable</strong> (<em>callable</em>) – <em>function</em>, <em>method</em>, <em>class</em> or <em>instance</em> to inspect</p></li>
<li><p><strong>paramCount</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – number of parameters</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="soma.utils.functiontools.drange">
<code class="sig-prename descclassname"><span class="pre">soma.utils.functiontools.</span></code><code class="sig-name descname"><span class="pre">drange</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/utils/functiontools.html#drange"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.utils.functiontools.drange" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates lists containing arithmetic progressions of any number type (int,
float, …)</p>
</dd></dl>

<dl class="py function">
<dt id="soma.utils.functiontools.getArgumentsSpecification">
<code class="sig-prename descclassname"><span class="pre">soma.utils.functiontools.</span></code><code class="sig-name descname"><span class="pre">getArgumentsSpecification</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callable</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/utils/functiontools.html#getArgumentsSpecification"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.utils.functiontools.getArgumentsSpecification" title="Permalink to this definition">¶</a></dt>
<dd><p>This is an extension of Python module <code class="xref py py-mod docutils literal notranslate"><span class="pre">inspect.getargspec</span></code> that
accepts classes and returns only information about the parameters that can
be used in a call to <em>callable</em> (<em>e.g.</em> the first <em>self</em> parameter of bound
methods is ignored). If <em>callable</em> has not an appropriate type, a
<code class="xref py py-class docutils literal notranslate"><span class="pre">TypeError</span></code> exception is raised.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>callable</strong> (<em>callable</em>) – <em>function</em>, <em>method</em>, <em>class</em> or <em>instance</em> to inspect</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>As <a class="reference external" href="https://docs.python.org/3.5/library/inspect.html#inspect.getargspec" title="(in Python v3.5)"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect.getargspec()</span></code></a>, returns
<em>(args, varargs, varkw, defaults)</em> where <em>args</em> is a list of the
argument names (it may contain nested lists). <em>varargs</em> and <em>varkw</em> are
the names of the <code class="docutils literal notranslate"><span class="pre">*</span></code> and <code class="docutils literal notranslate"><span class="pre">**</span></code> arguments or <em>None</em>. <em>defaults</em> is a
n-tuple of the default values of the last <em>n</em> arguments.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#tuple" title="(in Python v3.5)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="soma.utils.functiontools.getCallableString">
<code class="sig-prename descclassname"><span class="pre">soma.utils.functiontools.</span></code><code class="sig-name descname"><span class="pre">getCallableString</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callable</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/utils/functiontools.html#getCallableString"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.utils.functiontools.getCallableString" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a translated human readable string representing a callable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>callable</strong> (<em>callable</em>) – <em>function</em>, <em>method</em>, <em>class</em> or <em>instance</em> to inspect</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>type and name of the callable</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="soma.utils.functiontools.hasParameter">
<code class="sig-prename descclassname"><span class="pre">soma.utils.functiontools.</span></code><code class="sig-name descname"><span class="pre">hasParameter</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameterName</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/utils/functiontools.html#hasParameter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.utils.functiontools.hasParameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <em>True</em> if <em>callable</em> can be called with a parameter named
<em>parameterName</em>. Otherwise, returns <em>False</em>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#soma.utils.functiontools.getArgumentsSpecification" title="soma.utils.functiontools.getArgumentsSpecification"><code class="xref py py-func docutils literal notranslate"><span class="pre">getArgumentsSpecification()</span></code></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>callable</strong> (<em>callable</em>) – <em>function</em>, <em>method</em>, <em>class</em> or <em>instance</em> to inspect</p></li>
<li><p><strong>parameterName</strong> (<em>string</em>) – name of the parameter</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="soma.utils.functiontools.numberOfParameterRange">
<code class="sig-prename descclassname"><span class="pre">soma.utils.functiontools.</span></code><code class="sig-name descname"><span class="pre">numberOfParameterRange</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callable</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/utils/functiontools.html#numberOfParameterRange"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.utils.functiontools.numberOfParameterRange" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the minimum and maximum number of parameter that can be used to
call a function. If the maximum number of argument is not defined, it is
set to <em>None</em>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#soma.utils.functiontools.getArgumentsSpecification" title="soma.utils.functiontools.getArgumentsSpecification"><code class="xref py py-func docutils literal notranslate"><span class="pre">getArgumentsSpecification()</span></code></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>callable</strong> (<em>callable</em>) – <em>function</em>, <em>method</em>, <em>class</em> or <em>instance</em> to inspect</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>two elements (minimum, maximum)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#tuple" title="(in Python v3.5)">tuple</a></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-soma.utils.loader">
<span id="submodule-utils-loader"></span><h2>SubModule: <code class="docutils literal notranslate"><span class="pre">utils.loader</span></code><a class="headerlink" href="#module-soma.utils.loader" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="soma.utils.loader.cleanup">
<code class="sig-prename descclassname"><span class="pre">soma.utils.loader.</span></code><code class="sig-name descname"><span class="pre">cleanup</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attribute</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/utils/loader.html#cleanup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.utils.loader.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>cleanup avoiding:</p>
<ul class="simple">
<li><p>Windows reserved characters</p></li>
<li><p>‘_’ since it is reserved by Brainvisa</p></li>
<li><p>tab, newline and null character</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt id="soma.utils.loader.insert_tool">
<code class="sig-prename descclassname"><span class="pre">soma.utils.loader.</span></code><code class="sig-name descname"><span class="pre">insert_tool</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tools</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allowed_instances</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/utils/loader.html#insert_tool"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.utils.loader.insert_tool" title="Permalink to this definition">¶</a></dt>
<dd><p>Add tool to list if tool is sub class
of one item in allowed_instances</p>
</dd></dl>

<dl class="py function">
<dt id="soma.utils.loader.load_objects">
<code class="sig-prename descclassname"><span class="pre">soma.utils.loader.</span></code><code class="sig-name descname"><span class="pre">load_objects</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">object_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allowed_instances</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/utils/loader.html#load_objects"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.utils.loader.load_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a python object</p>
<p>The object is described by a string <cite>module_name</cite> and <cite>object_name</cite>.
If <cite>object_name</cite> is None import the full module content.
Can also filtered objects and only keep objects of
types defined in allowed_instances.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>module</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – module name</p></li>
<li><p><strong>tool</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – tool name</p></li>
<li><p><strong>allowed_instances</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)"><em>list</em></a>) – list of instance to load</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>tools</strong> – a list of objects.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)">list</a></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-soma.utils.weak_proxy">
<span id="submodule-utils-weak-proxy"></span><h2>SubModule: <code class="docutils literal notranslate"><span class="pre">utils.weak_proxy</span></code><a class="headerlink" href="#module-soma.utils.weak_proxy" title="Permalink to this headline">¶</a></h2>
<p>Utility functions to make a weak proxy which also keeps an access to its original object reference. <a class="reference external" href="https://docs.python.org/3.5/library/weakref.html#weakref.proxy" title="(in Python v3.5)"><code class="xref py py-func docutils literal notranslate"><span class="pre">weakref.proxy()</span></code></a> doesn’t allow this, but functions that check types (C+/Python bindings for instance) cannot work with proxies.</p>
<p>We build such a proxy by setting a <code class="xref py py-func docutils literal notranslate"><span class="pre">weakref.ref()</span></code> object in the proxy (actually in the object itself).</p>
<dl class="py function">
<dt id="soma.utils.weak_proxy.get_ref">
<code class="sig-prename descclassname"><span class="pre">soma.utils.weak_proxy.</span></code><code class="sig-name descname"><span class="pre">get_ref</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/utils/weak_proxy.html#get_ref"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.utils.weak_proxy.get_ref" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a regular reference to an object, whether it is already a regular
reference, a weak reference, or a weak proxy which holds an access to the
original reference (built using <a class="reference internal" href="#soma.utils.weak_proxy.weak_proxy" title="soma.utils.weak_proxy.weak_proxy"><code class="xref py py-func docutils literal notranslate"><span class="pre">weak_proxy()</span></code></a>).
In case of a weak proxy not built using <a class="reference internal" href="#soma.utils.weak_proxy.weak_proxy" title="soma.utils.weak_proxy.weak_proxy"><code class="xref py py-func docutils literal notranslate"><span class="pre">weak_proxy()</span></code></a>, we try to get
the <code class="docutils literal notranslate"><span class="pre">self</span></code> from a bound method of the object, namely
<code class="docutils literal notranslate"><span class="pre">obj.__init__.__self__</span></code>, if it exists.</p>
</dd></dl>

<dl class="py function">
<dt id="soma.utils.weak_proxy.weak_proxy">
<code class="sig-prename descclassname"><span class="pre">soma.utils.weak_proxy.</span></code><code class="sig-name descname"><span class="pre">weak_proxy</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/utils/weak_proxy.html#weak_proxy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.utils.weak_proxy.weak_proxy" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a weak proxy (<code class="xref py py-class docutils literal notranslate"><span class="pre">weakref.ProxyType</span></code>) from an object, if it
is not already one, and keep a reference to the original object (via a
<code class="xref py py-class docutils literal notranslate"><span class="pre">weakref.ReferenceType</span></code>) in it.</p>
<p><em>callback</em> is passed to <a class="reference external" href="https://docs.python.org/3.5/library/weakref.html#weakref.proxy" title="(in Python v3.5)"><code class="xref py py-func docutils literal notranslate"><span class="pre">weakref.proxy()</span></code></a>.</p>
</dd></dl>

</div>
</div>
<div class="section" id="module-soma.uuid">
<span id="submodule-uuid"></span><h1>SubModule: <code class="docutils literal notranslate"><span class="pre">uuid</span></code><a class="headerlink" href="#module-soma.uuid" title="Permalink to this headline">¶</a></h1>
<p>Universal unique identifier.</p>
<ul class="simple">
<li><p>author: Yann Cointepas</p></li>
<li><p>organization: NeuroSpin</p></li>
<li><p>license: <a class="reference external" href="http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.html">CeCILL B</a></p></li>
</ul>
<dl class="py class">
<dt id="soma.uuid.Uuid">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soma.uuid.</span></code><code class="sig-name descname"><span class="pre">Uuid</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/soma/uuid.html#Uuid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soma.uuid.Uuid" title="Permalink to this definition">¶</a></dt>
<dd><p>An Uuid instance is a universal unique identifier. It is a 128 bits
random value.</p>
<p>Uuid constructor. If <em>uuid</em> is ommited or <em>None</em>, a new random
Uuid is created; if it is a string if must be 36 characters long and
follow the pattern:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">XXXXXXXX</span><span class="o">-</span><span class="n">XXXX</span><span class="o">-</span><span class="n">XXXX</span><span class="o">-</span><span class="n">XXXX</span><span class="o">-</span><span class="n">XXXXXXXXXXXX</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">X</span></code> is an
hexadecimal digit (example:
<code class="docutils literal notranslate"><span class="pre">'ad2d8fb0-7831-50bc-2fb6-5df048304001'</span></code>).</p>
<p>If <em>uuid</em> is an Uuid instance, no new instance is created, in this
case, <em>Uuid(uuid)</em> returns <em>uuid</em>.</p>
</dd></dl>

</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">SubModule: <code class="docutils literal notranslate"><span class="pre">activate_virtualenv</span></code></a></li>
<li><a class="reference internal" href="#module-soma.application">SubModule: <code class="docutils literal notranslate"><span class="pre">application</span></code></a></li>
<li><a class="reference internal" href="#module-soma.archive">SubModule: <code class="docutils literal notranslate"><span class="pre">archive</span></code></a></li>
<li><a class="reference internal" href="#module-soma.bufferandfile">SubModule: <code class="docutils literal notranslate"><span class="pre">bufferandfile</span></code></a></li>
<li><a class="reference internal" href="#module-soma.config">SubModule: <code class="docutils literal notranslate"><span class="pre">config</span></code></a></li>
<li><a class="reference internal" href="#submodule-controller-traits-based-controller-objects">SubModule: <code class="docutils literal notranslate"><span class="pre">controller</span></code>: Traits-based controller objects</a><ul>
<li><a class="reference internal" href="#classes">Classes</a></li>
<li><a class="reference internal" href="#module-soma.controller">API</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-soma.crypt">SubModule: <code class="docutils literal notranslate"><span class="pre">crypt</span></code></a></li>
<li><a class="reference internal" href="#module-soma.debug">SubModule: <code class="docutils literal notranslate"><span class="pre">debug</span></code></a></li>
<li><a class="reference internal" href="#module-soma.factory">SubModule: <code class="docutils literal notranslate"><span class="pre">factory</span></code></a></li>
<li><a class="reference internal" href="#module-soma.fom">SubModule: <code class="docutils literal notranslate"><span class="pre">fom</span></code>: File Organization Model</a><ul>
<li><a class="reference internal" href="#file-organization-model-fom">File Organization Model (FOM)</a><ul>
<li><a class="reference internal" href="#fom-definition">FOM definition</a></li>
<li><a class="reference internal" href="#how-to-use-foms">How to use FOMS</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-soma.global_naming">SubModule: <code class="docutils literal notranslate"><span class="pre">global_naming</span></code></a></li>
<li><a class="reference internal" href="#module-soma.html">SubModule: <code class="docutils literal notranslate"><span class="pre">html</span></code></a></li>
<li><a class="reference internal" href="#module-soma.importer">SubModule: <code class="docutils literal notranslate"><span class="pre">importer</span></code></a></li>
<li><a class="reference internal" href="#module-soma.info">SubModule: <code class="docutils literal notranslate"><span class="pre">info</span></code></a></li>
<li><a class="reference internal" href="#module-soma.logging">SubModule: <code class="docutils literal notranslate"><span class="pre">logging</span></code></a></li>
<li><a class="reference internal" href="#module-soma.minf.api">SubModule: <code class="docutils literal notranslate"><span class="pre">minf</span></code></a></li>
<li><a class="reference internal" href="#module-soma.mpfork">SubModule: <code class="docutils literal notranslate"><span class="pre">mpfork</span></code></a></li>
<li><a class="reference internal" href="#module-soma.notification">SubModule: <code class="docutils literal notranslate"><span class="pre">notification</span></code></a></li>
<li><a class="reference internal" href="#module-soma.path">SubModule: <code class="docutils literal notranslate"><span class="pre">path</span></code></a></li>
<li><a class="reference internal" href="#module-soma.qimage2ndarray">SubModule: <code class="docutils literal notranslate"><span class="pre">qimage2ndarray</span></code></a></li>
<li><a class="reference internal" href="#module-soma.qt_gui">SubModule: <code class="docutils literal notranslate"><span class="pre">qt_gui</span></code></a></li>
<li><a class="reference internal" href="#module-soma.qt_gui.controller_widget">SubModule: <code class="docutils literal notranslate"><span class="pre">qt_gui.controller_widget</span></code></a></li>
<li><a class="reference internal" href="#module-soma.qt_gui.io">SubModule: <code class="docutils literal notranslate"><span class="pre">qt_gui.io</span></code></a></li>
<li><a class="reference internal" href="#module-soma.qt_gui.qt_backend">SubModule: <code class="docutils literal notranslate"><span class="pre">qt_gui.qt_backend</span></code></a></li>
<li><a class="reference internal" href="#module-soma.qt_gui.qtThread">SubModule: <code class="docutils literal notranslate"><span class="pre">qt_gui.qtThread</span></code></a></li>
<li><a class="reference internal" href="#module-soma.qt_gui.rangeSlider">SubModule: <code class="docutils literal notranslate"><span class="pre">qt_gui.rangeSlider</span></code></a></li>
<li><a class="reference internal" href="#module-soma.qt_gui.timered_widgets">SubModule: <code class="docutils literal notranslate"><span class="pre">qt_gui.timered_widgets</span></code></a></li>
<li><a class="reference internal" href="#module-soma.safemkdir">SubModule: <code class="docutils literal notranslate"><span class="pre">safemkdir</span></code></a></li>
<li><a class="reference internal" href="#module-soma.serialization">SubModule: <code class="docutils literal notranslate"><span class="pre">serialization</span></code></a></li>
<li><a class="reference internal" href="#module-soma.singleton">SubModule: <code class="docutils literal notranslate"><span class="pre">singleton</span></code></a></li>
<li><a class="reference internal" href="#module-soma.somatime">SubModule: <code class="docutils literal notranslate"><span class="pre">somatime</span></code></a></li>
<li><a class="reference internal" href="#module-soma.sorted_dictionary">SubModule: <code class="docutils literal notranslate"><span class="pre">sorted_dictionary</span></code></a></li>
<li><a class="reference internal" href="#module-soma.sqlite_tools">SubModule: <code class="docutils literal notranslate"><span class="pre">sqlite_tools</span></code></a></li>
<li><a class="reference internal" href="#module-soma.stringtools">SubModule: <code class="docutils literal notranslate"><span class="pre">stringtools</span></code></a></li>
<li><a class="reference internal" href="#module-soma.thread_calls">SubModule: <code class="docutils literal notranslate"><span class="pre">thread_calls</span></code></a></li>
<li><a class="reference internal" href="#module-soma.translation">SubModule: <code class="docutils literal notranslate"><span class="pre">translation</span></code></a></li>
<li><a class="reference internal" href="#module-soma.undefined">SubModule: <code class="docutils literal notranslate"><span class="pre">undefined</span></code></a></li>
<li><a class="reference internal" href="#module-soma.utils">SubModule: <code class="docutils literal notranslate"><span class="pre">utils</span></code></a><ul>
<li><a class="reference internal" href="#module-soma.utils.find_library">SubModule: <code class="docutils literal notranslate"><span class="pre">utils.find_library</span></code></a></li>
<li><a class="reference internal" href="#module-soma.utils.functiontools">SubModule: <code class="docutils literal notranslate"><span class="pre">utils.functiontools</span></code></a></li>
<li><a class="reference internal" href="#module-soma.utils.loader">SubModule: <code class="docutils literal notranslate"><span class="pre">utils.loader</span></code></a></li>
<li><a class="reference internal" href="#module-soma.utils.weak_proxy">SubModule: <code class="docutils literal notranslate"><span class="pre">utils.weak_proxy</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-soma.uuid">SubModule: <code class="docutils literal notranslate"><span class="pre">uuid</span></code></a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Soma-base documentation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/api.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="index.html" title="Soma-base documentation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Soma-base 5.1.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">SubModule: <code class="docutils literal notranslate"><span class="pre">activate_virtualenv</span></code></a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2011, IFR49.org.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.4.
    </div>
  </body>
</html>